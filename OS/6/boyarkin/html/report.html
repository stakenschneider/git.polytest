<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html xml:lang="ru" > 
<head><title></title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-5"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- html --> 
<meta name="src" content="report.tex"> 
<meta name="date" content="2017-01-22 21:42:00"> 
<link rel="stylesheet" type="text/css" href="report.css"> 
</head><body 
>
<!--l. 59--><p class="noindent" >
                                                                                               
                                                                                               
<div class="center" 
>
<!--l. 60--><p class="noindent" >
<!--l. 63--><p class="noindent" ><span 
class="lacc-1000">&#x0421;<span 
class="small-caps">&#x0410;</span>&#x043D;&#x043A;&#x0442;-&#x041F;&#x0415;&#x0442;&#x0415;&#x0440;&#x0431;&#x0443;&#x0440;&#x0433;&#x0441;&#x043A;&#x0438;&#x0439; &#x041F;&#x043E;&#x043B;&#x0438;&#x0442;&#x0415;&#x0445;&#x043D;&#x0438;&#x0447;&#x0415;&#x0441;&#x043A;&#x0438;&#x0439; &#x0423;&#x043D;&#x0438;&#x0432;&#x0415;&#x0440;&#x0441;&#x0438;&#x0442;&#x0415;&#x0442; &#x041F;&#x0415;&#x0442;&#x0440;<span 
class="small-caps">&#x0410;</span> &#x0412;&#x0415;&#x043B;&#x0438;&#x043A;&#x043E;&#x0433;&#x043E;</span><br /><br />
<span 
class="lacc-1000">&#x041A;<span 
class="small-caps">&#x0410;</span>&#x0444;&#x0415;&#x0434;&#x0440;<span 
class="small-caps">&#x0410;</span> &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0415;&#x0440;&#x043D;&#x044B;&#x0445; &#x0441;&#x0438;&#x0441;&#x0442;&#x0415;&#x043C; &#x0438; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;<span 
class="small-caps">&#x0410;</span>&#x043C;&#x043C;&#x043D;&#x044B;&#x0445; &#x0442;&#x0415;&#x0445;&#x043D;&#x043E;&#x043B;&#x043E;&#x0433;&#x0438;&#x0439;</span>
<!--l. 70--><p class="noindent" ><span 
class="labx-1000">&#x041E;&#x0442;&#x0447;&#x0451;&#x0442; &#x043F;&#x043E; &#x043B;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430;&#x0442;&#x043E;&#x0440;&#x043D;&#x043E;&#x0439; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0435; &#x2116;6</span><br /><br />
<span 
class="labx-1000">&#x041A;&#x0443;&#x0440;&#x0441;: «&#x041E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x044B;&#x0435; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B;»</span><br /><br />
<span 
class="labx-1000">&#x0422;&#x0435;&#x043C;&#x0430;: «&#x0421;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x0430; &#x043C;&#x0435;&#x0436;&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0440;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x044F; Windows»</span><br /><br />
</div>
<!--l. 73--><p class="indent" >                         <div class="minipage">&#x0412;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0438;&#x043B; &#x0441;&#x0442;&#x0443;&#x0434;&#x0435;&#x043D;&#x0442;:<br 
class="newline" /> &#x0411;&#x043E;&#x044F;&#x0440;&#x043A;&#x0438;&#x043D; &#x041D;&#x0438;&#x043A;&#x0438;&#x0442;&#x0430; &#x0421;&#x0435;&#x0440;&#x0433;&#x0435;&#x0435;&#x0432;&#x0438;&#x0447;<br 
class="newline" />&#x0413;&#x0440;&#x0443;&#x043F;&#x043F;&#x0430;: 43501/3<br 
class="newline" />
<!--l. 79--><p class="noindent" >&#x041F;&#x0440;&#x043E;&#x0432;&#x0435;&#x0440;&#x0438;&#x043B;:<br 
class="newline" /> &#x0414;&#x0443;&#x0448;&#x0443;&#x0442;&#x0438;&#x043D;&#x0430; &#x0415;&#x043B;&#x0435;&#x043D;&#x0430; &#x0412;&#x043B;&#x0430;&#x0434;&#x0438;&#x043C;&#x0438;&#x0440;&#x043E;&#x0432;&#x043D;&#x0430;
</div>
<div class="center" 
>
<!--l. 83--><p class="noindent" >
<!--l. 84--><p class="noindent" >&#x0421;&#x0430;&#x043D;&#x043A;&#x0442;-&#x041F;&#x0435;&#x0442;&#x0435;&#x0440;&#x0431;&#x0443;&#x0440;&#x0433;<br />
2017&#x00A0;&#x0433;.</div>
                                                                                               
                                                                                               
                                                                                               
                                                                                               
<a 
 id="x1-1000"></a>
   <h2 class="likechapterHead"><a 
 id="x1-2000"></a>&#x0421;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0430;&#x043D;&#x0438;&#x0435;</h2> <div class="tableofcontents">
   <span class="chapterToc" >1 <a 
href="#x1-30001" id="QQ2-1-3">&#x041B;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430;&#x0442;&#x043E;&#x0440;&#x043D;&#x0430;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430; &#x2116;6</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.1 <a 
href="#x1-40001" id="QQ2-1-4">&#x0426;&#x0435;&#x043B;&#x044C; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.2 <a 
href="#x1-50002" id="QQ2-1-5">&#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.3 <a 
href="#x1-120003" id="QQ2-1-12">&#x0425;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B;</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.4 <a 
href="#x1-130004" id="QQ2-1-16">&#x0425;&#x043E;&#x0434; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.4.1 <a 
href="#x1-140001" id="QQ2-1-17">&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 1. &#x041D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.4.2 <a 
href="#x1-170002" id="QQ2-1-26">&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 2. &#x0418;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.4.3 <a 
href="#x1-210003" id="QQ2-1-42">&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 3. &#x0421;&#x043E;&#x043A;&#x0435;&#x0442;&#x044B;</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.4.4 <a 
href="#x1-270004" id="QQ2-1-70">&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 4. &#x0421;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B; &#x0432; Windows</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.4.5 <a 
href="#x1-290005" id="QQ2-1-75">&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 5. &#x0420;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0430;&#x044F; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.4.6 <a 
href="#x1-310006" id="QQ2-1-80">&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 6. &#x041F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x044B;&#x0435; &#x0441;&#x043B;&#x043E;&#x0442;&#x044B;</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.5 <a 
href="#x1-350005" id="QQ2-1-93">&#x0412;&#x044B;&#x0432;&#x043E;&#x0434;</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.6 <a 
href="#x1-360006" id="QQ2-1-94">&#x0421;&#x043F;&#x0438;&#x0441;&#x043E;&#x043A; &#x043B;&#x0438;&#x0442;&#x0435;&#x0440;&#x0430;&#x0442;&#x0443;&#x0440;&#x044B;</a></span>
   </div>
                                                                                               
                                                                                               
                                                                                               
                                                                                               
   <h2 class="chapterHead"><span class="titlemark">&#x0413;&#x043B;&#x0430;&#x0432;&#x0430;&#x00A0;1</span><br /><a 
 id="x1-30001"></a>&#x041B;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430;&#x0442;&#x043E;&#x0440;&#x043D;&#x0430;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430; &#x2116;6</h2>
<a 
 id="x1-3001r1"></a>
<h3 class="sectionHead"><span class="titlemark">1.1   </span> <a 
 id="x1-40001"></a>&#x0426;&#x0435;&#x043B;&#x044C; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</h3>
<!--l. 96--><p class="noindent" >&#x0418;&#x0437;&#x0443;&#x0447;&#x0438;&#x0442;&#x044C; &#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x0430; &#x043C;&#x0435;&#x0436;&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0440;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x044F; &#x0432; &#x041E;&#x0421; Windows.
<a 
 id="x1-4001r4"></a>
<h3 class="sectionHead"><span class="titlemark">1.2   </span> <a 
 id="x1-50002"></a>&#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</h3>
<h5 class="subsubsectionHead"><a 
 id="x1-60002"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 1. &#x041D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;</h5>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-6002x1">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0442;&#x044C;  &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0435;  &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435;,  &#x043F;&#x043E;&#x0437;&#x0432;&#x043E;&#x043B;&#x044F;&#x044E;&#x0449;&#x0435;&#x0435;  &#x043D;&#x0430;&#x0431;&#x0438;&#x0440;&#x0430;&#x0435;&#x043C;&#x044B;&#x0435;  &#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x044B;  &#x0432;  &#x0442;&#x0435;&#x0440;&#x043C;&#x0438;&#x043D;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x043C;  &#x043E;&#x043A;&#x043D;&#x0435;
     &#x043A;&#x043E;&#x043C;&#x0430;&#x043D;&#x0434;&#x043D;&#x043E;&#x0439; &#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438; (&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;) &#x043E;&#x0442;&#x043E;&#x0431;&#x0440;&#x0430;&#x0436;&#x0430;&#x0442;&#x044C; &#x0438;&#x0445; &#x0432; &#x043E;&#x043A;&#x043D;&#x043E; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;-&#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x043A;&#x0430; (&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;).
     </li>
     <li 
  class="enumerate" id="x1-6004x2">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0442;&#x044C; &#x044D;&#x0445;&#x043E;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;, &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0443;&#x044E;&#x0449;&#x0438;&#x0439; &#x0441; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x043C; &#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; pipe.</li></ol>
<h5 class="subsubsectionHead"><a 
 id="x1-70002"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 2. &#x0418;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;</h5>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-7002x1">&#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430;,             &#x043E;&#x0431;&#x0435;&#x0441;&#x043F;&#x0435;&#x0447;&#x0438;&#x0432;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F;             &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0435;             &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432;             &#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C;
     &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;. &#x0420;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x043C;&#x0435;&#x0436;&#x0434;&#x0443; &#x043E;&#x0434;&#x043D;&#x0438;&#x043C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x043C; &#x0438; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043E;&#x043C; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x043C;&#x0438;, &#x0432;&#x0432;&#x043E;&#x0434;&#x0438;&#x043C;&#x044B;&#x043C;&#x0438; &#x0441;
     &#x043A;&#x043E;&#x043D;&#x0441;&#x043E;&#x043B;&#x0438; &#x043D;&#x0430; &#x0441;&#x0442;&#x043E;&#x0440;&#x043E;&#x043D;&#x0435; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430; &#x0438; &#x0432;&#x043E;&#x0437;&#x0432;&#x0440;&#x0430;&#x0449;&#x0430;&#x0435;&#x043C;&#x044B;&#x043C;&#x0438; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043E;&#x043C; &#x043E;&#x0431;&#x0440;&#x0430;&#x0442;&#x043D;&#x043E; &#x0434;&#x043E; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F; &#x043A;&#x043E;&#x043C;&#x0430;&#x043D;&#x0434;&#x044B; exit.
     </li>
     <li 
  class="enumerate" id="x1-7004x2">&#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430;,   &#x043E;&#x0431;&#x0435;&#x0441;&#x043F;&#x0435;&#x0447;&#x0438;&#x0432;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F;   &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0435;   &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432;   &#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C;   &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445;   &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;   &#8211;
     &#x0430;&#x043D;&#x0430;&#x043B;&#x043E;&#x0433;&#x0438;&#x0447;&#x043D;&#x0430;&#x044F; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x0441; &#x044D;&#x0445;&#x043E;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043E;&#x043C;, &#x043D;&#x043E; &#x0441; &#x043C;&#x043D;&#x043E;&#x0436;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432; &#x0438; &#x043F;&#x0440;&#x0438;&#x043D;&#x0443;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x043E;&#x0439; &#x0431;&#x043B;&#x043E;&#x043A;&#x0438;&#x0440;&#x043E;&#x0432;&#x043A;&#x043E;&#x0439;
     &#x043E;&#x0431;&#x043C;&#x0435;&#x043D;&#x0430; &#x0434;&#x043E; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F; &#x043A;&#x0430;&#x0436;&#x0434;&#x043E;&#x0439; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;. &#x0420;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x043C;&#x0435;&#x0436;&#x0434;&#x0443; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043E;&#x043C; &#x0438; &#x043C;&#x043D;&#x043E;&#x0436;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D;
     &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x043C;&#x0438;, &#x0432;&#x0432;&#x043E;&#x0434;&#x0438;&#x043C;&#x044B;&#x043C;&#x0438; &#x0441; &#x043A;&#x043E;&#x043D;&#x0441;&#x043E;&#x043B;&#x0438; &#x043D;&#x0430; &#x0441;&#x0442;&#x043E;&#x0440;&#x043E;&#x043D;&#x0435; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430; &#x0438; &#x0432;&#x043E;&#x0437;&#x0432;&#x0440;&#x0430;&#x0449;&#x0430;&#x0435;&#x043C;&#x044B;&#x043C;&#x0438; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043E;&#x043C; &#x043E;&#x0431;&#x0440;&#x0430;&#x0442;&#x043D;&#x043E; &#x0434;&#x043E; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F;
     &#x043A;&#x043E;&#x043C;&#x0430;&#x043D;&#x0434;&#x044B; exit.
     </li>
     <li 
  class="enumerate" id="x1-7006x3">&#x041C;&#x043E;&#x0434;&#x0438;&#x0444;&#x0438;&#x0446;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435; &#x0438;&#x0437; &#x043F;&#x0440;&#x0435;&#x0434;&#x044B;&#x0434;&#x0443;&#x0449;&#x0435;&#x0433;&#x043E; &#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x0440;&#x0430; &#x0434;&#x043B;&#x044F; &#x0441;&#x0435;&#x0442;&#x0435;&#x0432;&#x043E;&#x0433;&#x043E; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D;&#x0430; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x0435;&#x0439;.</li></ol>
<h5 class="subsubsectionHead"><a 
 id="x1-80002"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 3. &#x0421;&#x043E;&#x043A;&#x0435;&#x0442;&#x044B;</h5>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-8002x1">&#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430;  &#x043B;&#x043E;&#x043A;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E;  &#x043E;&#x0431;&#x043C;&#x0435;&#x043D;&#x0430;  &#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;&#x043C;&#x0438;  &#x0441;  &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;&#x043C;  &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;&#x043E;&#x0433;&#x043E;  &#x043F;&#x0440;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x043B;&#x0430;  &#x0441;  &#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435;&#x043C;
     &#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; (TCP &#x0432; &#x0441;&#x0442;&#x0435;&#x043A;&#x0435; TCP/IP).
     </li>
     <li 
  class="enumerate" id="x1-8004x2">&#x041C;&#x043E;&#x0434;&#x0438;&#x0444;&#x0438;&#x0446;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443; &#x0434;&#x043B;&#x044F; &#x043B;&#x043E;&#x043A;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D;&#x0430; &#x0441; &#x043C;&#x043D;&#x043E;&#x0436;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432; &#x0438; &#x0441; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x043E;&#x043C; &#x043A; &#x043E;&#x0431;&#x0449;&#x0435;&#x043C;&#x0443;
     &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x0443;.
     </li>
     <li 
  class="enumerate" id="x1-8006x3">&#x0421;&#x0435;&#x0442;&#x0435;&#x0432;&#x0430;&#x044F; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0430; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0441; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E; &#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x043E;&#x0432;.
     </li>
     <li 
  class="enumerate" id="x1-8008x4">&#x0420;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x0441;&#x0435;&#x0442;&#x0435;&#x0432;&#x0443;&#x044E; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0443; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439; &#x0441; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E; &#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x043E;&#x0432; &#x043E;&#x0434;&#x043D;&#x043E;&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E; &#x043C;&#x043D;&#x043E;&#x0433;&#x0438;&#x0445; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432; &#x043E;&#x0434;&#x043D;&#x043E;&#x043C;&#x0443;
     &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443; &#x0441; &#x0440;&#x0430;&#x0437;&#x043D;&#x044B;&#x0445; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x044B;&#x0445; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;.
     </li>
     <li 
  class="enumerate" id="x1-8010x5">&#x041F;&#x0440;&#x0438;&#x0432;&#x0435;&#x0441;&#x0442;&#x0438;  &#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x0440;&#x044B;  &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;  &#x043F;&#x043E;&#x0440;&#x0442;&#x043E;&#x0432;  &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;.  &#x041F;&#x0440;&#x0438;&#x0432;&#x0435;&#x0441;&#x0442;&#x0438;  &#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x0440;  &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;  &#x0441;  &#x0431;&#x043E;&#x043B;&#x044C;&#x0448;&#x0438;&#x043C;
     &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432; &#x0434;&#x043E; 1000 (&#x043A;&#x043E;&#x0433;&#x0434;&#x0430; &#x043F;&#x043E;&#x0440;&#x0442;&#x044B; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F; &#x043E;&#x043F;&#x0440;&#x0430;&#x0432;&#x0434;&#x0430;&#x043D;&#x044B;), &#x043E;&#x0431;&#x0449;&#x0435;&#x0435; &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432; &#x043D;&#x0435;
     &#x0431;&#x043E;&#x043B;&#x0435;&#x0435; 10.
     </li>
     <li 
  class="enumerate" id="x1-8012x6">&#x041E;&#x0444;&#x043E;&#x0440;&#x043C;&#x0438;&#x0442;&#x044C; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435; &#x0441; &#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;&#x043C;&#x0438; &#x0432; &#x0432;&#x0438;&#x0434;&#x0435; &#x0441;&#x043B;&#x0443;&#x0436;&#x0431;&#x044B;.
     </li>
     <li 
  class="enumerate" id="x1-8014x7">&#x0420;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D; &#x043D;&#x0430; &#x043E;&#x0441;&#x043D;&#x043E;&#x0432;&#x0435; UDP.</li></ol>
<h5 class="subsubsectionHead"><a 
 id="x1-90002"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 4. &#x0421;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B; &#x0432; Windows</h5>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-9002x1">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F; &#x0434;&#x043B;&#x044F; &#x043A;&#x043E;&#x043D;&#x0441;&#x043E;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;.</li></ol>
                                                                                               
                                                                                               
<h5 class="subsubsectionHead"><a 
 id="x1-100002"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 5. &#x0420;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0430;&#x044F; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</h5>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-10002x1">&#x0412;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0435;  &#x0434;&#x0432;&#x0443;&#x0445;  &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432;  &#x0447;&#x0435;&#x0440;&#x0435;&#x0437;  &#x0441;&#x043E;&#x0432;&#x043C;&#x0435;&#x0441;&#x0442;&#x043D;&#x043E;  &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x043C;&#x0443;&#x044E;  &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x0443;&#x044E;  &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;,  &#x043F;&#x0440;&#x0438;  &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x043C;
     &#x043F;&#x0435;&#x0440;&#x0432;&#x044B;&#x0439; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435;, &#x0430; &#x0432;&#x0442;&#x043E;&#x0440;&#x043E;&#x0439; &#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x0438;&#x0445;. &#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0442;&#x044C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443;, &#x0432; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x0439; &#x043F;&#x0435;&#x0440;&#x0432;&#x044B;&#x0439;
     &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441; &#x0433;&#x0435;&#x043D;&#x0435;&#x0440;&#x0438;&#x0440;&#x0443;&#x0435;&#x0442; &#x0441;&#x043B;&#x0443;&#x0447;&#x0430;&#x0439;&#x043D;&#x043E;&#x0435; &#x0447;&#x0438;&#x0441;&#x043B;&#x043E; &#x0438; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x0435;&#x0433;&#x043E; &#x0432; &#x0431;&#x0443;&#x0444;&#x0435;&#x0440;, &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x043D;&#x044B;&#x0439; &#x0432;&#x0442;&#x043E;&#x0440;&#x043E;&#x043C;&#x0443; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0443;, &#x043E;&#x0442;&#x043A;&#x0443;&#x0434;&#x0430;
     &#x043E;&#x043D; &#x0435;&#x0433;&#x043E; &#x0438; &#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x0441; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435;&#x0434;&#x0443;&#x044E;&#x0449;&#x0438;&#x043C; &#x0432;&#x044B;&#x0432;&#x043E;&#x0434;&#x043E;&#x043C;.</li></ol>
<h5 class="subsubsectionHead"><a 
 id="x1-110002"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 6. &#x041F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x044B;&#x0435; &#x0441;&#x043B;&#x043E;&#x0442;&#x044B;</h5>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-11002x1">&#x041F;&#x0440;&#x0435;&#x0434;&#x043B;&#x043E;&#x0436;&#x0438;&#x0442;&#x044C; &#x0441;&#x043E;&#x0431;&#x0441;&#x0442;&#x0432;&#x0435;&#x043D;&#x043D;&#x0443;&#x044E; &#x0440;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044E; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;, &#x0438;&#x043B;&#x043B;&#x044E;&#x0441;&#x0442;&#x0440;&#x0438;&#x0440;&#x0443;&#x044E;&#x0449;&#x0443;&#x044E; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x0435;&#x0439; &#x043F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x044B;&#x043C;&#x0438;
     &#x0441;&#x043B;&#x043E;&#x0442;&#x0430;&#x043C;&#x0438;.
     </li>
     <li 
  class="enumerate" id="x1-11004x2">&#x041F;&#x0440;&#x043E;&#x0434;&#x0435;&#x043C;&#x043E;&#x043D;&#x0441;&#x0442;&#x0440;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;&#x0441;&#x0442;&#x044C; &#x043B;&#x043E;&#x043A;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0438; &#x0443;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0430;.
     </li>
     <li 
  class="enumerate" id="x1-11006x3">&#x0412;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0438;&#x0442;&#x044C; &#x0448;&#x0438;&#x0440;&#x043E;&#x043A;&#x043E;&#x0432;&#x0435;&#x0449;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x0443;&#x044E; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0443; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445;.</li></ol>
<a 
 id="x1-11007r5"></a>
<h3 class="sectionHead"><span class="titlemark">1.3   </span> <a 
 id="x1-120003"></a>&#x0425;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B;</h3>
<!--l. 149--><p class="noindent" >&#x041D;&#x0435;&#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x0430;&#x044F; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x044F; &#x043E;&#x0431; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x043E;&#x0439; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0435; &#x0438; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x0430;&#x0445; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B;:
<!--l. 151--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-120011"></a>
                                                                                               
                                                                                               
<!--l. 153--><p class="noindent" ><img 
src="../images/0.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.1: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-120011 -->
                                                                                               
                                                                                               
<!--l. 157--><p class="indent" >   </div><hr class="endfigure">
<!--l. 159--><p class="indent" >   &#x0418;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x044F; &#x043E; &#x043A;&#x043E;&#x043C;&#x043F;&#x0438;&#x043B;&#x044F;&#x0442;&#x043E;&#x0440;&#x0435;:
   <!--l. 161--><div class="lstinputlisting">
<a 
 id="x1-12002"></a>
<span 
class="lass-0900">&#x041E;&#x043F;&#x0442;&#x0438;&#x043C;&#x0438;&#x0437;&#x0438;&#x0440;&#x0443;&#x044E;&#x0449;&#x0438;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12003r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043C;&#x043F;&#x0438;&#x043B;&#x044F;&#x0442;&#x043E;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Microsoft</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">R</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">C</span><span 
class="lass-0900">/</span><span 
class="lass-0900">C</span><span 
class="lass-0900">++</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0435;&#x0440;&#x0441;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">19.00.24215.1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">x86</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12004r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">(</span><span 
class="lass-0900">C</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x0440;&#x043F;&#x043E;&#x0440;&#x0430;&#x0446;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x041C;&#x0430;&#x0439;&#x043A;&#x0440;&#x043E;&#x0441;&#x043E;&#x0444;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Microsoft</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Corporation</span><span 
class="lass-0900">)</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0412;&#x0441;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0430;&#x0432;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0449;&#x0438;&#x0449;&#x0435;&#x043D;&#x044B;</span><span 
class="lass-0900">.</span>
   </div>
<!--l. 163--><p class="indent" >   &#x0418;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x044F; &#x043E; &#x043A;&#x043E;&#x043C;&#x043F;&#x043E;&#x043D;&#x043E;&#x0432;&#x0449;&#x0438;&#x043A;&#x0435;:
   <!--l. 165--><div class="lstinputlisting">
<a 
 id="x1-12005"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12006r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">Microsoft</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">R</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Incremental</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Linker</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Version</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">14.00.24215.1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12007r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">Copyright</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">C</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Microsoft</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Corporation</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">All</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">rights</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">reserved</span><span 
class="lass-0900">.</span>
   </div>
<a 
 id="x1-12008r12"></a>
<h3 class="sectionHead"><span class="titlemark">1.4   </span> <a 
 id="x1-130004"></a>&#x0425;&#x043E;&#x0434; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</h3>
<a 
 id="x1-13001r1"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.1   </span> <a 
 id="x1-140001"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 1. &#x041D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;</h4>
<!--l. 171--><p class="noindent" >&#x041F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; pipe-&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430; &#x043C;&#x043E;&#x0436;&#x043D;&#x043E; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0432;&#x0430;&#x0442;&#x044C; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x043C;&#x0435;&#x0436;&#x0434;&#x0443; &#x0434;&#x0432;&#x0443;&#x043C;&#x044F; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;&#x043C;&#x0438;. &#x0412; &#x043E;&#x0441;&#x043D;&#x043E;&#x0432;&#x0435; &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x044F;
&#x043B;&#x0435;&#x0436;&#x0438;&#x0442; &#x0442;&#x0430;&#x043A; &#x043D;&#x0430;&#x0437;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;&#x0430;&#x044F; &#x0444;&#x0430;&#x0439;&#x043B;&#x043E;&#x0432;&#x0430;&#x044F; &#x043C;&#x043E;&#x0434;&#x0435;&#x043B;&#x044C; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x043E;&#x043D;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;. &#x041E;&#x0434;&#x0438;&#x043D; &#x0438;&#x0437; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x0442; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;, &#x0434;&#x0440;&#x0443;&#x0433;&#x043E;&#x0439; &#x043E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;
&#x0435;&#x0433;&#x043E;. &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x043E;&#x0431;&#x0430; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430; &#x043C;&#x043E;&#x0433;&#x0443;&#x0442; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0432;&#x0430;&#x0442;&#x044C; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x0447;&#x0435;&#x0440;&#x0435;&#x0437; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B; &#x0432; &#x043E;&#x0434;&#x043D;&#x0443; &#x0438;&#x043B;&#x0438; &#x043E;&#x0431;&#x0435; &#x0441;&#x0442;&#x043E;&#x0440;&#x043E;&#x043D;&#x044B;, &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044F; &#x0434;&#x043B;&#x044F; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E;
&#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438;, &#x043F;&#x0440;&#x0435;&#x0434;&#x043D;&#x0430;&#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x043D;&#x044B;&#x0435; &#x0434;&#x043B;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0441; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430;&#x043C;&#x0438;, &#x0442;&#x0430;&#x043A;&#x0438;&#x0435; &#x043A;&#x0430;&#x043A; ReadFile &#x0438; WriteFile.
<!--l. 173--><p class="indent" >   &#x0410;&#x043D;&#x043E;&#x043D;&#x0438;&#x043C;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B; (anonymous channels) Windows &#x043E;&#x0431;&#x0435;&#x0441;&#x043F;&#x0435;&#x0447;&#x0438;&#x0432;&#x0430;&#x044E;&#x0442; &#x043E;&#x0434;&#x043D;&#x043E;&#x043D;&#x0430;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x043D;&#x043E;&#x0435; (&#x043F;&#x043E;&#x043B;&#x0443;&#x0434;&#x0443;&#x043F;&#x043B;&#x0435;&#x043A;&#x0441;&#x043D;&#x043E;&#x0435;)
&#x043F;&#x043E;&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x044C;&#x043D;&#x043E;&#x0435; &#x043C;&#x0435;&#x0436;&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043D;&#x043E;&#x0435; &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0435;. &#x041A;&#x0430;&#x0436;&#x0434;&#x044B;&#x0439; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B; &#x0438;&#x043C;&#x0435;&#x0435;&#x0442; &#x0434;&#x0432;&#x0430; &#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x0430;: &#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044F; (read
handle) &#x0438; &#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438; (write handle).
<!--l. 175--><p class="indent" >   &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x043E; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0442;&#x044C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x043C;&#x0443; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0443; &#x0435;&#x0433;&#x043E; &#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x044B; (&#x0438;&#x043B;&#x0438; &#x043E;&#x0434;&#x0438;&#x043D; &#x0438;&#x0437; &#x043D;&#x0438;&#x0445;), &#x0447;&#x0442;&#x043E;
&#x043E;&#x0431;&#x044B;&#x0447;&#x043D;&#x043E; &#x0434;&#x0435;&#x043B;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0441; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E; &#x043C;&#x0435;&#x0445;&#x0430;&#x043D;&#x0438;&#x0437;&#x043C;&#x0430; &#x043D;&#x0430;&#x0441;&#x043B;&#x0435;&#x0434;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;. &#x0414;&#x043B;&#x044F; &#x043D;&#x0430;&#x0441;&#x043B;&#x0435;&#x0434;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F; &#x043E;&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F; &#x043D;&#x0443;&#x0436;&#x043D;&#x043E;, &#x0447;&#x0442;&#x043E;&#x0431;&#x044B; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;-&#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x043E;&#x043A;
&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0432;&#x0430;&#x043B;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439; CreateProcess &#x0441; &#x0444;&#x043B;&#x0430;&#x0433;&#x043E;&#x043C; &#x043D;&#x0430;&#x0441;&#x043B;&#x0435;&#x0434;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F; TRUE.
                                                                                               
                                                                                               
<!--l. 179--><p class="indent" >   &#x0410;&#x043D;&#x043E;&#x043D;&#x0438;&#x043C;&#x043D;&#x044B;&#x0439; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439; CreatePipe:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-1">
BOOL&#x00A0;WINAPI&#x00A0;CreatePipe&#x00A0;(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_Out_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;PHANDLE&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;hReadPipe,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_Out_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;PHANDLE&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;hWritePipe,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;LPSECURITY_ATTRIBUTES&#x00A0;&#x00A0;lpPipeAttributes,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;nSize
&#x00A0;<br />);
</div>
<!--l. 188--><p class="nopar" >
<h5 class="subsubsectionHead"><a 
 id="x1-150001"></a>1. &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0435; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435; &#x043D;&#x0430; &#x043E;&#x0441;&#x043D;&#x043E;&#x0432;&#x0435; &#x0430;&#x043D;&#x043E;&#x043D;&#x0438;&#x043C;&#x043D;&#x044B;&#x0445; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;</h5>
<!--l. 192--><p class="noindent" >&#x041D;&#x0430; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0435; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x043D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B; &#x0434;&#x043B;&#x044F; &#x0441;&#x0432;&#x044F;&#x0437;&#x0438; &#x0441; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x043C;-&#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x043A;&#x043E;&#x043C; &#x0438; &#x043F;&#x043E;&#x0440;&#x043E;&#x0436;&#x0434;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;-&#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x043E;&#x043A;. &#x0422;&#x0430;&#x043A;&#x0436;&#x0435;
&#x043D;&#x0430; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0435; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C; &#x0438;&#x0437; &#x043A;&#x043E;&#x043D;&#x0441;&#x043E;&#x043B;&#x0438; &#x0432; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;. &#x041F;&#x0440;&#x0438; &#x043D;&#x0430;&#x0436;&#x0430;&#x0442;&#x0438;&#x0438; &#x043D;&#x0430; ESC &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F;:
   <!--l. 194--><div class="lstinputlisting">
<a 
 id="x1-15001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">conio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">tchar</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0443;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x043A;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CHILD_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">c</span><span 
class="lass-0900">.</span><span 
class="lass-0900">exe</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0441;&#x043E;&#x0431;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0434;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0436;&#x0430;&#x0442;&#x044B;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0430;&#x0432;&#x0438;&#x0448;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">short</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CARRIAGE_CODE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">xD</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">short</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_CODE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1B</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0442;&#x0440;&#x0438;&#x0431;&#x0443;&#x0442;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x0439;&#x043F;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SECURITY_ATTRIBUTES</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">securityAttributes</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">securityAttributes</span><span 
class="lass-0900">.</span><span 
class="lass-0900">nLength</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">securityAttributes</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">securityAttributes</span><span 
class="lass-0900">.</span><span 
class="lass-0900">lpSecurityDescriptor</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">securityAttributes</span><span 
class="lass-0900">.</span><span 
class="lass-0900">bInheritHandle</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readPipe</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writePipe</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x043D;&#x043E;&#x043D;&#x0438;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">CreatePipe</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">readPipe</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">writePipe</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">securityAttributes</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Pipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Handle</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">of</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readPipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x0434;&#x043C;&#x0435;&#x043D;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0430;&#x043D;&#x0434;&#x0430;&#x0440;&#x0442;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0432;&#x043E;&#x0434;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x043E;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0432;&#x043E;&#x0434;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">STARTUPINFO</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startupInfo</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">startupInfo</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">STARTUPINFO</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startupInfo</span><span 
class="lass-0900">.</span><span 
class="lass-0900">cb</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">STARTUPINFO</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startupInfo</span><span 
class="lass-0900">.</span><span 
class="lass-0900">dwFlags</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">STARTF_USESTDHANDLES</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">STARTF_USESHOWWINDOW</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startupInfo</span><span 
class="lass-0900">.</span><span 
class="lass-0900">wShowWindow</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SW_NORMAL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startupInfo</span><span 
class="lass-0900">.</span><span 
class="lass-0900">hStdInput</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readPipe</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startupInfo</span><span 
class="lass-0900">.</span><span 
class="lass-0900">hStdOutput</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">GetStdHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">STD_OUTPUT_HANDLE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startupInfo</span><span 
class="lass-0900">.</span><span 
class="lass-0900">hStdError</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startupInfo</span><span 
class="lass-0900">.</span><span 
class="lass-0900">hStdOutput</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PROCESS_INFORMATION</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">processInformation</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x043E;&#x0432;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">CreateProcess</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">_tcsdup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">TEXT</span><span 
class="lass-0900">(</span><span 
class="lass-0900">CHILD_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TRUE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CREATE_NEW_CONSOLE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">startupInfo</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">processInformation</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">process</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Process</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">STD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INPUT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">GetStdHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">STD_INPUT_HANDLE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">STD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OUTPUT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">GetStdHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">STD_OUTPUT_HANDLE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">_getch</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">.</span><span 
class="lass-0900">put</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CARRIAGE_CODE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">.</span><span 
class="lass-0900">put</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfWrittenBytes</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x0438;&#x0441;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0434;&#x0438;&#x043D;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0430;&#x0439;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WriteFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writePipe</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfWrittenBytes</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0436;&#x0430;&#x0442;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">ESC</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0446;&#x0438;&#x043A;&#x043B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_CODE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x043E;&#x043A;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TerminateProcess</span><span 
class="lass-0900">(</span><span 
class="lass-0900">processInformation</span><span 
class="lass-0900">.</span><span 
class="lass-0900">hProcess</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">processInformation</span><span 
class="lass-0900">.</span><span 
class="lass-0900">hThread</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">processInformation</span><span 
class="lass-0900">.</span><span 
class="lass-0900">hProcess</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readPipe</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writePipe</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15085r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15086r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Press</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">Enter</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15087r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getchar</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15088r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15089r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15090r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 196--><p class="indent" >   &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x043E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x043D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;, &#x0438; &#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x0438;&#x0437; &#x043D;&#x0435;&#x0433;&#x043E; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;. &#x0417;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C; &#x0438; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x0435; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x0441;
&#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E; &#x0441;&#x0442;&#x0430;&#x043D;&#x0434;&#x0430;&#x0440;&#x0442;&#x043D;&#x044B;&#x0445; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432; stdin &#x0438; stdout.
   <!--l. 198--><div class="lstinputlisting">
<a 
 id="x1-15091"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15092r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15093r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15094r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15095r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15096r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15097r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">STD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INPUT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">GetStdHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">STD_INPUT_HANDLE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15098r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">STD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OUTPUT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">GetStdHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">STD_OUTPUT_HANDLE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15099r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15100r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15101r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">totalBytesAvailable</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15102r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15103r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15104r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PeekNamedPipe</span><span 
class="lass-0900">(</span><span 
class="lass-0900">GetStdHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">STD_INPUT_HANDLE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">totalBytesAvailable</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15105r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15106r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">totalBytesAvailable</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15107r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15108r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesRead</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15109r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15110r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0434;&#x0438;&#x043D;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0430;&#x0439;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15111r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ReadFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">GetStdHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">STD_INPUT_HANDLE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesRead</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15112r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15113r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15114r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15115r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15116r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15117r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 200--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0438; &#x043E;&#x0442; &#x0440;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044F; &#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x043A;&#x0443;:
<!--l. 202--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-151182"></a>
                                                                                               
                                                                                               
<!--l. 204--><p class="noindent" ><img 
src="../images/p1_1.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.2: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-151182 -->
                                                                                               
                                                                                               
<!--l. 208--><p class="indent" >   </div><hr class="endfigure">
<!--l. 210--><p class="indent" >   &#x0421;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435; &#x0431;&#x044B;&#x043B;&#x043E; &#x0443;&#x0441;&#x043F;&#x0435;&#x0448;&#x043D;&#x043E; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x043D;&#x043E;.
<h5 class="subsubsectionHead"><a 
 id="x1-160001"></a>2. &#x042D;&#x0445;&#x043E;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;, &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0443;&#x044E;&#x0449;&#x0438;&#x0439; &#x0441; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x043C; &#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x0430;&#x043D;&#x043E;&#x043D;&#x0438;&#x043C;&#x043D;&#x044B;&#x0445; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;</h5>
<!--l. 214--><p class="noindent" >&#x0412; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0435; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0430; &#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x043E;&#x0432; &#x0447;&#x0435;&#x0440;&#x0435;&#x0437; &#x043D;&#x0430;&#x0441;&#x043B;&#x0435;&#x0434;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;. &#x041F;&#x043E; &#x043F;&#x0440;&#x0438;&#x0447;&#x0438;&#x043D;&#x0435; &#x0442;&#x043E;&#x0433;&#x043E;, &#x0447;&#x0442;&#x043E; &#x0430;&#x043D;&#x043E;&#x043D;&#x0438;&#x043C;&#x043D;&#x044B;&#x0439; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;
&#x044F;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x043F;&#x043E;&#x043B;&#x0443;&#x0434;&#x0443;&#x043F;&#x043B;&#x0435;&#x043A;&#x0441;&#x043D;&#x044B;&#x043C;, &#x0434;&#x043B;&#x044F; &#x043E;&#x0440;&#x0433;&#x0430;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x044D;&#x0445;&#x043E;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x043E; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0432;&#x0430;&#x0442;&#x044C; 2 &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430; (&#x0434;&#x043B;&#x044F; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0438; &#x043E;&#x0442;
&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443; &#x0438; &#x043E;&#x0431;&#x0440;&#x0430;&#x0442;&#x043D;&#x043E;):
   <!--l. 216--><div class="lstinputlisting">
<a 
 id="x1-16001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">ostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">tchar</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0443;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x043A;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CHILD_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.2.</span><span 
class="lass-0900">c</span><span 
class="lass-0900">.</span><span 
class="lass-0900">exe</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x0441;&#x044B;&#x043B;&#x0430;&#x0435;&#x043C;&#x044B;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MESSAGES_COUNT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;&#x043C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TERMINATE_DELAY</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">6000;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0442;&#x0440;&#x0438;&#x0431;&#x0443;&#x0442;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x0439;&#x043F;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SECURITY_ATTRIBUTES</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">securityAttributes</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">securityAttributes</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">securityAttributes</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">securityAttributes</span><span 
class="lass-0900">.</span><span 
class="lass-0900">nLength</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SECURITY_ATTRIBUTES</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">securityAttributes</span><span 
class="lass-0900">.</span><span 
class="lass-0900">lpSecurityDescriptor</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">securityAttributes</span><span 
class="lass-0900">.</span><span 
class="lass-0900">bInheritHandle</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TRUE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readPipeFromServerToClient</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writePipeFromServerToClient</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">CreatePipe</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">readPipeFromServerToClient</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">writePipeFromServerToClient</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">securityAttributes</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readPipeFromClientToServer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writePipeFromClientToServer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">CreatePipe</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">readPipeFromClientToServer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">writePipeFromClientToServer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">securityAttributes</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">server</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">started</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x0434;&#x043C;&#x0435;&#x043D;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0430;&#x043D;&#x0434;&#x0430;&#x0440;&#x0442;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0432;&#x043E;&#x0434;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0432;&#x043E;&#x0434;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">STARTUPINFO</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startupInfo</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">startupInfo</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">startupInfo</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">GetStartupInfo</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">startupInfo</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startupInfo</span><span 
class="lass-0900">.</span><span 
class="lass-0900">hStdInput</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readPipeFromServerToClient</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startupInfo</span><span 
class="lass-0900">.</span><span 
class="lass-0900">hStdOutput</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writePipeFromClientToServer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startupInfo</span><span 
class="lass-0900">.</span><span 
class="lass-0900">hStdError</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">GetStdHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">STD_ERROR_HANDLE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startupInfo</span><span 
class="lass-0900">.</span><span 
class="lass-0900">dwFlags</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">STARTF_USESTDHANDLES</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PROCESS_INFORMATION</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">processInformation</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x043E;&#x0432;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">CreateProcess</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">_tcsdup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">TEXT</span><span 
class="lass-0900">(</span><span 
class="lass-0900">CHILD_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TRUE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CREATE_NEW_CONSOLE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">startupInfo</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">processInformation</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">process</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readPipeFromServerToClient</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writePipeFromClientToServer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MESSAGES_COUNT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">index</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">clear</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesRead</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">ReadFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readPipeFromClientToServer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesRead</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">read</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0442;&#x043D;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesWrite</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">WriteFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writePipeFromServerToClient</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">size</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesWrite</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">write</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x5</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16085r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16086r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16087r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">terminate</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">across</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">few</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">seconds</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16088r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">TERMINATE_DELAY</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16089r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16090r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readPipeFromClientToServer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16091r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writePipeFromServerToClient</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16092r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16093r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16094r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 218--><p class="indent" >   &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0430;&#x044F; &#x0447;&#x0430;&#x0441;&#x0442;&#x044C; &#x0441;&#x0438;&#x043C;&#x043C;&#x0435;&#x0442;&#x0440;&#x0438;&#x0447;&#x043D;&#x0430; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0439;:
   <!--l. 220--><div class="lstinputlisting">
<a 
 id="x1-16095"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16096r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16097r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16098r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">ostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16099r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16100r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16101r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16102r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16103r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16104r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x0441;&#x044B;&#x043B;&#x0430;&#x0435;&#x043C;&#x044B;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16105r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MESSAGES_COUNT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16106r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;&#x043C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16107r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TERMINATE_DELAY</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5000;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16108r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16109r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16110r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0438;&#x0448;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0448;&#x0438;&#x0431;&#x043E;&#x043A;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0432;&#x043E;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0432;&#x043E;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043D;&#x044F;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16111r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">started</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16112r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16113r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16114r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16115r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16116r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MESSAGES_COUNT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">index</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16117r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16118r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">to_string</span><span 
class="lass-0900">(</span><span 
class="lass-0900">index</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16119r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16120r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16121r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesWrite</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16122r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">WriteFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">GetStdHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">STD_OUTPUT_HANDLE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">size</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesWrite</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16123r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">write</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16124r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16125r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16126r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16127r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16128r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16129r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x0438;&#x043D;&#x0438;&#x043C;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16130r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesRead</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16131r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">ReadFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">GetStdHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">STD_INPUT_HANDLE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesRead</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16132r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">read</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16133r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16134r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16135r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16136r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0438;&#x0448;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0448;&#x0438;&#x0431;&#x043E;&#x043A;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0432;&#x043E;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0432;&#x043E;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043D;&#x044F;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16137r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">server</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16138r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16139r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16140r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0438;&#x0448;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0448;&#x0438;&#x0431;&#x043E;&#x043A;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0432;&#x043E;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0432;&#x043E;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043D;&#x044F;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16141r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">terminate</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">across</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">few</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">seconds</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16142r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">TERMINATE_DELAY</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16143r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16144r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16145r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">}</span>
   </div>
                                                                                               
                                                                                               
<!--l. 224--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D;&#x0430; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;&#x043C;&#x0438;:
<!--l. 226--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-161463"></a>
                                                                                               
                                                                                               
<!--l. 228--><p class="noindent" ><img 
src="../images/p1_2.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.3: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-161463 -->
                                                                                               
                                                                                               
<!--l. 232--><p class="indent" >   </div><hr class="endfigure">
<!--l. 234--><p class="indent" >   &#x0421;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0431;&#x044B;&#x043B;&#x0438; &#x0441;&#x0433;&#x0435;&#x043D;&#x0435;&#x0440;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x044B; &#x043D;&#x0430; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x0439; &#x0441;&#x0442;&#x043E;&#x0440;&#x043E;&#x043D;&#x0435;, &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x044B; &#x043D;&#x0430; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;. &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0443;&#x0441;&#x043F;&#x0435;&#x0448;&#x043D;&#x043E;
&#x043F;&#x0440;&#x0438;&#x043D;&#x044F;&#x043B; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0438; &#x043E;&#x0442;&#x043E;&#x0441;&#x043B;&#x0430;&#x043B; &#x0438;&#x0445; &#x043D;&#x0430;&#x0437;&#x0430;&#x0434; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0443;.
<a 
 id="x1-16147r17"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.2   </span> <a 
 id="x1-170002"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 2. &#x0418;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;</h4>
<!--l. 238--><p class="noindent" >&#x0418;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B; &#x044F;&#x0432;&#x043B;&#x044F;&#x044E;&#x0442;&#x0441;&#x044F; &#x0434;&#x0443;&#x043F;&#x043B;&#x0435;&#x043A;&#x0441;&#x043D;&#x044B;&#x043C;&#x0438;, &#x043E;&#x0440;&#x0438;&#x0435;&#x043D;&#x0442;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x044B; &#x043D;&#x0430; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;&#x043C;&#x0438; &#x0438; &#x043E;&#x0431;&#x0435;&#x0441;&#x043F;&#x0435;&#x0447;&#x0438;&#x0432;&#x0430;&#x044E;&#x0442;
&#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0435; &#x0447;&#x0435;&#x0440;&#x0435;&#x0437; &#x0441;&#x0435;&#x0442;&#x044C;. &#x041A;&#x0440;&#x043E;&#x043C;&#x0435; &#x0442;&#x043E;&#x0433;&#x043E;, &#x043E;&#x0434;&#x0438;&#x043D; &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B; &#x043C;&#x043E;&#x0436;&#x0435;&#x0442; &#x0438;&#x043C;&#x0435;&#x0442;&#x044C; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x043E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0442;&#x044B;&#x0445; &#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x043E;&#x0432;. &#x0412;
&#x0441;&#x043E;&#x0447;&#x0435;&#x0442;&#x0430;&#x043D;&#x0438;&#x0438; &#x0441; &#x0443;&#x0434;&#x043E;&#x0431;&#x043D;&#x044B;&#x043C;&#x0438;, &#x043E;&#x0440;&#x0438;&#x0435;&#x043D;&#x0442;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x043C;&#x0438; &#x043D;&#x0430; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x0435; &#x0442;&#x0440;&#x0430;&#x043D;&#x0437;&#x0430;&#x043A;&#x0446;&#x0438;&#x0439; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;&#x043C;&#x0438; &#x044D;&#x0442;&#x0438; &#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;&#x0441;&#x0442;&#x0438; &#x0434;&#x0435;&#x043B;&#x0430;&#x044E;&#x0442;
&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B; &#x043F;&#x0440;&#x0438;&#x0433;&#x043E;&#x0434;&#x043D;&#x044B;&#x043C;&#x0438; &#x0434;&#x043B;&#x044F; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x044B;&#x0445; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;. &#x041E;&#x0431;&#x043C;&#x0435;&#x043D; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x043C;&#x0438; &#x043C;&#x043E;&#x0436;&#x0435;&#x0442; &#x0431;&#x044B;&#x0442;&#x044C; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x043C;
&#x0438; &#x0430;&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x043C;.
<!--l. 240--><p class="indent" >   &#x0414;&#x043B;&#x044F; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F; &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; CreateNamedPipe. &#x041F;&#x0440;&#x0438; &#x043F;&#x0435;&#x0440;&#x0432;&#x043E;&#x043C; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0435; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438;
CreateNamedPipe &#x043F;&#x0440;&#x043E;&#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435; &#x0441;&#x0430;&#x043C;&#x043E;&#x0433;&#x043E; &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;, &#x0430; &#x043D;&#x0435; &#x043F;&#x0440;&#x043E;&#x0441;&#x0442;&#x043E; &#x0435;&#x0433;&#x043E; &#x044D;&#x043A;&#x0437;&#x0435;&#x043C;&#x043F;&#x043B;&#x044F;&#x0440;&#x0430;. &#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;
&#x043F;&#x043E;&#x0441;&#x043B;&#x0435;&#x0434;&#x043D;&#x0435;&#x0433;&#x043E; &#x043E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0442;&#x043E;&#x0433;&#x043E; &#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x0430; &#x044D;&#x043A;&#x0437;&#x0435;&#x043C;&#x043F;&#x043B;&#x044F;&#x0440;&#x0430; &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430; &#x043F;&#x0440;&#x0438;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442; &#x043A; &#x0443;&#x043D;&#x0438;&#x0447;&#x0442;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044E; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x044D;&#x043A;&#x0437;&#x0435;&#x043C;&#x043F;&#x043B;&#x044F;&#x0440;&#x0430;
(&#x043E;&#x0431;&#x044B;&#x0447;&#x043D;&#x043E; &#x0441;&#x0443;&#x0449;&#x0435;&#x0441;&#x0442;&#x0432;&#x0443;&#x0435;&#x0442; &#x043F;&#x043E; &#x043E;&#x0434;&#x043D;&#x043E;&#x043C;&#x0443; &#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x0443; &#x043D;&#x0430; &#x043A;&#x0430;&#x0436;&#x0434;&#x044B;&#x0439; &#x044D;&#x043A;&#x0437;&#x0435;&#x043C;&#x043F;&#x043B;&#x044F;&#x0440;). &#x0423;&#x043D;&#x0438;&#x0447;&#x0442;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435;&#x0434;&#x043D;&#x0435;&#x0433;&#x043E; &#x044D;&#x043A;&#x0437;&#x0435;&#x043C;&#x043F;&#x043B;&#x044F;&#x0440;&#x0430;
&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430; &#x043F;&#x0440;&#x0438;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442; &#x043A; &#x0443;&#x043D;&#x0438;&#x0447;&#x0442;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044E; &#x0441;&#x0430;&#x043C;&#x043E;&#x0433;&#x043E; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;, &#x0432; &#x0440;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442;&#x0435; &#x0447;&#x0435;&#x0433;&#x043E; &#x0438;&#x043C;&#x044F; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430; &#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x0438;&#x0442;&#x0441;&#x044F; &#x0432;&#x043D;&#x043E;&#x0432;&#x044C;
&#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x043D;&#x044B;&#x043C; &#x0434;&#x043B;&#x044F; &#x043F;&#x043E;&#x0432;&#x0442;&#x043E;&#x0440;&#x043D;&#x043E;&#x0433;&#x043E; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;.
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-2">
HANDLE&#x00A0;WINAPI&#x00A0;CreateNamedPipe(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;lpName,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;dwOpenMode,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;dwPipeMode,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;nMaxInstances,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;nOutBufferSize,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;nInBufferSize,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;nDefaultTimeOut,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;LPSECURITY_ATTRIBUTES&#x00A0;&#x00A0;lpSecurityAttributes
&#x00A0;<br />);
</div>
<!--l. 253--><p class="nopar" >
<!--l. 255--><p class="indent" >   &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F; &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x043C;&#x043E;&#x0436;&#x0435;&#x0442; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0442;&#x044C; &#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;, &#x0432;&#x044B;&#x0437;&#x044B;&#x0432;&#x0430;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044E;
ConnectNamedPipe.
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-3">
BOOL&#x00A0;WINAPI&#x00A0;ConnectNamedPipe(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;HANDLE&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;hNamedPipe,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_Inout_opt_&#x00A0;&#x00A0;LPOVERLAPPED&#x00A0;&#x00A0;lpOverlapped
&#x00A0;<br />);
</div>
<!--l. 262--><p class="nopar" >
<!--l. 264--><p class="indent" >   &#x0414;&#x043B;&#x044F; &#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430; &#x043A; &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x043C;&#x0443; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0443; &#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; CreateFile. &#x0421; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438;
WaitNamedPipe &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441; &#x043C;&#x043E;&#x0436;&#x0435;&#x0442; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x0442;&#x044C; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435; &#x043C;&#x043E;&#x043C;&#x0435;&#x043D;&#x0442;&#x0430;, &#x043A;&#x043E;&#x0433;&#x0434;&#x0430; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B; Pipe &#x0431;&#x0443;&#x0434;&#x0435;&#x0442; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0435;&#x043D; &#x0434;&#x043B;&#x044F;
&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F;.
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-4">
BOOL&#x00A0;WINAPI&#x00A0;WaitNamedPipe(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;lpNamedPipeName,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;nTimeOut
&#x00A0;<br />);
</div>
<!--l. 271--><p class="nopar" >
<h5 class="subsubsectionHead"><a 
 id="x1-180002"></a>1. &#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430;, &#x043E;&#x0431;&#x0435;&#x0441;&#x043F;&#x0435;&#x0447;&#x0438;&#x0432;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F; &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0435; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432; &#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;</h5>
<!--l. 275--><p class="noindent" >&#x0421;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x0442; &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B; &#x0434;&#x043B;&#x044F; &#x0434;&#x0432;&#x0443;&#x043D;&#x0430;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F; &#x0438; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x0442; &#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F;
&#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;-&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;. &#x0412; &#x0446;&#x0438;&#x043A;&#x043B;&#x0435; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x0442; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x043E;&#x0442; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430; &#x0438; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442; &#x0438;&#x0445; &#x043D;&#x0430;&#x0437;&#x0430;&#x0434;:
   <!--l. 277--><div class="lstinputlisting">
<a 
 id="x1-18001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">tchar</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043C;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PIPE_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">\\\\.\\</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">\\</span><span 
class="lass-0900">$$MyPipe$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0445;&#x043E;&#x0434;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_MESSAGE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">@EXIT@</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">started</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateNamedPipe</span><span 
class="lass-0900">(</span><span 
class="lass-0900">_tcsdup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">TEXT</span><span 
class="lass-0900">(</span><span 
class="lass-0900">PIPE_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PIPE_ACCESS_DUPLEX</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PIPE_TYPE_MESSAGE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PIPE_READMODE_MESSAGE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PIPE_WAIT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PIPE_UNLIMITED_INSTANCES</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_HANDLE_VALUE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0430;&#x0435;&#x043C;&#x0441;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x043C;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">ConnectNamedPipe</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connect</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Pipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesRead</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">ReadFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesRead</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">read</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">strcmp</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_MESSAGE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0442;&#x043D;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesWrite</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">WriteFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesWrite</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">write</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">}</span>
   </div>
                                                                                               
                                                                                               
<!--l. 281--><p class="indent" >   &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x043D;&#x0430; &#x0441;&#x0432;&#x043E;&#x0435;&#x0439; &#x0441;&#x0442;&#x043E;&#x0440;&#x043E;&#x043D;&#x0435; &#x043E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;, &#x043F;&#x0438;&#x0448;&#x0435;&#x0442; &#x0432; &#x043D;&#x0435;&#x0433;&#x043E; &#x0438; &#x0447;&#x0438;&#x0442;&#x0430;&#x0435;&#x0442; &#x044D;&#x0445;&#x043E;-&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;. &#x041F;&#x0440;&#x0438; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0435; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0438;
"@EXIT@"&#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F;:
   <!--l. 283--><div class="lstinputlisting">
<a 
 id="x1-18060"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18061r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18062r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18063r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18064r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">tchar</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18065r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">ostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18066r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18067r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18068r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043C;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18069r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PIPE_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">\\\\.\\</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">\\</span><span 
class="lass-0900">$$MyPipe$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18070r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18071r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18072r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0445;&#x043E;&#x0434;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18073r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_MESSAGE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">@EXIT@</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18074r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18075r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18076r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">started</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18077r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18078r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0430;&#x0435;&#x043C;&#x0441;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x043C;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18079r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">_tcsdup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">TEXT</span><span 
class="lass-0900">(</span><span 
class="lass-0900">PIPE_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">GENERIC_READ</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">GENERIC_WRITE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OPEN_EXISTING</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18080r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_HANDLE_VALUE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18081r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18082r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18083r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18084r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18085r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Connection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">established</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18086r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18087r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18088r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18089r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18090r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18091r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getline</span><span 
class="lass-0900">(</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cin</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18092r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18093r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18094r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesWrite</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18095r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">WriteFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">size</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesWrite</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18096r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">write</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18097r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18098r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18099r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18100r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_MESSAGE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18101r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18102r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18103r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18104r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18105r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0442;&#x043D;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18106r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesRead</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18107r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">ReadFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesRead</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18108r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">read</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18109r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18110r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18111r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18112r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">server</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18113r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18114r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18115r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18116r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18117r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">}</span>
   </div>
                                                                                               
                                                                                               
<!--l. 287--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x044F;:
<!--l. 289--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-181184"></a>
                                                                                               
                                                                                               
<!--l. 291--><p class="noindent" ><img 
src="../images/p2_1.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.4: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-181184 -->
                                                                                               
                                                                                               
<!--l. 295--><p class="indent" >   </div><hr class="endfigure">
<!--l. 297--><p class="indent" >   &#x0421;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x0435; &#x043D;&#x0430; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0441;&#x0440;&#x0430;&#x0437;&#x0443; &#x0436;&#x0435; &#x0432;&#x043E;&#x0437;&#x0432;&#x0440;&#x0430;&#x0449;&#x0430;&#x044E;&#x0442;&#x0441;&#x044F; &#x043D;&#x0430;&#x0437;&#x0430;&#x0434;, &#x0447;&#x0442;&#x043E; &#x0441;&#x043E;&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;&#x0441;&#x0442;&#x0432;&#x0443;&#x0435;&#x0442; &#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0439; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0435;
&#x044D;&#x0445;&#x043E;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;.
<h5 class="subsubsectionHead"><a 
 id="x1-190002"></a>2. &#x041F;&#x043E;&#x0434;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x0430; &#x043C;&#x043D;&#x043E;&#x0436;&#x0435;&#x0441;&#x0442;&#x0432;&#x0430; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;, &#x0431;&#x043B;&#x043E;&#x043A;&#x0438;&#x0440;&#x043E;&#x0432;&#x043A;&#x0430; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D;&#x0430; &#x0434;&#x043E; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x0439;</h5>
<!--l. 301--><p class="noindent" >&#x0421;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;, &#x043A;&#x0430;&#x043A; &#x0438; &#x0440;&#x0430;&#x043D;&#x0435;&#x0435;, &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x0442; &#x0432;&#x0441;&#x0435; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x044B;&#x0435; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x044B; &#x0438; &#x043F;&#x0435;&#x0440;&#x0435;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442; &#x0432; &#x0441;&#x043E;&#x0441;&#x0442;&#x043E;&#x044F;&#x043D;&#x0438;&#x0435; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F; &#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x0439;. &#x0418;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439;
&#x043A;&#x0430;&#x043D;&#x0430;&#x043B; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0434;&#x043B;&#x044F; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044F; &#x0438; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438;. &#x041F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0430; &#x043F;&#x0440;&#x043E;&#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;&#x043C;&#x0438;, &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0438; &#x0438; &#x043F;&#x0440;&#x0438;&#x0435;&#x043C;&#x0430; &#x0431;&#x043B;&#x043E;&#x043A;&#x0438;&#x0440;&#x0443;&#x044E;&#x0442;&#x0441;&#x044F;
&#x0434;&#x043E; &#x0438;&#x0445; &#x043E;&#x043A;&#x043E;&#x043D;&#x0447;&#x0430;&#x043D;&#x0438;&#x044F;:
   <!--l. 303--><div class="lstinputlisting">
<a 
 id="x1-19001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">tchar</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043C;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PIPE_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">\\\\.\\</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">\\</span><span 
class="lass-0900">$$MyPipe$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041C;&#x0430;&#x043A;&#x0441;&#x0438;&#x043C;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CLIENT_COUNT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">10;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0445;&#x043E;&#x0434;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_MESSAGE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">@EXIT@</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bool</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">param</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">started</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateNamedPipe</span><span 
class="lass-0900">(</span><span 
class="lass-0900">_tcsdup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">TEXT</span><span 
class="lass-0900">(</span><span 
class="lass-0900">PIPE_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PIPE_ACCESS_DUPLEX</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PIPE_TYPE_MESSAGE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PIPE_READMODE_MESSAGE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PIPE_WAIT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CLIENT_COUNT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5000,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_HANDLE_VALUE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0430;&#x0435;&#x043C;&#x0441;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x043C;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">ConnectNamedPipe</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connect</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Pipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">CreateThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadExecutor</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Press</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">Enter</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getchar</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">param</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">(</span><span 
class="lass-0900">param</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesRead</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">ReadFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesRead</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">read</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0442;&#x043D;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesWrite</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">WriteFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesWrite</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">write</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">strcmp</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_MESSAGE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ExitThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 305--><p class="indent" >   &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0439; &#x043A;&#x043E;&#x0434; &#x043F;&#x0440;&#x0430;&#x043A;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0438; &#x043D;&#x0435; &#x0438;&#x0437;&#x043C;&#x0435;&#x043D;&#x0438;&#x043B;&#x0441;&#x044F;, &#x0437;&#x0430; &#x0438;&#x0441;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;&#x043C; &#x0434;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; WaitNamedPipe:
   <!--l. 307--><div class="lstinputlisting">
<a 
 id="x1-19082"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19083r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19084r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19085r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">tchar</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19086r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19087r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19088r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19089r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043C;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19090r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PIPE_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">\\\\.\\</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">\\</span><span 
class="lass-0900">$$MyPipe$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19091r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19092r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19093r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0445;&#x043E;&#x0434;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19094r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_MESSAGE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">@EXIT@</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19095r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19096r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19097r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">started</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19098r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19099r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19100r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">WaitNamedPipe</span><span 
class="lass-0900">(</span><span 
class="lass-0900">_tcsdup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">TEXT</span><span 
class="lass-0900">(</span><span 
class="lass-0900">PIPE_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NMPWAIT_WAIT_FOREVER</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19101r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wait</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19102r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19103r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19104r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19105r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">_tcsdup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">TEXT</span><span 
class="lass-0900">(</span><span 
class="lass-0900">PIPE_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">GENERIC_READ</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">GENERIC_WRITE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OPEN_EXISTING</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19106r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_HANDLE_VALUE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19107r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19108r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19109r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19110r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19111r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Connection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">established</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19112r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19113r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19114r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19115r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19116r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19117r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getline</span><span 
class="lass-0900">(</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cin</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19118r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19119r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19120r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesWrite</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19121r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">WriteFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">size</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesWrite</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19122r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">write</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19123r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19124r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19125r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19126r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19127r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_MESSAGE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19128r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19129r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19130r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19131r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19132r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0442;&#x043D;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19133r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesRead</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19134r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">ReadFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesRead</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19135r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">read</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19136r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19137r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19138r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19139r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">server</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19140r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19141r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19142r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19143r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19144r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Press</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">Enter</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19145r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getchar</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19146r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19147r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19148r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 309--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x044F; &#x0441; &#x043C;&#x043D;&#x043E;&#x0436;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;:
<!--l. 311--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-191495"></a>
                                                                                               
                                                                                               
<!--l. 313--><p class="noindent" ><img 
src="../images/p2_2.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.5: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-191495 -->
                                                                                               
                                                                                               
<!--l. 317--><p class="indent" >   </div><hr class="endfigure">
<!--l. 319--><p class="indent" >   &#x0411;&#x044B;&#x043B; &#x0437;&#x0430;&#x043F;&#x0443;&#x0449;&#x0435;&#x043D; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0438; &#x0434;&#x0432;&#x0430; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0445; &#x043E;&#x043A;&#x043D;&#x0430;, &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x043A;&#x0430;&#x0436;&#x0434;&#x044B;&#x0439; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x043F;&#x043E;&#x0441;&#x043B;&#x0430;&#x043B; &#x043F;&#x043E; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044E;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0435; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;
&#x0443;&#x0441;&#x043F;&#x0435;&#x0448;&#x043D;&#x043E; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x043B;.
<h5 class="subsubsectionHead"><a 
 id="x1-200002"></a>3. &#x041C;&#x043E;&#x0434;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0446;&#x0438;&#x044F; &#x0434;&#x043B;&#x044F; &#x0441;&#x0435;&#x0442;&#x0435;&#x0432;&#x043E;&#x0433;&#x043E; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D;&#x0430; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x0435;&#x0439;</h5>
<!--l. 323--><p class="noindent" >&#x0414;&#x043B;&#x044F; &#x0441;&#x043E;&#x0432;&#x043C;&#x0435;&#x0441;&#x0442;&#x043D;&#x043E;&#x0439; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x044B; &#x043D;&#x0443;&#x0436;&#x043D;&#x043E; &#x043F;&#x043E;&#x0434;&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0438;&#x0442;&#x044C; &#x043A; &#x043E;&#x0434;&#x043D;&#x043E;&#x0439; &#x0434;&#x043E;&#x043C;&#x0430;&#x0448;&#x043D;&#x0435;&#x0439; &#x0433;&#x0440;&#x0443;&#x043F;&#x043F;&#x0435;. &#x0422;&#x0430;&#x043A; &#x0436;&#x0435; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x043E;
&#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x0438;&#x0442;&#x044C; &#x043F;&#x043E;&#x043B;&#x0435; DACL &#x0437;&#x0430;&#x0449;&#x0438;&#x0442;&#x044B; &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430; &#x0432; NULL. &#x041F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x044B; &#x0437;&#x0430;&#x0449;&#x0438;&#x0442;&#x044B; &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430; &#x0437;&#x0430;&#x0434;&#x0430;&#x044E;&#x0442;&#x0441;&#x044F; &#x0441;
&#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E; &#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B; SECURITY_ATTRIBUTES, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x0430;&#x044F; &#x0443;&#x043A;&#x0430;&#x0437;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435;&#x0434;&#x043D;&#x0438;&#x043C; &#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x043E;&#x043C; &#x0432; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438;
CreateNamedPipe.
<!--l. 325--><p class="indent" >   &#x041C;&#x043E;&#x0434;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0446;&#x0438;&#x044F; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430; &#x0434;&#x043B;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x043E; &#x0441;&#x0435;&#x0442;&#x0438;:
   <!--l. 327--><div class="lstinputlisting">
<a 
 id="x1-20001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">tchar</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043C;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PIPE_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">\\\\.\\</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">\\</span><span 
class="lass-0900">$$MyPipe$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041C;&#x0430;&#x043A;&#x0441;&#x0438;&#x043C;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CLIENT_COUNT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">10;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0445;&#x043E;&#x0434;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_MESSAGE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">@EXIT@</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bool</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">param</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">started</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F;&#x043C;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x043C;&#x043E;&#x043B;&#x0447;&#x0430;&#x043D;&#x0438;&#x044E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SECURITY_DESCRIPTOR</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">securityDescriptor</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">InitializeSecurityDescriptor</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">securityDescriptor</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SECURITY_DESCRIPTOR_REVISION</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">initialize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">security</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">descriptor</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x043D;&#x0443;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">DACL</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">SetSecurityDescriptorDacl</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">securityDescriptor</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TRUE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FALSE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">set</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">security</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">descriptor</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0442;&#x0440;&#x0438;&#x0431;&#x0443;&#x0442;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SECURITY_ATTRIBUTES</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">securityAttributes</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">securityAttributes</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">securityAttributes</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">securityAttributes</span><span 
class="lass-0900">.</span><span 
class="lass-0900">nLength</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SECURITY_ATTRIBUTES</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">securityAttributes</span><span 
class="lass-0900">.</span><span 
class="lass-0900">lpSecurityDescriptor</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">securityDescriptor</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">securityAttributes</span><span 
class="lass-0900">.</span><span 
class="lass-0900">bInheritHandle</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FALSE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateNamedPipe</span><span 
class="lass-0900">(</span><span 
class="lass-0900">_tcsdup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">TEXT</span><span 
class="lass-0900">(</span><span 
class="lass-0900">PIPE_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PIPE_ACCESS_DUPLEX</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PIPE_TYPE_MESSAGE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PIPE_READMODE_MESSAGE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PIPE_WAIT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CLIENT_COUNT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5000,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">securityAttributes</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_HANDLE_VALUE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0430;&#x0435;&#x043C;&#x0441;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x043C;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">ConnectNamedPipe</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connect</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Pipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">CreateThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadExecutor</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x5</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Press</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">Enter</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getchar</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">param</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">(</span><span 
class="lass-0900">param</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesRead</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">ReadFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesRead</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">read</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x6</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20085r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20086r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20087r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0442;&#x043D;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20088r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesWrite</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20089r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">WriteFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesWrite</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20090r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">write</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20091r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x7</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20092r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20093r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20094r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20095r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">strcmp</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_MESSAGE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20096r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20097r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20098r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20099r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20100r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ExitThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20101r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 329--><p class="indent" >   &#x041C;&#x043E;&#x0434;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0446;&#x0438;&#x044F; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430; &#x0434;&#x043B;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x043E; &#x0441;&#x0435;&#x0442;&#x0438;:
   <!--l. 331--><div class="lstinputlisting">
<a 
 id="x1-20102"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20103r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20104r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20105r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">tchar</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20106r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20107r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20108r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20109r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043C;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20110r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PIPE_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">\\\\.\\</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">\\</span><span 
class="lass-0900">$$MyPipe$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20111r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20112r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20113r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0445;&#x043E;&#x0434;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20114r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_MESSAGE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">@EXIT@</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20115r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20116r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20117r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">started</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20118r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20119r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20120r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">WaitNamedPipe</span><span 
class="lass-0900">(</span><span 
class="lass-0900">_tcsdup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">TEXT</span><span 
class="lass-0900">(</span><span 
class="lass-0900">PIPE_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NMPWAIT_WAIT_FOREVER</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20121r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wait</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20122r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20123r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20124r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20125r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">_tcsdup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">TEXT</span><span 
class="lass-0900">(</span><span 
class="lass-0900">PIPE_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">GENERIC_READ</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">GENERIC_WRITE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OPEN_EXISTING</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20126r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_HANDLE_VALUE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20127r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20128r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20129r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20130r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20131r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Connection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">established</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20132r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20133r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20134r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20135r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20136r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20137r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getline</span><span 
class="lass-0900">(</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cin</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20138r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20139r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20140r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesWrite</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20141r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">WriteFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">size</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesWrite</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20142r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">write</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20143r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20144r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20145r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20146r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20147r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_MESSAGE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20148r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20149r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20150r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20151r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20152r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0442;&#x043D;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20153r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesRead</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20154r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">ReadFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesRead</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20155r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">read</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20156r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20157r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20158r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20159r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">server</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20160r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20161r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20162r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">namedPipe</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20163r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20164r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Press</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">Enter</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20165r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getchar</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20166r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20167r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20168r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 333--><p class="indent" >   &#x0421;&#x0435;&#x0442;&#x0435;&#x0432;&#x044B;&#x0435; &#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x044B; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;:
<!--l. 335--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-201696"></a>
                                                                                               
                                                                                               
<!--l. 337--><p class="noindent" ><img 
src="../images/p2_3_client_config.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.6: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-201696 -->
                                                                                               
                                                                                               
<!--l. 341--><p class="indent" >   </div><hr class="endfigure">
<!--l. 343--><p class="indent" >   &#x0421;&#x0435;&#x0442;&#x0435;&#x0432;&#x044B;&#x0435; &#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x044B; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;:
<!--l. 345--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-201707"></a>
                                                                                               
                                                                                               
<!--l. 347--><p class="noindent" ><img 
src="../images/p2_3_server_config.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.7: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-201707 -->
                                                                                               
                                                                                               
<!--l. 351--><p class="indent" >   </div><hr class="endfigure">
<!--l. 353--><p class="indent" >   &#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0430; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x0433;&#x043E; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;:
<!--l. 355--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-201718"></a>
                                                                                               
                                                                                               
<!--l. 357--><p class="noindent" ><img 
src="../images/p2_3_client_result.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.8: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-201718 -->
                                                                                               
                                                                                               
<!--l. 361--><p class="indent" >   </div><hr class="endfigure">
<!--l. 363--><p class="indent" >   &#x041F;&#x0440;&#x0438;&#x0435;&#x043C; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0443;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x043C; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043E;&#x043C;:
<!--l. 365--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-201729"></a>
                                                                                               
                                                                                               
<!--l. 367--><p class="noindent" ><img 
src="../images/p2_3_server_result.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.9: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-201729 -->
                                                                                               
                                                                                               
<!--l. 371--><p class="indent" >   </div><hr class="endfigure">
<!--l. 373--><p class="indent" >   &#x041A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x044B; &#x0431;&#x044B;&#x043B;&#x0438; &#x043E;&#x0431;&#x044A;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x044B; &#x0432; &#x043E;&#x0431;&#x0449;&#x0443;&#x044E; &#x0434;&#x043E;&#x043C;&#x0430;&#x0448;&#x043D;&#x044E;&#x044E; &#x0433;&#x0440;&#x0443;&#x043F;&#x043F;&#x0443;, &#x0447;&#x0442;&#x043E; &#x043F;&#x043E;&#x0437;&#x0432;&#x043E;&#x043B;&#x0438;&#x043B;&#x043E; &#x0438;&#x043C; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D;&#x0438;&#x0432;&#x0430;&#x0442;&#x044C;&#x0441;&#x044F; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;&#x043C;&#x0438;
&#x0443;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x043D;&#x043E; &#x043F;&#x0440;&#x0438; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x0438; &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;.
<a 
 id="x1-20173r26"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.3   </span> <a 
 id="x1-210003"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 3. &#x0421;&#x043E;&#x043A;&#x0435;&#x0442;&#x044B;</h4>
<!--l. 377--><p class="noindent" >WinSock &#x0438;&#x043B;&#x0438; Windows socket - &#x044D;&#x0442;&#x043E; &#x0438;&#x043D;&#x0442;&#x0435;&#x0440;&#x0444;&#x0435;&#x0439;&#x0441; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F; (API) &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439; &#x0434;&#x043B;&#x044F; &#x0440;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;
&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0439; &#x0432; &#x0441;&#x0435;&#x0442;&#x0438; &#x043D;&#x0430; &#x043E;&#x0441;&#x043D;&#x043E;&#x0432;&#x0435; &#x043F;&#x0440;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x043B;&#x0430; TCP/IP. &#x0414;&#x043B;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; WSOCK32.DLL. Windows socket
&#x0440;&#x0430;&#x0437;&#x0440;&#x0430;&#x0431;&#x0430;&#x0442;&#x044B;&#x0432;&#x0430;&#x043B;&#x0441;&#x044F; &#x043D;&#x0430; &#x043E;&#x0441;&#x043D;&#x043E;&#x0432;&#x0435; &#x0438;&#x043D;&#x0442;&#x0435;&#x0440;&#x0444;&#x0435;&#x0439;&#x0441;&#x0430; &#x0411;&#x0435;&#x0440;&#x043A;&#x043B;&#x0438; &#x0434;&#x043B;&#x044F; UNIX, &#x043D;&#x043E; &#x043A; &#x043D;&#x0438;&#x043C; &#x0434;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x044B; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; &#x043F;&#x043E;&#x0434;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x0438; &#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0439;
Windows.
<!--l. 379--><p class="indent" >   &#x0415;&#x0441;&#x0442;&#x044C; &#x0434;&#x0432;&#x0435; &#x0432;&#x0435;&#x0440;&#x0441;&#x0438;&#x0438; &#x0431;&#x0438;&#x0431;&#x043B;&#x0438;&#x043E;&#x0442;&#x0435;&#x043A;&#x0438; WinSock:
     <ul class="itemize1">
     <li class="itemize"><span 
class="lati-1000">WinSock 1.1 </span>- &#x043F;&#x043E;&#x0434;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x0430; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; TCP/IP.
     </li>
     <li class="itemize"><span 
class="lati-1000">WinSock 2.0 </span>- &#x041F;&#x043E;&#x0434;&#x0434;&#x0435;&#x0440;&#x043A;&#x0430; &#x0434;&#x043E;&#x043F;&#x043E;&#x043B;&#x043D;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x043E;&#x0431;&#x0435;&#x0441;&#x043F;&#x0435;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F;.</li></ul>
<!--l. 386--><p class="indent" >   &#x0421;&#x043F;&#x0435;&#x0446;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0446;&#x0438;&#x044F; WinSock &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x0442; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; &#x043D;&#x0430; &#x0442;&#x0440;&#x0438; &#x0442;&#x0438;&#x043F;&#x0430;:
     <ul class="itemize1">
     <li class="itemize">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; &#x0411;&#x0435;&#x0440;&#x043A;&#x043B;&#x0438;.
     </li>
     <li class="itemize">&#x0418;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x044B;&#x0435; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; (&#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x0438; &#x043E; &#x043D;&#x0430;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0438; &#x0434;&#x043E;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;, &#x0441;&#x043B;&#x0443;&#x0436;&#x0431;&#x0430;&#x0445;, &#x043F;&#x0440;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x043B;&#x0430;&#x0445;
     Internet).
     </li>
     <li class="itemize">&#x0420;&#x0430;&#x0441;&#x0448;&#x0438;&#x0440;&#x0435;&#x043D;&#x0438;&#x044F; Windows &#x0434;&#x043B;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0439; &#x0411;&#x0435;&#x0440;&#x043A;&#x043B;&#x0438;.</li></ul>
<h5 class="subsubsectionHead"><a 
 id="x1-220003"></a>1 - 3. &#x041C;&#x043D;&#x043E;&#x0433;&#x043E;&#x043F;&#x043E;&#x0442;&#x043E;&#x0447;&#x043D;&#x044B;&#x0439; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;, &#x043E;&#x0431;&#x0441;&#x043B;&#x0443;&#x0436;&#x0438;&#x0432;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F; &#x043C;&#x043D;&#x043E;&#x0436;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;, &#x043F;&#x043E;&#x0434;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x0432;&#x0430;&#x044E;&#x0449;&#x0438;&#x0439; &#x0441;&#x0435;&#x0442;&#x0435;&#x0432;&#x043E;&#x0439; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D;
&#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x0435;&#x0439;</h5>
<!--l. 396--><p class="noindent" >&#x0420;&#x0430;&#x0437;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x0435;&#x043C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443; <span 
class="lati-1000">TCP </span>&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0439; &#x0432; &#x0431;&#x0435;&#x0441;&#x043A;&#x043E;&#x043D;&#x0435;&#x0447;&#x043D;&#x043E;&#x043C; &#x0446;&#x0438;&#x043A;&#x043B;&#x0435; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x0442; &#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;,
&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x0442; &#x0434;&#x043B;&#x044F; &#x043A;&#x0430;&#x0436;&#x0434;&#x043E;&#x0433;&#x043E; &#x0438;&#x0437; &#x043D;&#x0438;&#x0445; &#x043D;&#x043E;&#x0432;&#x044B;&#x0439; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;, &#x043F;&#x0440;&#x0438;&#x043D;&#x0438;&#x043C;&#x0430;&#x0435;&#x0442; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430; &#x0438; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442; &#x0438;&#x0445; &#x043D;&#x0430;&#x0437;&#x0430;&#x0434;. &#x0422;&#x0430;&#x043A;&#x0436;&#x0435;
&#x0440;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; &#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F; &#x0434;&#x043B;&#x044F; &#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0432;&#x0441;&#x0435;&#x0445; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432; &#x0438; &#x0437;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x044F;
&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x043E;&#x0432;:
   <!--l. 398--><div class="lstinputlisting">
<a 
 id="x1-22001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">map</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">winsock2</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">ws2tcpip</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">pragma</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">comment</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">lib</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Ws2_32</span><span 
class="lass-0900">.</span><span 
class="lass-0900">lib</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">65100</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BACKLOG</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1000;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x043B;&#x043B;&#x0435;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0445;&#x0440;&#x0430;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x0439;</span><span 
class="lasi-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">+</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">map</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">shared_ptr</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x003E;&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threads</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lasx-0900">void</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientExecutor</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">void</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bufferSize</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">destroyClient</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSADATA</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsaData</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsaStartup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSAStartup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">MAKEWORD</span><span 
class="lass-0900">(2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">wsaData</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">wsaStartup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsa</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">addrinfo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">.</span><span 
class="lass-0900">ai_family</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">.</span><span 
class="lass-0900">ai_socktype</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCK_STREAM</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">.</span><span 
class="lass-0900">ai_protocol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPPROTO_TCP</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">.</span><span 
class="lass-0900">ai_flags</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">AI_PASSIVE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">addrinfo</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">addressInfo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getaddrinfo</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">addressInfo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">get</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_family</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_socktype</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_protocol</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_SOCKET</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0411;&#x0438;&#x043D;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverBind</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bind</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_addr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_addrlen</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverBind</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET_ERROR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bind</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22085r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22086r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22087r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22088r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">freeaddrinfo</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22089r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22090r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043B;&#x0443;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22091r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverListen</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">listen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BACKLOG</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22092r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverListen</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET_ERROR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22093r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">listen</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22094r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22095r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22096r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x5</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22097r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22098r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22099r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22100r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22101r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22102r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Wait</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22103r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22104r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22105r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0416;&#x0434;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22106r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">accept</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22107r106"></a><span 
class="larm-0500">106</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22108r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_SOCKET</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22109r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">continue</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22110r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22111r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x043E;&#x0431;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22112r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bindThread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">bind</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">clientExecutor</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">placeholders</span><span 
class="lass-0900">::</span><span 
class="lass-0900">_1</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22113r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sharedThread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">make_shared</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x003E;(</span><span 
class="lass-0900">bindThread</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22114r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22115r114"></a><span 
class="larm-0500">114</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0414;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043B;&#x043B;&#x0435;&#x043A;&#x0446;&#x0438;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x0440;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x0439;</span><span 
class="lasi-0900">:</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">+</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22116r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threads</span><span 
class="lass-0900">.</span><span 
class="lass-0900">insert</span><span 
class="lass-0900">(</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">pair</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">shared_ptr</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x003E;&#x003E;(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sharedThread</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22117r116"></a><span 
class="larm-0500">116</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22118r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22119r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22120r119"></a><span 
class="larm-0500">119</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22121r120"></a><span 
class="larm-0500">120</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0414;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x044D;&#x043B;&#x0435;&#x043C;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043B;&#x043B;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22122r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threads</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22123r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finish</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">with</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="lass-0900">.</span><span 
class="lass-0900">first</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22124r123"></a><span 
class="larm-0500">123</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x044B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22125r124"></a><span 
class="larm-0500">124</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">current</span><span 
class="lass-0900">.</span><span 
class="lass-0900">first</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22126r125"></a><span 
class="larm-0500">125</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="lass-0900">.</span><span 
class="lass-0900">first</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22127r126"></a><span 
class="larm-0500">126</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22128r127"></a><span 
class="larm-0500">127</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22129r128"></a><span 
class="larm-0500">128</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22130r129"></a><span 
class="larm-0500">129</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22131r130"></a><span 
class="larm-0500">130</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22132r131"></a><span 
class="larm-0500">131</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22133r132"></a><span 
class="larm-0500">132</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22134r133"></a><span 
class="larm-0500">133</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22135r134"></a><span 
class="larm-0500">134</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22136r135"></a><span 
class="larm-0500">135</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22137r136"></a><span 
class="larm-0500">136</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22138r137"></a><span 
class="larm-0500">137</span></span><span 
class="lasx-0900">void</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientExecutor</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">void</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22139r138"></a><span 
class="larm-0500">138</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">((</span><span 
class="lass-0900">SOCKET</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22140r139"></a><span 
class="larm-0500">139</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22141r140"></a><span 
class="larm-0500">140</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">with</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22142r141"></a><span 
class="larm-0500">141</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22143r142"></a><span 
class="larm-0500">142</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22144r143"></a><span 
class="larm-0500">143</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22145r144"></a><span 
class="larm-0500">144</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22146r145"></a><span 
class="larm-0500">145</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22147r146"></a><span 
class="larm-0500">146</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22148r147"></a><span 
class="larm-0500">147</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">destroyClient</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22149r148"></a><span 
class="larm-0500">148</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22150r149"></a><span 
class="larm-0500">149</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22151r150"></a><span 
class="larm-0500">150</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22152r151"></a><span 
class="larm-0500">151</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22153r152"></a><span 
class="larm-0500">152</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">destroyClient</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22154r153"></a><span 
class="larm-0500">153</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22155r154"></a><span 
class="larm-0500">154</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22156r155"></a><span 
class="larm-0500">155</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22157r156"></a><span 
class="larm-0500">156</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22158r157"></a><span 
class="larm-0500">157</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22159r158"></a><span 
class="larm-0500">158</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0437;&#x0430;&#x0434;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22160r159"></a><span 
class="larm-0500">159</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22161r160"></a><span 
class="larm-0500">160</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22162r161"></a><span 
class="larm-0500">161</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">destroyClient</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22163r162"></a><span 
class="larm-0500">162</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22164r163"></a><span 
class="larm-0500">163</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22165r164"></a><span 
class="larm-0500">164</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22166r165"></a><span 
class="larm-0500">165</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22167r166"></a><span 
class="larm-0500">166</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22168r167"></a><span 
class="larm-0500">167</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22169r168"></a><span 
class="larm-0500">168</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22170r169"></a><span 
class="larm-0500">169</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bufferSize</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22171r170"></a><span 
class="larm-0500">170</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0447;&#x0438;&#x0449;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22172r171"></a><span 
class="larm-0500">171</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bufferSize</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22173r172"></a><span 
class="larm-0500">172</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22174r173"></a><span 
class="larm-0500">173</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22175r174"></a><span 
class="larm-0500">174</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">index</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22176r175"></a><span 
class="larm-0500">175</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0434;&#x043D;&#x043E;&#x043C;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22177r176"></a><span 
class="larm-0500">176</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readSize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">recv</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22178r177"></a><span 
class="larm-0500">177</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readSize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22179r178"></a><span 
class="larm-0500">178</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22180r179"></a><span 
class="larm-0500">179</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22181r180"></a><span 
class="larm-0500">180</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22182r181"></a><span 
class="larm-0500">181</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22183r182"></a><span 
class="larm-0500">182</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22184r183"></a><span 
class="larm-0500">183</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">r</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22185r184"></a><span 
class="larm-0500">184</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">index</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22186r185"></a><span 
class="larm-0500">185</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22187r186"></a><span 
class="larm-0500">186</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22188r187"></a><span 
class="larm-0500">187</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22189r188"></a><span 
class="larm-0500">188</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22190r189"></a><span 
class="larm-0500">189</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22191r190"></a><span 
class="larm-0500">190</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22192r191"></a><span 
class="larm-0500">191</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22193r192"></a><span 
class="larm-0500">192</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22194r193"></a><span 
class="larm-0500">193</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0435;&#x0440;&#x0435;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0435;&#x0446;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0432;&#x043E;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22195r194"></a><span 
class="larm-0500">194</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22196r195"></a><span 
class="larm-0500">195</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22197r196"></a><span 
class="larm-0500">196</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22198r197"></a><span 
class="larm-0500">197</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22199r198"></a><span 
class="larm-0500">198</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22200r199"></a><span 
class="larm-0500">199</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22201r200"></a><span 
class="larm-0500">200</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22202r201"></a><span 
class="larm-0500">201</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">length</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22203r202"></a><span 
class="larm-0500">202</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22204r203"></a><span 
class="larm-0500">203</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22205r204"></a><span 
class="larm-0500">204</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22206r205"></a><span 
class="larm-0500">205</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22207r206"></a><span 
class="larm-0500">206</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22208r207"></a><span 
class="larm-0500">207</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22209r208"></a><span 
class="larm-0500">208</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22210r209"></a><span 
class="larm-0500">209</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22211r210"></a><span 
class="larm-0500">210</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22212r211"></a><span 
class="larm-0500">211</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22213r212"></a><span 
class="larm-0500">212</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22214r213"></a><span 
class="larm-0500">213</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socketShutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shutdown</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SD_BOTH</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22215r214"></a><span 
class="larm-0500">214</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socketShutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22216r215"></a><span 
class="larm-0500">215</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22217r216"></a><span 
class="larm-0500">216</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22218r217"></a><span 
class="larm-0500">217</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22219r218"></a><span 
class="larm-0500">218</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22220r219"></a><span 
class="larm-0500">219</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22221r220"></a><span 
class="larm-0500">220</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22222r221"></a><span 
class="larm-0500">221</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">destroyClient</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22223r222"></a><span 
class="larm-0500">222</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">receive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">or</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22224r223"></a><span 
class="larm-0500">223</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22225r224"></a><span 
class="larm-0500">224</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22226r225"></a><span 
class="larm-0500">225</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043B;&#x043B;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22227r226"></a><span 
class="larm-0500">226</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threads</span><span 
class="lass-0900">.</span><span 
class="lass-0900">at</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">detach</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22228r227"></a><span 
class="larm-0500">227</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043B;&#x043B;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x044E;&#x0447;&#x044E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22229r228"></a><span 
class="larm-0500">228</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threads</span><span 
class="lass-0900">.</span><span 
class="lass-0900">erase</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22230r229"></a><span 
class="larm-0500">229</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22231r230"></a><span 
class="larm-0500">230</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22232r231"></a><span 
class="larm-0500">231</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 400--><p class="indent" >   &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x043A; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;, &#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0438;&#x0437; &#x043A;&#x043E;&#x043D;&#x0441;&#x043E;&#x043B;&#x0438; &#x0438; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442; &#x0438;&#x0445; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;, &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E;
&#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x0442; &#x043E;&#x0442;&#x0432;&#x0435;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;. &#x0415;&#x0441;&#x043B;&#x0438; &#x0431;&#x044B;&#x043B;&#x043E; &#x0432;&#x0432;&#x0435;&#x0434;&#x0435;&#x043D;&#x043E; &#x043F;&#x0443;&#x0441;&#x0442;&#x043E;&#x0435; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;, &#x0442;&#x043E; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442;
&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;:
   <!--l. 402--><div class="lstinputlisting">
<a 
 id="x1-22235"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22236r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22237r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22238r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22239r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22240r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">winsock2</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22241r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">ws2tcpip</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22242r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22243r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22244r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22245r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">pragma</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">comment</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">lib</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Ws2_32</span><span 
class="lass-0900">.</span><span 
class="lass-0900">lib</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22246r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22247r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">65100</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22248r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">127.0.0.1</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22249r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22250r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BACKLOG</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22251r16"></a><span 
class="larm-0500">16</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1000;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22252r17"></a><span 
class="larm-0500">17</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22253r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22254r19"></a><span 
class="larm-0500">19</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22255r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22256r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22257r22"></a><span 
class="larm-0500">22</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22258r23"></a><span 
class="larm-0500">23</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22259r24"></a><span 
class="larm-0500">24</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22260r25"></a><span 
class="larm-0500">25</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bufferSize</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22261r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22262r27"></a><span 
class="larm-0500">27</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22263r28"></a><span 
class="larm-0500">28</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22264r29"></a><span 
class="larm-0500">29</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22265r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22266r31"></a><span 
class="larm-0500">31</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22267r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22268r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22269r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22270r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22271r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22272r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22273r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22274r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22275r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22276r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[2];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22277r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22278r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22279r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSADATA</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsaData</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22280r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsaStartup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSAStartup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">MAKEWORD</span><span 
class="lass-0900">(2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">wsaData</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22281r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">wsaStartup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22282r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsa</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22283r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22284r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22285r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22286r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">addrinfo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22287r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22288r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">.</span><span 
class="lass-0900">ai_family</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22289r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">.</span><span 
class="lass-0900">ai_socktype</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCK_STREAM</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22290r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">.</span><span 
class="lass-0900">ai_protocol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPPROTO_TCP</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22291r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22292r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">addrinfo</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">addressResult</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22293r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">addressInfo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getaddrinfo</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">addressResult</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22294r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">addressInfo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22295r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">get</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22296r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22297r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22298r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22299r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22300r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">currentPtr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">addressResult</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">currentPtr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">currentPtr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">currentPtr</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_next</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22301r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">currentPtr</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_family</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">currentPtr</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_socktype</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">currentPtr</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_protocol</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22302r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_SOCKET</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22303r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22304r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22305r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22306r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22307r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22308r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverConnection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connect</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">currentPtr</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_addr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">currentPtr</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_addrlen</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22309r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverConnection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET_ERROR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22310r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22311r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22312r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22313r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_SOCKET</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22314r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22315r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22316r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">freeaddrinfo</span><span 
class="lass-0900">(</span><span 
class="lass-0900">addressResult</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22317r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22318r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_SOCKET</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22319r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connection</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22320r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22321r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22322r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22323r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22324r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22325r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Connection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">established</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22326r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22327r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22328r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22329r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22330r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22331r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22332r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22333r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22334r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">clear</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22335r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getline</span><span 
class="lass-0900">(</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cin</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22336r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22337r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">empty</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">size</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">back</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22338r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Empty</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22339r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22340r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22341r106"></a><span 
class="larm-0500">106</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22342r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22343r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22344r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22345r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22346r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22347r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22348r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22349r114"></a><span 
class="larm-0500">114</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22350r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22351r116"></a><span 
class="larm-0500">116</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22352r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22353r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22354r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22355r120"></a><span 
class="larm-0500">120</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22356r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">receive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22357r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22358r123"></a><span 
class="larm-0500">123</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22359r124"></a><span 
class="larm-0500">124</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22360r125"></a><span 
class="larm-0500">125</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22361r126"></a><span 
class="larm-0500">126</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22362r127"></a><span 
class="larm-0500">127</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22363r128"></a><span 
class="larm-0500">128</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22364r129"></a><span 
class="larm-0500">129</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22365r130"></a><span 
class="larm-0500">130</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22366r131"></a><span 
class="larm-0500">131</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22367r132"></a><span 
class="larm-0500">132</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22368r133"></a><span 
class="larm-0500">133</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22369r134"></a><span 
class="larm-0500">134</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22370r135"></a><span 
class="larm-0500">135</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22371r136"></a><span 
class="larm-0500">136</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22372r137"></a><span 
class="larm-0500">137</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22373r138"></a><span 
class="larm-0500">138</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22374r139"></a><span 
class="larm-0500">139</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22375r140"></a><span 
class="larm-0500">140</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22376r141"></a><span 
class="larm-0500">141</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bufferSize</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22377r142"></a><span 
class="larm-0500">142</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0447;&#x0438;&#x0449;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22378r143"></a><span 
class="larm-0500">143</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bufferSize</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22379r144"></a><span 
class="larm-0500">144</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22380r145"></a><span 
class="larm-0500">145</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22381r146"></a><span 
class="larm-0500">146</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">index</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22382r147"></a><span 
class="larm-0500">147</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0434;&#x043D;&#x043E;&#x043C;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22383r148"></a><span 
class="larm-0500">148</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readSize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">recv</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22384r149"></a><span 
class="larm-0500">149</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readSize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22385r150"></a><span 
class="larm-0500">150</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22386r151"></a><span 
class="larm-0500">151</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22387r152"></a><span 
class="larm-0500">152</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22388r153"></a><span 
class="larm-0500">153</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22389r154"></a><span 
class="larm-0500">154</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22390r155"></a><span 
class="larm-0500">155</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">r</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22391r156"></a><span 
class="larm-0500">156</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">index</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22392r157"></a><span 
class="larm-0500">157</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22393r158"></a><span 
class="larm-0500">158</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22394r159"></a><span 
class="larm-0500">159</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22395r160"></a><span 
class="larm-0500">160</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22396r161"></a><span 
class="larm-0500">161</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22397r162"></a><span 
class="larm-0500">162</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22398r163"></a><span 
class="larm-0500">163</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0435;&#x0440;&#x0435;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0435;&#x0446;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0432;&#x043E;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22399r164"></a><span 
class="larm-0500">164</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">empty</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22400r165"></a><span 
class="larm-0500">165</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22401r166"></a><span 
class="larm-0500">166</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22402r167"></a><span 
class="larm-0500">167</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">back</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22403r168"></a><span 
class="larm-0500">168</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22404r169"></a><span 
class="larm-0500">169</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22405r170"></a><span 
class="larm-0500">170</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22406r171"></a><span 
class="larm-0500">171</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">size</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22407r172"></a><span 
class="larm-0500">172</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22408r173"></a><span 
class="larm-0500">173</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22409r174"></a><span 
class="larm-0500">174</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22410r175"></a><span 
class="larm-0500">175</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22411r176"></a><span 
class="larm-0500">176</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socketShutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shutdown</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SD_BOTH</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22412r177"></a><span 
class="larm-0500">177</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socketShutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET_ERROR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22413r178"></a><span 
class="larm-0500">178</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22414r179"></a><span 
class="larm-0500">179</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22415r180"></a><span 
class="larm-0500">180</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22416r181"></a><span 
class="larm-0500">181</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socketClose</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22417r182"></a><span 
class="larm-0500">182</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 404--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x043E;&#x0434;&#x043D;&#x043E;&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E;&#x0439; &#x043B;&#x043E;&#x043A;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0439; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x0438;&#x0445; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;:
<!--l. 406--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-2241810"></a>
                                                                                               
                                                                                               
<!--l. 408--><p class="noindent" ><img 
src="../images/p3_1.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.10: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-2241810 -->
                                                                                               
                                                                                               
<!--l. 412--><p class="indent" >   </div><hr class="endfigure">
<!--l. 414--><p class="indent" >   &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x044B; &#x0443;&#x0441;&#x043F;&#x0435;&#x0448;&#x043D;&#x043E; &#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x0438;&#x043B;&#x0438; &#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x0435; &#x0441; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043E;&#x043C;, &#x0430; &#x0442;&#x0430;&#x043A;&#x0436;&#x0435; &#x043E;&#x0441;&#x0443;&#x0449;&#x0435;&#x0441;&#x0442;&#x0432;&#x0438;&#x043B;&#x0438; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;&#x043C;&#x0438;.
<!--l. 416--><p class="indent" >   &#x041E;&#x0434;&#x043D;&#x0430;&#x043A;&#x043E;, &#x0432; &#x043E;&#x0441;&#x043D;&#x043E;&#x0432;&#x043D;&#x043E;&#x043C; &#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x044B; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044E;&#x0442; &#x0434;&#x043B;&#x044F; &#x0441;&#x0435;&#x0442;&#x0435;&#x0432;&#x043E;&#x0433;&#x043E; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D;&#x0430; &#x043F;&#x0430;&#x043A;&#x0435;&#x0442;&#x0430;&#x043C;&#x0438;. &#x0412;&#x044B;&#x0448;&#x0435;&#x043E;&#x043F;&#x0438;&#x0441;&#x0430;&#x043D;&#x043D;&#x043E;&#x043C;&#x0443; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0443; &#x0438; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443; &#x043D;&#x0435;
&#x043D;&#x0443;&#x0436;&#x043D;&#x044B; &#x0434;&#x043E;&#x043F;&#x043E;&#x043B;&#x043D;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x044B;&#x0435; &#x043C;&#x043E;&#x0434;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0446;&#x0438;&#x0438; &#x0434;&#x043B;&#x044F; &#x0441;&#x0435;&#x0442;&#x0435;&#x0432;&#x043E;&#x0433;&#x043E; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D;&#x0430;. &#x041E;&#x0434;&#x043D;&#x0430;&#x043A;&#x043E; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x043E; &#x0443;&#x0437;&#x043D;&#x0430;&#x0442;&#x044C; ip &#x0430;&#x0434;&#x0440;&#x0435;&#x0441; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x0430; &#x0441;
&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043E;&#x043C; &#x0438; &#x0443;&#x043A;&#x0430;&#x0437;&#x0430;&#x0442;&#x044C; &#x0435;&#x0433;&#x043E; &#x0432; &#x043A;&#x0430;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0435; &#x0430;&#x0440;&#x0433;&#x0443;&#x043C;&#x0435;&#x043D;&#x0442;&#x0430; &#x043A;&#x043E;&#x043C;&#x0430;&#x043D;&#x0434;&#x043D;&#x043E;&#x0439; &#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;.
<!--l. 418--><p class="indent" >   &#x0421;&#x0435;&#x0442;&#x0435;&#x0432;&#x044B;&#x0435; &#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x044B; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;:
<!--l. 420--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-2241911"></a>
                                                                                               
                                                                                               
<!--l. 422--><p class="noindent" ><img 
src="../images/p3_3_client_config.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.11: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-2241911 -->
                                                                                               
                                                                                               
<!--l. 426--><p class="indent" >   </div><hr class="endfigure">
<!--l. 428--><p class="indent" >   &#x0421;&#x0435;&#x0442;&#x0435;&#x0432;&#x044B;&#x0435; &#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x044B; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;:
<!--l. 430--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-2242012"></a>
                                                                                               
                                                                                               
<!--l. 432--><p class="noindent" ><img 
src="../images/p3_3_server_config.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.12: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-2242012 -->
                                                                                               
                                                                                               
<!--l. 436--><p class="indent" >   </div><hr class="endfigure">
                                                                                               
                                                                                               
<!--l. 440--><p class="indent" >   &#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0430; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x0433;&#x043E; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;:
<!--l. 442--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-2242113"></a>
                                                                                               
                                                                                               
<!--l. 444--><p class="noindent" ><img 
src="../images/p3_3_client_result.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.13: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-2242113 -->
                                                                                               
                                                                                               
<!--l. 448--><p class="indent" >   </div><hr class="endfigure">
<!--l. 450--><p class="indent" >   &#x041F;&#x0440;&#x0438;&#x0435;&#x043C; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0443;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x043C; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043E;&#x043C;:
<!--l. 452--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-2242214"></a>
                                                                                               
                                                                                               
<!--l. 454--><p class="noindent" ><img 
src="../images/p3_3_server_result.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.14: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-2242214 -->
                                                                                               
                                                                                               
<!--l. 458--><p class="indent" >   </div><hr class="endfigure">
<!--l. 460--><p class="indent" >   &#x0412; &#x043F;&#x0435;&#x0440;&#x0432;&#x0443;&#x044E; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C; &#x0431;&#x044B;&#x043B; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D; &#x0432;&#x043D;&#x0443;&#x0442;&#x0440;&#x0435;&#x043D;&#x043D;&#x0438;&#x0439; ip &#x0430;&#x0434;&#x0440;&#x0435;&#x0441; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0433;&#x043E; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x0430;. &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x0431;&#x044B;&#x043B; &#x043E;&#x043D;
&#x0431;&#x044B;&#x043B; &#x0443;&#x043A;&#x0430;&#x0437;&#x0430;&#x043D; &#x0432; &#x043A;&#x0430;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0435; &#x0430;&#x0440;&#x0433;&#x0443;&#x043C;&#x0435;&#x043D;&#x0442;&#x0430; &#x043A;&#x043E;&#x043C;&#x0430;&#x043D;&#x0434;&#x043D;&#x043E;&#x0439; &#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438; &#x0434;&#x043B;&#x044F; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;. &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x0431;&#x044B;&#x043B; &#x043E;&#x0441;&#x0443;&#x0449;&#x0435;&#x0441;&#x0442;&#x0432;&#x043B;&#x0435;&#x043D; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D;
&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;&#x043C;&#x0438;.
<h5 class="subsubsectionHead"><a 
 id="x1-230003"></a>4. &#x041E;&#x0431;&#x043C;&#x0435;&#x043D; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;&#x043C;&#x0438; &#x043C;&#x0435;&#x0436;&#x0434;&#x0443; &#x0440;&#x0430;&#x0437;&#x043D;&#x044B;&#x043C;&#x0438; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x044B;&#x043C;&#x0438; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0430;&#x043C;&#x0438;</h5>
<!--l. 464--><p class="noindent" >&#x0411;&#x044B;&#x043B;&#x0430; &#x0440;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0430; &#x0441;&#x0435;&#x0442;&#x0435;&#x0432;&#x0430;&#x044F; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0430; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439; &#x043C;&#x0435;&#x0436;&#x0434;&#x0443; &#x0440;&#x0430;&#x0437;&#x043D;&#x044B;&#x043C;&#x0438; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x044B;&#x043C;&#x0438; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0430;&#x043C;&#x0438;. &#x0421;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0435; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435;
&#x0431;&#x044B;&#x043B;&#x043E; &#x0437;&#x0430;&#x043F;&#x0443;&#x0449;&#x0435;&#x043D;&#x043E; &#x043D;&#x0430; Windows 10 (&#x043F;&#x043E;&#x043B;&#x043D;&#x044B;&#x0435; &#x0445;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B; &#x043F;&#x0440;&#x0438;&#x0432;&#x0435;&#x0434;&#x0435;&#x043D;&#x044B; &#x0432; &#x043D;&#x0430;&#x0447;&#x0430;&#x043B;&#x0435; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;), &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x0435;
&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435; &#x0431;&#x044B;&#x043B;&#x043E; &#x0437;&#x0430;&#x043F;&#x0443;&#x0449;&#x0435;&#x043D;&#x043E; &#x043D;&#x0430; Ubuntu 16.1 (&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x0435; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435; &#x0438; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0430; &#x0432;&#x0437;&#x044F;&#x0442;&#x044B; &#x0438;&#x0437; &#x043B;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430;&#x0442;&#x043E;&#x0440;&#x043D;&#x043E;&#x0439; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;
"&#x0421;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x0430; &#x043C;&#x0435;&#x0436;&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0440;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x044F; Linux").
<!--l. 466--><p class="indent" >   &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x0435; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435; &#x0434;&#x043B;&#x044F; Linux:
   <!--l. 468--><div class="lstinputlisting">
<a 
 id="x1-23001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">arpa</span><span 
class="lass-0900">/</span><span 
class="lass-0900">inet</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">netinet</span><span 
class="lass-0900">/</span><span 
class="lass-0900">in</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">types</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">65100</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">127.0.0.1</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BACKLOG</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1000</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">16</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bufferSize</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">[</span><span 
class="lass-0900">IP_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">atoi</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[2])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCK_STREAM</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPPROTO_TCP</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0434;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0445;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_family</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">htons</span><span 
class="lass-0900">(</span><span 
class="lass-0900">port</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_addr</span><span 
class="lass-0900">.</span><span 
class="lass-0900">s_addr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">inet_addr</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientConnect</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connect</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">info</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientConnect</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connect</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Connection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">established</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Ready</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bzero</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fgets</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stdin</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[0]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Empty</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23085r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23086r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23087r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23088r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23089r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23090r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23091r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23092r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23093r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23094r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23095r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23096r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">receive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23097r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23098r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23099r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23100r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23101r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23102r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23103r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23104r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23105r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23106r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23107r106"></a><span 
class="larm-0500">106</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23108r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23109r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23110r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23111r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23112r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23113r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23114r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23115r114"></a><span 
class="larm-0500">114</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bufferSize</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23116r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0447;&#x0438;&#x0449;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23117r116"></a><span 
class="larm-0500">116</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bzero</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bufferSize</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23118r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23119r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23120r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">index</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23121r120"></a><span 
class="larm-0500">120</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0434;&#x043D;&#x043E;&#x043C;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23122r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readSize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">recv</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23123r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readSize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23124r123"></a><span 
class="larm-0500">123</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23125r124"></a><span 
class="larm-0500">124</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23126r125"></a><span 
class="larm-0500">125</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23127r126"></a><span 
class="larm-0500">126</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">r</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23128r127"></a><span 
class="larm-0500">127</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">index</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23129r128"></a><span 
class="larm-0500">128</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23130r129"></a><span 
class="larm-0500">129</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23131r130"></a><span 
class="larm-0500">130</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23132r131"></a><span 
class="larm-0500">131</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23133r132"></a><span 
class="larm-0500">132</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23134r133"></a><span 
class="larm-0500">133</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23135r134"></a><span 
class="larm-0500">134</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">unsigned</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23136r135"></a><span 
class="larm-0500">135</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23137r136"></a><span 
class="larm-0500">136</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0435;&#x0440;&#x0435;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0435;&#x0446;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0432;&#x043E;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23138r137"></a><span 
class="larm-0500">137</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23139r138"></a><span 
class="larm-0500">138</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23140r139"></a><span 
class="larm-0500">139</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23141r140"></a><span 
class="larm-0500">140</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23142r141"></a><span 
class="larm-0500">141</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23143r142"></a><span 
class="larm-0500">142</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23144r143"></a><span 
class="larm-0500">143</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">length</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23145r144"></a><span 
class="larm-0500">144</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23146r145"></a><span 
class="larm-0500">145</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23147r146"></a><span 
class="larm-0500">146</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23148r147"></a><span 
class="larm-0500">147</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23149r148"></a><span 
class="larm-0500">148</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23150r149"></a><span 
class="larm-0500">149</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23151r150"></a><span 
class="larm-0500">150</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23152r151"></a><span 
class="larm-0500">151</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23153r152"></a><span 
class="larm-0500">152</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23154r153"></a><span 
class="larm-0500">153</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23155r154"></a><span 
class="larm-0500">154</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23156r155"></a><span 
class="larm-0500">155</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23157r156"></a><span 
class="larm-0500">156</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socketShutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shutdown</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SHUT_RDWR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23158r157"></a><span 
class="larm-0500">157</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socketShutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23159r158"></a><span 
class="larm-0500">158</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23160r159"></a><span 
class="larm-0500">159</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23161r160"></a><span 
class="larm-0500">160</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23162r161"></a><span 
class="larm-0500">161</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socketClose</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23163r162"></a><span 
class="larm-0500">162</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socketClose</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23164r163"></a><span 
class="larm-0500">163</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23165r164"></a><span 
class="larm-0500">164</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 470--><p class="indent" >   &#x0421;&#x0435;&#x0442;&#x0435;&#x0432;&#x044B;&#x0435; &#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x044B; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;:
<!--l. 472--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-2316615"></a>
                                                                                               
                                                                                               
<!--l. 474--><p class="noindent" ><img 
src="../images/p3_4_client_config.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.15: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-2316615 -->
                                                                                               
                                                                                               
<!--l. 478--><p class="indent" >   </div><hr class="endfigure">
<!--l. 480--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;:
<!--l. 482--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-2316716"></a>
                                                                                               
                                                                                               
<!--l. 484--><p class="noindent" ><img 
src="../images/p3_4_client_result.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.16: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-2316716 -->
                                                                                               
                                                                                               
<!--l. 488--><p class="indent" >   </div><hr class="endfigure">
<!--l. 490--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;:
<!--l. 492--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-2316817"></a>
                                                                                               
                                                                                               
<!--l. 494--><p class="noindent" ><img 
src="../images/p3_4_server_result.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.17: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-2316817 -->
                                                                                               
                                                                                               
<!--l. 498--><p class="indent" >   </div><hr class="endfigure">
<!--l. 500--><p class="indent" >   &#x0421;&#x0435;&#x0442;&#x0435;&#x0432;&#x043E;&#x0439; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D; &#x0431;&#x044B;&#x043B; &#x0443;&#x0441;&#x043F;&#x0435;&#x0448;&#x043D;&#x043E; &#x043E;&#x0440;&#x0433;&#x0430;&#x043D;&#x0438;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;, &#x043D;&#x0438;&#x043A;&#x0430;&#x043A;&#x0438;&#x0445; &#x043F;&#x0440;&#x043E;&#x0431;&#x043B;&#x0435;&#x043C; &#x043F;&#x0440;&#x0438; &#x0440;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x043D;&#x0435; &#x0432;&#x043E;&#x0437;&#x043D;&#x0438;&#x043A;&#x043B;&#x043E;.
<h5 class="subsubsectionHead"><a 
 id="x1-240003"></a>5. &#x0418;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435; &#x043F;&#x043E;&#x0440;&#x0442;&#x043E;&#x0432; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F; &#x043F;&#x0440;&#x0438; &#x0431;&#x043E;&#x043B;&#x044C;&#x0448;&#x043E;&#x043C; &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0435; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;</h5>
<!--l. 504--><p class="noindent" >&#x041F;&#x043E;&#x0440;&#x0442; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F; &#x043F;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442; &#x0441;&#x043E;&#x0431;&#x043E;&#x0439; &#x0441;&#x043F;&#x0435;&#x0446;&#x0438;&#x0430;&#x043B;&#x044C;&#x043D;&#x044B;&#x0439; &#x043C;&#x0435;&#x0445;&#x0430;&#x043D;&#x0438;&#x0437;&#x043C; &#x0432; &#x0441;&#x043E;&#x0441;&#x0442;&#x0430;&#x0432;&#x0435; &#x041E;&#x0421;, &#x0441; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435;
&#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x0442; &#x043E;&#x0431;&#x044A;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x0435; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x0438;&#x0445; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;, &#x043F;&#x0440;&#x0435;&#x0434;&#x043D;&#x0430;&#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x043D;&#x044B;&#x0445; &#x0435;&#x0434;&#x0438;&#x043D;&#x0441;&#x0442;&#x0432;&#x0435;&#x043D;&#x043D;&#x043E; &#x0434;&#x043B;&#x044F; &#x0446;&#x0435;&#x043B;&#x0438; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0438; &#x0430;&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0445;
&#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x0439; &#x0432;&#x0432;&#x043E;&#x0434;&#x0430;/&#x0432;&#x044B;&#x0432;&#x043E;&#x0434;&#x0430; &#x0441; &#x043F;&#x0435;&#x0440;&#x0435;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;&#x043C;. &#x0414;&#x043B;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x043E;&#x043D;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F; &#x044D;&#x0442;&#x043E;&#x0439; &#x043C;&#x043E;&#x0434;&#x0435;&#x043B;&#x0438; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x043E; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435; &#x0441;&#x043F;&#x0435;&#x0446;&#x0438;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E;
&#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430; &#x044F;&#x0434;&#x0440;&#x0430; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0439; &#x0438; &#x0431;&#x044B;&#x043B; &#x043D;&#x0430;&#x0437;&#x0432;&#x0430;&#x043D; "&#x043F;&#x043E;&#x0440;&#x0442; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;". &#x042D;&#x0442;&#x043E; &#x043E;&#x0441;&#x0443;&#x0449;&#x0435;&#x0441;&#x0442;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x0441; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E;
&#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; CreateIoCompletionPort, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x0430;&#x044F; &#x0430;&#x0441;&#x0441;&#x043E;&#x0446;&#x0438;&#x0438;&#x0440;&#x0443;&#x0435;&#x0442; &#x044D;&#x0442;&#x043E;&#x0442; &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442; &#x0441; &#x043E;&#x0434;&#x043D;&#x0438;&#x043C; &#x0438;&#x043B;&#x0438; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x0438;&#x043C;&#x0438; &#x0444;&#x0430;&#x0439;&#x043B;&#x043E;&#x0432;&#x044B;&#x043C;&#x0438;
&#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x0430;&#x043C;&#x0438; &#x0438; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0439; &#x0431;&#x0443;&#x0434;&#x0435;&#x0442; &#x0443;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0442;&#x044C; &#x043F;&#x0435;&#x0440;&#x0435;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x044E;&#x0449;&#x0438;&#x043C;&#x0438;&#x0441;&#x044F; I/O &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x044F;&#x043C;&#x0438;, &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044F; &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043D;&#x043E;&#x0435;
&#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432; &#x0434;&#x043B;&#x044F; &#x043E;&#x0431;&#x0441;&#x043B;&#x0443;&#x0436;&#x0438;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x043D;&#x044B;&#x0445; &#x0437;&#x0430;&#x043F;&#x0440;&#x043E;&#x0441;&#x043E;&#x0432;.
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-5">
HANDLE&#x00A0;WINAPI&#x00A0;CreateIoCompletionPort(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;HANDLE&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;FileHandle,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;HANDLE&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;ExistingCompletionPort,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;ULONG_PTR&#x00A0;&#x00A0;CompletionKey,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;NumberOfConcurrentThreads
&#x00A0;<br />);
</div>
<!--l. 513--><p class="nopar" >
<!--l. 515--><p class="indent" >   &#x0420;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;, &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044E;&#x0449;&#x0435;&#x0433;&#x043E; &#x043F;&#x043E;&#x0440;&#x0442; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;:
   <!--l. 517--><div class="lstinputlisting">
<a 
 id="x1-24001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">_WINSOCK_DEPRECATED_NO_WARNINGS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">map</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">winsock2</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">ws2tcpip</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">pragma</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">comment</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">lib</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Ws2_32</span><span 
class="lass-0900">.</span><span 
class="lass-0900">lib</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x0440;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">65100</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x0430;&#x0442;&#x044B;&#x0432;&#x0430;&#x044E;&#x0449;&#x0438;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">COUNT_OF_THREADS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">8;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x043B;&#x0430;&#x0433;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0441;&#x044B;&#x043B;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">public</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OVERLAPPED</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client_number</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket_handle</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">enum</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">op_type_send</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">op_type_recv</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">op_type</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043F;&#x0438;&#x0441;&#x043E;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">map</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeClientConnection</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x043A;&#x0440;&#x0435;&#x0442;&#x043D;&#x044B;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x043C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeAllConnections</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0441;&#x043B;&#x0443;&#x0436;&#x0438;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0440;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ioPort</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0438;&#x0431;&#x043B;&#x0438;&#x043E;&#x0442;&#x0435;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSADATA</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsaData</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsaStartup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSAStartup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">MAKEWORD</span><span 
class="lass-0900">(2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">wsaData</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">wsaStartup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET_ERROR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsa</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0440;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ioPort</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateIoCompletionPort</span><span 
class="lass-0900">(</span><span 
class="lass-0900">INVALID_HANDLE_VALUE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">ioPort</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">competition</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0441;&#x043B;&#x0443;&#x0448;&#x0438;&#x0432;&#x0430;&#x044E;&#x0449;&#x0435;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSASocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCK_STREAM</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPPROTO_TCP</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSA_FLAG_OVERLAPPED</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_SOCKET</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24085r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24086r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24087r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x043D;&#x0435;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0440;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24088r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">CreateIoCompletionPort</span><span 
class="lass-0900">(</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ioPort</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24089r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">io</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">competition</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24090r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24091r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24092r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24093r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24094r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24095r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKADDR_IN</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddrIn</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24096r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">sockaddrIn</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sockaddrIn</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24097r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddrIn</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_family</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24098r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddrIn</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">htons</span><span 
class="lass-0900">(</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">stoi</span><span 
class="lass-0900">(</span><span 
class="lass-0900">port</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24099r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddrIn</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_addr</span><span 
class="lass-0900">.</span><span 
class="lass-0900">s_addr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INADDR_ANY</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24100r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24101r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0411;&#x0438;&#x043D;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24102r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverBind</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bind</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPSOCKADDR</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">sockaddrIn</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sockaddrIn</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24103r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverBind</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET_ERROR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24104r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bind</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24105r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24106r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24107r106"></a><span 
class="larm-0500">106</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x5</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24108r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24109r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24110r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x043E;&#x0441;&#x043B;&#x0443;&#x0448;&#x0438;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24111r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverListen</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">listen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOMAXCONN</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24112r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverListen</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET_ERROR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24113r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">listen</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24114r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24115r114"></a><span 
class="larm-0500">114</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24116r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x6</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24117r116"></a><span 
class="larm-0500">116</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24118r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24119r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0431;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0441;&#x043B;&#x0443;&#x0436;&#x0438;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0440;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24120r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24121r120"></a><span 
class="larm-0500">120</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">COUNT_OF_THREADS</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">threadIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24122r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">CreateThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPTHREAD_START_ROUTINE</span><span 
class="lass-0900">(</span><span 
class="lass-0900">threadExecutor</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ioPort</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24123r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24124r123"></a><span 
class="larm-0500">123</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24125r124"></a><span 
class="larm-0500">124</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24126r125"></a><span 
class="larm-0500">125</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x7</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24127r126"></a><span 
class="larm-0500">126</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24128r127"></a><span 
class="larm-0500">127</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24129r128"></a><span 
class="larm-0500">128</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24130r129"></a><span 
class="larm-0500">129</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24131r130"></a><span 
class="larm-0500">130</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24132r131"></a><span 
class="larm-0500">131</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Wait</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24133r132"></a><span 
class="larm-0500">132</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24134r133"></a><span 
class="larm-0500">133</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24135r134"></a><span 
class="larm-0500">134</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24136r135"></a><span 
class="larm-0500">135</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0416;&#x0434;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24137r136"></a><span 
class="larm-0500">136</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">accept</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24138r137"></a><span 
class="larm-0500">137</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24139r138"></a><span 
class="larm-0500">138</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_SOCKET</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24140r139"></a><span 
class="larm-0500">139</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">continue</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24141r140"></a><span 
class="larm-0500">140</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24142r141"></a><span 
class="larm-0500">141</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">CreateIoCompletionPort</span><span 
class="lass-0900">(</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ioPort</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24143r142"></a><span 
class="larm-0500">142</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">io</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">competition</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24144r143"></a><span 
class="larm-0500">143</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24145r144"></a><span 
class="larm-0500">144</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24146r145"></a><span 
class="larm-0500">145</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x8</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24147r146"></a><span 
class="larm-0500">146</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24148r147"></a><span 
class="larm-0500">147</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24149r148"></a><span 
class="larm-0500">148</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">overlapped</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24150r149"></a><span 
class="larm-0500">149</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">new</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24151r150"></a><span 
class="larm-0500">150</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">socket_handle</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24152r151"></a><span 
class="larm-0500">151</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">op_type</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="lass-0900">::</span><span 
class="lass-0900">op_type_recv</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24153r152"></a><span 
class="larm-0500">152</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">new</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24154r153"></a><span 
class="larm-0500">153</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">hEvent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24155r154"></a><span 
class="larm-0500">154</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">client_number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">clientIndex</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24156r155"></a><span 
class="larm-0500">155</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24157r156"></a><span 
class="larm-0500">156</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0414;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043F;&#x0438;&#x0441;&#x043E;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24158r157"></a><span 
class="larm-0500">157</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.</span><span 
class="lass-0900">insert</span><span 
class="lass-0900">(</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">pair</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x003E;(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24159r158"></a><span 
class="larm-0500">158</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24160r159"></a><span 
class="larm-0500">159</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connected</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24161r160"></a><span 
class="larm-0500">160</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24162r161"></a><span 
class="larm-0500">161</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSABUF</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24163r162"></a><span 
class="larm-0500">162</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">.</span><span 
class="lass-0900">buf</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24164r163"></a><span 
class="larm-0500">163</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">.</span><span 
class="lass-0900">len</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24165r164"></a><span 
class="larm-0500">164</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24166r165"></a><span 
class="larm-0500">165</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesRecv</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24167r166"></a><span 
class="larm-0500">166</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">WSARecv</span><span 
class="lass-0900">(</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">socket_handle</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesRecv</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24168r167"></a><span 
class="larm-0500">167</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">WSA</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">recv</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">error</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24169r168"></a><span 
class="larm-0500">168</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24170r169"></a><span 
class="larm-0500">169</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24171r170"></a><span 
class="larm-0500">170</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24172r171"></a><span 
class="larm-0500">171</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ioPort</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24173r172"></a><span 
class="larm-0500">172</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesTransferred</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24174r173"></a><span 
class="larm-0500">173</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPOVERLAPPED</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlapped</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24175r174"></a><span 
class="larm-0500">174</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24176r175"></a><span 
class="larm-0500">175</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24177r176"></a><span 
class="larm-0500">176</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24178r177"></a><span 
class="larm-0500">177</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">GetQueuedCompletionStatus</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ioPort</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesTransferred</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PULONG_PTR</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">overlapped</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24179r178"></a><span 
class="larm-0500">178</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x0441;&#x043F;&#x0435;&#x0448;&#x043D;&#x043E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24180r179"></a><span 
class="larm-0500">179</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlapped</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24181r180"></a><span 
class="larm-0500">180</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24182r181"></a><span 
class="larm-0500">181</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0438;&#x043F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x043D;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;&#x0441;&#x0442;&#x0432;&#x0443;&#x044E;&#x0449;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24183r182"></a><span 
class="larm-0500">182</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">switch</span><span 
class="lass-0900">(</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">op_type</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24184r183"></a><span 
class="larm-0500">183</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="lass-0900">::</span><span 
class="lass-0900">op_type_send</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24185r184"></a><span 
class="larm-0500">184</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24186r185"></a><span 
class="larm-0500">185</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">[]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24187r186"></a><span 
class="larm-0500">186</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24188r187"></a><span 
class="larm-0500">187</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24189r188"></a><span 
class="larm-0500">188</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24190r189"></a><span 
class="larm-0500">189</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="lass-0900">::</span><span 
class="lass-0900">op_type_recv</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24191r190"></a><span 
class="larm-0500">190</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x0451;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24192r191"></a><span 
class="larm-0500">191</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">countOfBytesTransferred</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24193r192"></a><span 
class="larm-0500">192</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeClientConnection</span><span 
class="lass-0900">(</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">socket_handle</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24194r193"></a><span 
class="larm-0500">193</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24195r194"></a><span 
class="larm-0500">194</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">countOfBytesTransferred</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\0</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24196r195"></a><span 
class="larm-0500">195</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24197r196"></a><span 
class="larm-0500">196</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">client_number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">received</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24198r197"></a><span 
class="larm-0500">197</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24199r198"></a><span 
class="larm-0500">198</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">send</span><span 
class="lass-0900">(</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">socket_handle</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesTransferred</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET_ERROR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24200r199"></a><span 
class="larm-0500">199</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">error</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24201r200"></a><span 
class="larm-0500">200</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24202r201"></a><span 
class="larm-0500">201</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSABUF</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24203r202"></a><span 
class="larm-0500">202</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">.</span><span 
class="lass-0900">buf</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24204r203"></a><span 
class="larm-0500">203</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">.</span><span 
class="lass-0900">len</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24205r204"></a><span 
class="larm-0500">204</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24206r205"></a><span 
class="larm-0500">205</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesRecv</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24207r206"></a><span 
class="larm-0500">206</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">WSARecv</span><span 
class="lass-0900">(</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">socket_handle</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesRecv</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24208r207"></a><span 
class="larm-0500">207</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">WSA</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">recv</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">error</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24209r208"></a><span 
class="larm-0500">208</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24210r209"></a><span 
class="larm-0500">209</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24211r210"></a><span 
class="larm-0500">210</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24212r211"></a><span 
class="larm-0500">211</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24213r212"></a><span 
class="larm-0500">212</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24214r213"></a><span 
class="larm-0500">213</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">overlapped</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24215r214"></a><span 
class="larm-0500">214</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeAllConnections</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24216r215"></a><span 
class="larm-0500">215</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24217r216"></a><span 
class="larm-0500">216</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeClientConnection</span><span 
class="lass-0900">(((</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlapped</span><span 
class="lass-0900">)</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">socket_handle</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24218r217"></a><span 
class="larm-0500">217</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24219r218"></a><span 
class="larm-0500">218</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24220r219"></a><span 
class="larm-0500">219</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24221r220"></a><span 
class="larm-0500">220</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24222r221"></a><span 
class="larm-0500">221</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24223r222"></a><span 
class="larm-0500">222</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24224r223"></a><span 
class="larm-0500">223</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeAllConnections</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24225r224"></a><span 
class="larm-0500">224</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24226r225"></a><span 
class="larm-0500">225</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24227r226"></a><span 
class="larm-0500">226</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeClientConnection</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24228r227"></a><span 
class="larm-0500">227</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x043A;&#x0440;&#x0435;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24229r228"></a><span 
class="larm-0500">228</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24230r229"></a><span 
class="larm-0500">229</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.</span><span 
class="lass-0900">at</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">client_number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">disconnected</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24231r230"></a><span 
class="larm-0500">230</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24232r231"></a><span 
class="larm-0500">231</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.</span><span 
class="lass-0900">at</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24233r232"></a><span 
class="larm-0500">232</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.</span><span 
class="lass-0900">erase</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24234r233"></a><span 
class="larm-0500">233</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24235r234"></a><span 
class="larm-0500">234</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24236r235"></a><span 
class="larm-0500">235</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24237r236"></a><span 
class="larm-0500">236</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeAllConnections</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24238r237"></a><span 
class="larm-0500">237</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x0439;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24239r238"></a><span 
class="larm-0500">238</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24240r239"></a><span 
class="larm-0500">239</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="lass-0900">.</span><span 
class="lass-0900">second</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">socket_handle</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24241r240"></a><span 
class="larm-0500">240</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24242r241"></a><span 
class="larm-0500">241</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="lass-0900">.</span><span 
class="lass-0900">second</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">client_number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">disconnected</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24243r242"></a><span 
class="larm-0500">242</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24244r243"></a><span 
class="larm-0500">243</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.</span><span 
class="lass-0900">at</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24245r244"></a><span 
class="larm-0500">244</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24246r245"></a><span 
class="larm-0500">245</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24247r246"></a><span 
class="larm-0500">246</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24248r247"></a><span 
class="larm-0500">247</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.</span><span 
class="lass-0900">clear</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24249r248"></a><span 
class="larm-0500">248</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24250r249"></a><span 
class="larm-0500">249</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24251r250"></a><span 
class="larm-0500">250</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24252r251"></a><span 
class="larm-0500">251</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24253r252"></a><span 
class="larm-0500">252</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24254r253"></a><span 
class="larm-0500">253</span></span><span 
class="lass-0900">}</span>
   </div>
                                                                                               
                                                                                               
<!--l. 521--><p class="indent" >   &#x0414;&#x043B;&#x044F; &#x0430;&#x043D;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043E;&#x0441;&#x043F;&#x043E;&#x0441;&#x043E;&#x0431;&#x043D;&#x043E;&#x0441;&#x0442;&#x0438; &#x043D;&#x0430; &#x0431;&#x043E;&#x043B;&#x044C;&#x0448;&#x043E;&#x043C; &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0435; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432; &#x0431;&#x044B;&#x043B; &#x043D;&#x0430;&#x043F;&#x0438;&#x0441;&#x0430;&#x043D; bat &#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;:
   <!--l. 523--><div class="lstinputlisting">
<a 
 id="x1-24257"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24258r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">for</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">l</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%%</span><span 
class="lass-0900">x</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1000)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">do</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24259r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">start</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">B</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">.</span><span 
class="lass-0900">exe</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24260r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">)</span>
   </div>
<!--l. 525--><p class="indent" >   &#x0421;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442; &#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;&#x0430;&#x0435;&#x0442; &#x0442;&#x044B;&#x0441;&#x044F;&#x0447;&#x0443; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432; &#x0432; &#x043E;&#x0434;&#x043D;&#x043E;&#x043C; &#x043E;&#x043A;&#x043D;&#x0435;.
<!--l. 527--><p class="indent" >   &#x041F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x043E;&#x0441;&#x0442;&#x044C; &#x0442;&#x044B;&#x0441;&#x044F;&#x0447;&#x0438; &#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D;&#x043D;&#x044B;&#x0445; TCP &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432; &#x0434;&#x043E; &#x043C;&#x043E;&#x0434;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0446;&#x0438;&#x0438; &#x0441; &#x043F;&#x043E;&#x0440;&#x0442;&#x0430;&#x043C;&#x0438; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;:
<!--l. 529--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-2426118"></a>
                                                                                               
                                                                                               
<!--l. 531--><p class="noindent" ><img 
src="../images/p3_5_old_stat.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.18: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-2426118 -->
                                                                                               
                                                                                               
<!--l. 535--><p class="indent" >   </div><hr class="endfigure">
<!--l. 537--><p class="indent" >   &#x041F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x043E;&#x0441;&#x0442;&#x044C; &#x0442;&#x044B;&#x0441;&#x044F;&#x0447;&#x0438; &#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D;&#x043D;&#x044B;&#x0445; TCP &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x043C;&#x043E;&#x0434;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0446;&#x0438;&#x0438; &#x0441; &#x043F;&#x043E;&#x0440;&#x0442;&#x0430;&#x043C;&#x0438; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;:
<!--l. 539--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-2426219"></a>
                                                                                               
                                                                                               
<!--l. 541--><p class="noindent" ><img 
src="../images/p3_5_new_stat.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.19: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-2426219 -->
                                                                                               
                                                                                               
<!--l. 545--><p class="indent" >   </div><hr class="endfigure">
<!--l. 547--><p class="indent" >   &#x0413;&#x0440;&#x0430;&#x0444;&#x0438;&#x043A;&#x0438; &#x043F;&#x0440;&#x0430;&#x043A;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0438; &#x043D;&#x0435; &#x043E;&#x0442;&#x043B;&#x0438;&#x0447;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F;, &#x043E;&#x0434;&#x043D;&#x0430;&#x043A;&#x043E; &#x0435;&#x0441;&#x0442;&#x044C; &#x0441;&#x0443;&#x0449;&#x0435;&#x0441;&#x0442;&#x0432;&#x0435;&#x043D;&#x043D;&#x0430;&#x044F; &#x0440;&#x0430;&#x0437;&#x043D;&#x0438;&#x0446;&#x0430; &#x0432; &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0435; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432; &#x0438; &#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x043E;&#x0432;.
&#x0421;&#x0442;&#x043E;&#x0438;&#x0442; &#x043E;&#x0442;&#x043C;&#x0435;&#x0442;&#x0438;&#x0442;&#x044C;, &#x0447;&#x0442;&#x043E; &#x043D;&#x0430;&#x0433;&#x0440;&#x0443;&#x0437;&#x043A;&#x0430; &#x0432; &#x043C;&#x043E;&#x043C;&#x0435;&#x043D;&#x0442;&#x044B; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0438; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439; &#x043D;&#x0430; &#x043F;&#x043E;&#x0440;&#x044F;&#x0434;&#x043E;&#x043A; &#x043D;&#x0438;&#x0436;&#x0435; &#x043F;&#x0440;&#x0438; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0438; &#x043F;&#x043E;&#x0440;&#x0442;&#x043E;&#x0432;
&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;.
<h5 class="subsubsectionHead"><a 
 id="x1-250003"></a>6. &#x041E;&#x0444;&#x043E;&#x0440;&#x043C;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F; &#x0432; &#x0432;&#x0438;&#x0434;&#x0435; &#x0441;&#x043B;&#x0443;&#x0436;&#x0431;&#x044B;</h5>
<!--l. 551--><p class="noindent" >&#x0412; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x043E;&#x0439; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0435; Windows &#x043C;&#x043E;&#x0436;&#x043D;&#x043E; &#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;&#x0430;&#x0442;&#x044C; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F; &#x0432; &#x043A;&#x0430;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0435; &#x0441;&#x043B;&#x0443;&#x0436;&#x0431;&#x044B;. &#x0422;&#x0430;&#x043A;&#x043E;&#x0435; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435; &#x043D;&#x0435; &#x0438;&#x043C;&#x0435;&#x0435;&#x0442;
&#x0440;&#x0430;&#x0431;&#x043E;&#x0447;&#x0435;&#x0433;&#x043E; &#x0442;&#x0435;&#x0440;&#x043C;&#x0438;&#x043D;&#x0430;&#x043B;&#x0430; &#x0438; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432; &#x0444;&#x043E;&#x043D;&#x043E;&#x0432;&#x043E;&#x043C; &#x0440;&#x0435;&#x0436;&#x0438;&#x043C;&#x0435;.
<!--l. 553--><p class="indent" >   &#x0414;&#x043B;&#x044F; &#x043D;&#x0430;&#x0447;&#x0430;&#x043B;&#x0430; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0441;&#x043B;&#x0443;&#x0436;&#x0431;&#x044B; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x043E; &#x0434;&#x0430;&#x0442;&#x044C; &#x0437;&#x043D;&#x0430;&#x0442;&#x044C; &#x043C;&#x0435;&#x043D;&#x0435;&#x0434;&#x0436;&#x0435;&#x0440;&#x0443; &#x0441;&#x043B;&#x0443;&#x0436;&#x0431; &#x043E; &#x0442;&#x043E;&#x043C;, &#x0447;&#x0442;&#x043E; &#x043C;&#x044B; &#x0445;&#x043E;&#x0442;&#x0438;&#x043C; &#x0434;&#x043E;&#x0431;&#x0430;&#x0432;&#x0438;&#x0442;&#x044C; &#x043D;&#x0430;&#x0448;&#x0435;
&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435; &#x0432; &#x0442;&#x0430;&#x0431;&#x043B;&#x0438;&#x0446;&#x0443; &#x0441;&#x043B;&#x0443;&#x0436;&#x0431;. &#x0414;&#x043B;&#x044F; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x043E; &#x0443;&#x043A;&#x0430;&#x0437;&#x0430;&#x0442;&#x044C; &#x0442;&#x043E;&#x0447;&#x043A;&#x0443; &#x0432;&#x0445;&#x043E;&#x0434;&#x0430;.
<!--l. 555--><p class="indent" >   &#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; StartServiceCtrlDispatcher &#x0441;&#x0432;&#x044F;&#x0437;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x0441;&#x043B;&#x0443;&#x0436;&#x0431;&#x0443; &#x0441; SCM (Service Control Manager):
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-6">
BOOL&#x00A0;WINAPI&#x00A0;StartServiceCtrlDispatcher(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;const&#x00A0;&#x00A0;SERVICE_TABLE_ENTRY&#x00A0;&#x00A0;*lpServiceTable
&#x00A0;<br />);
</div>
<!--l. 561--><p class="nopar" >
<!--l. 563--><p class="indent" >   &#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; OpenSCManager &#x043F;&#x043E;&#x0437;&#x0432;&#x043E;&#x043B;&#x044F;&#x0435;&#x0442; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0438;&#x0442;&#x044C; &#x044D;&#x043A;&#x0437;&#x0435;&#x043C;&#x043F;&#x043B;&#x044F;&#x0440; SCM:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-7">
SC_HANDLE&#x00A0;WINAPI&#x00A0;OpenSCManager(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;lpMachineName,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;lpDatabaseName,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;dwDesiredAccess
&#x00A0;<br />);
</div>
<!--l. 571--><p class="nopar" >
<!--l. 573--><p class="indent" >   &#x0421;&#x043B;&#x0443;&#x0436;&#x0431;&#x0430; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439; CreateService:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-8">
SC_HANDLE&#x00A0;WINAPI&#x00A0;CreateService(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;SC_HANDLE&#x00A0;&#x00A0;hSCManager,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;&#x00A0;&#x00A0;lpServiceName,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;&#x00A0;&#x00A0;lpDisplayName,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;dwDesiredAccess,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;dwServiceType,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;dwStartType,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;dwErrorControl,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;&#x00A0;&#x00A0;lpBinaryPathName,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;&#x00A0;&#x00A0;lpLoadOrderGroup,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_Out_opt_&#x00A0;&#x00A0;LPDWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;lpdwTagId,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;&#x00A0;&#x00A0;lpDependencies,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;&#x00A0;&#x00A0;lpServiceStartName,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;&#x00A0;&#x00A0;lpPassword
&#x00A0;<br />);
</div>
<!--l. 591--><p class="nopar" >
<!--l. 593--><p class="indent" >   &#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; OpenService &#x0432; &#x0437;&#x0430;&#x0432;&#x0438;&#x0441;&#x0438;&#x043C;&#x043E;&#x0441;&#x0442;&#x0438; &#x043E;&#x0442; &#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x043E;&#x0432; &#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;&#x0430;&#x0435;&#x0442; &#x0438;&#x043B;&#x0438; &#x043E;&#x0441;&#x0442;&#x0430;&#x043D;&#x0430;&#x0432;&#x043B;&#x0438;&#x0432;&#x0430;&#x0435;&#x0442; &#x0441;&#x043B;&#x0443;&#x0436;&#x0431;&#x0443;:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-9">
SC_HANDLE&#x00A0;WINAPI&#x00A0;OpenService(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;SC_HANDLE&#x00A0;&#x00A0;hSCManager,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;&#x00A0;&#x00A0;lpServiceName,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;dwDesiredAccess
&#x00A0;<br />);
</div>
<!--l. 601--><p class="nopar" >
<!--l. 603--><p class="indent" >   &#x0421;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0431;&#x044B;&#x043B; &#x043C;&#x043E;&#x0434;&#x0438;&#x0444;&#x0438;&#x0446;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D; &#x0441;&#x043B;&#x0435;&#x0434;&#x0443;&#x044E;&#x0449;&#x0438;&#x043C; &#x043E;&#x0431;&#x0440;&#x0430;&#x0437;&#x043E;&#x043C;: &#x0432; &#x0437;&#x0430;&#x0432;&#x0438;&#x0441;&#x0438;&#x043C;&#x043E;&#x0441;&#x0442;&#x0438; &#x043E;&#x0442; &#x0430;&#x0440;&#x0433;&#x0443;&#x043C;&#x0435;&#x043D;&#x0442;&#x0430; &#x043A;&#x043E;&#x043C;&#x0430;&#x043D;&#x0434;&#x043D;&#x043E;&#x0439; &#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438; install, start,
remove &#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x0430;&#x0432;&#x043B;&#x0438;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F;, &#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0438; &#x0443;&#x0434;&#x0430;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x0441;&#x043B;&#x0443;&#x0436;&#x0431;&#x0430; &#x0441;&#x043E;&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;&#x0441;&#x0442;&#x0432;&#x0435;&#x043D;&#x043D;&#x043E;:
   <!--l. 605--><div class="lstinputlisting">
<a 
 id="x1-25001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">_WINSOCK_DEPRECATED_NO_WARNINGS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">map</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">winsock2</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">ws2tcpip</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">fstream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">pragma</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">comment</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">lib</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Ws2_32</span><span 
class="lass-0900">.</span><span 
class="lass-0900">lib</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x0440;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">65100</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x0430;&#x0442;&#x044B;&#x0432;&#x0430;&#x044E;&#x0449;&#x0438;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">COUNT_OF_THREADS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">8;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x043B;&#x0430;&#x0433;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_ERROR</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0410;&#x0440;&#x0433;&#x0443;&#x043C;&#x0435;&#x043D;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043C;&#x0430;&#x043D;&#x0434;&#x043D;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043B;&#x0443;&#x0436;&#x0431;&#x043E;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INSTALL_PARAMETR</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">install</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">REMOVE_PARAMETR</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">remove</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">START_PARAMETR</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">start</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041D;&#x0430;&#x0437;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043B;&#x0443;&#x0436;&#x0431;&#x044B;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0443;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043B;&#x0443;&#x0436;&#x0431;&#x0435;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0443;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043B;&#x043E;&#x0433;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">constexpr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">ECHO_SERVER</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_PATH</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">D</span><span 
class="lass-0900">:\\</span><span 
class="lass-0900">temp</span><span 
class="lass-0900">\\</span><span 
class="lass-0900">p3</span><span 
class="lass-0900">.6.</span><span 
class="lass-0900">p</span><span 
class="lass-0900">.</span><span 
class="lass-0900">exe</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LOG_PATH</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">D</span><span 
class="lass-0900">:\\</span><span 
class="lass-0900">temp</span><span 
class="lass-0900">\\</span><span 
class="lass-0900">p3</span><span 
class="lass-0900">.6.</span><span 
class="lass-0900">p</span><span 
class="lass-0900">.</span><span 
class="lass-0900">log</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0441;&#x044B;&#x043B;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">public</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OVERLAPPED</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client_number</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket_handle</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">enum</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">op_type_send</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">op_type_recv</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">op_type</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043F;&#x0438;&#x0441;&#x043E;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">map</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">SERVICE_STATUS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverStatus</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">SERVICE_STATUS_HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handleServerStatus</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">ofstream</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">out</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">log</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">installEchoServer</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">removeEchoServer</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startEchoServer</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serviceMain</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeClientConnection</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x043A;&#x0440;&#x0435;&#x0442;&#x043D;&#x044B;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x043C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeAllConnections</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0441;&#x043B;&#x0443;&#x0436;&#x0438;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0440;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ioPort</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0412;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0441;&#x043D;&#x043E;&#x0432;&#x043D;&#x044B;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0434;&#x0430;&#x0447;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043B;&#x0443;&#x0436;&#x0431;&#x044B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_TABLE_ENTRY</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serviceTable</span><span 
class="lass-0900">[]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_NAME</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPSERVICE_MAIN_FUNCTION</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serviceMain</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">},</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25085r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25086r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">StartServiceCtrlDispatcher</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serviceTable</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25087r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">start</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">service</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dispatcher</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25088r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25089r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25090r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25091r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">strcmp</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1],</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INSTALL_PARAMETR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25092r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">installEchoServer</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25093r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">strcmp</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1],</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">REMOVE_PARAMETR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25094r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">removeEchoServer</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25095r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">strcmp</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1],</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">START_PARAMETR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25096r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startEchoServer</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25097r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25098r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25099r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25100r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25101r100"></a><span 
class="larm-0500">100</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">log</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25102r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041B;&#x043E;&#x0433;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25103r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25104r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">out</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25105r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">out</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">new</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">ofstream</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25106r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25107r106"></a><span 
class="larm-0500">106</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">out</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">is_open</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25108r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">out</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LOG_PATH</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25109r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25110r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">out</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">is_open</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25111r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25112r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25113r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">out</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">GetCurrentProcessId</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25114r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25115r114"></a><span 
class="larm-0500">114</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">out</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25116r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25117r116"></a><span 
class="larm-0500">116</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25118r117"></a><span 
class="larm-0500">117</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">installEchoServer</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25119r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043B;&#x0443;&#x0436;&#x0431;&#x044B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25120r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25121r120"></a><span 
class="larm-0500">120</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SC_HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serviceManager</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OpenSCManager</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SC_MANAGER_CREATE_SERVICE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25122r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">serviceManager</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25123r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">log</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">service</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">control</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">manager</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25124r123"></a><span 
class="larm-0500">123</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_ERROR</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25125r124"></a><span 
class="larm-0500">124</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25126r125"></a><span 
class="larm-0500">125</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25127r126"></a><span 
class="larm-0500">126</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SC_HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">service</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateService</span><span 
class="lass-0900">(</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25128r127"></a><span 
class="larm-0500">127</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serviceManager</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_NAME</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_NAME</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25129r128"></a><span 
class="larm-0500">128</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_ALL_ACCESS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_WIN32_OWN_PROCESS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_DEMAND_START</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25130r129"></a><span 
class="larm-0500">129</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_ERROR_NORMAL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_PATH</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25131r130"></a><span 
class="larm-0500">130</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">service</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25132r131"></a><span 
class="larm-0500">131</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">log</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">service</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25133r132"></a><span 
class="larm-0500">132</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseServiceHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serviceManager</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25134r133"></a><span 
class="larm-0500">133</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_ERROR</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25135r134"></a><span 
class="larm-0500">134</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25136r135"></a><span 
class="larm-0500">135</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25137r136"></a><span 
class="larm-0500">136</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseServiceHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">service</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25138r137"></a><span 
class="larm-0500">137</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseServiceHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serviceManager</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25139r138"></a><span 
class="larm-0500">138</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25140r139"></a><span 
class="larm-0500">139</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">log</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Service</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">installed</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25141r140"></a><span 
class="larm-0500">140</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25142r141"></a><span 
class="larm-0500">141</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25143r142"></a><span 
class="larm-0500">142</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25144r143"></a><span 
class="larm-0500">143</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">removeEchoServer</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25145r144"></a><span 
class="larm-0500">144</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043B;&#x0443;&#x0436;&#x0431;&#x044B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25146r145"></a><span 
class="larm-0500">145</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25147r146"></a><span 
class="larm-0500">146</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SC_HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serviceManager</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OpenSCManager</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SC_MANAGER_ALL_ACCESS</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25148r147"></a><span 
class="larm-0500">147</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">serviceManager</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25149r148"></a><span 
class="larm-0500">148</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">log</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">service</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">control</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">manager</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25150r149"></a><span 
class="larm-0500">149</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_ERROR</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25151r150"></a><span 
class="larm-0500">150</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25152r151"></a><span 
class="larm-0500">151</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25153r152"></a><span 
class="larm-0500">152</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SC_HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">service</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OpenService</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serviceManager</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_NAME</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_STOP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DELETE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25154r153"></a><span 
class="larm-0500">153</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">serviceManager</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25155r154"></a><span 
class="larm-0500">154</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">log</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">service</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25156r155"></a><span 
class="larm-0500">155</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseServiceHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serviceManager</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25157r156"></a><span 
class="larm-0500">156</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_ERROR</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25158r157"></a><span 
class="larm-0500">157</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25159r158"></a><span 
class="larm-0500">158</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25160r159"></a><span 
class="larm-0500">159</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DeleteService</span><span 
class="lass-0900">(</span><span 
class="lass-0900">service</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25161r160"></a><span 
class="larm-0500">160</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseServiceHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">service</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25162r161"></a><span 
class="larm-0500">161</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseServiceHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serviceManager</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25163r162"></a><span 
class="larm-0500">162</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25164r163"></a><span 
class="larm-0500">163</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">log</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Service</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">removed</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25165r164"></a><span 
class="larm-0500">164</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25166r165"></a><span 
class="larm-0500">165</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25167r166"></a><span 
class="larm-0500">166</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25168r167"></a><span 
class="larm-0500">167</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startEchoServer</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25169r168"></a><span 
class="larm-0500">168</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043B;&#x0443;&#x0436;&#x0431;&#x044B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25170r169"></a><span 
class="larm-0500">169</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25171r170"></a><span 
class="larm-0500">170</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SC_HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serviceManager</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OpenSCManager</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SC_MANAGER_CREATE_SERVICE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25172r171"></a><span 
class="larm-0500">171</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">serviceManager</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25173r172"></a><span 
class="larm-0500">172</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">log</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">service</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">control</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">manager</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25174r173"></a><span 
class="larm-0500">173</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_ERROR</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25175r174"></a><span 
class="larm-0500">174</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25176r175"></a><span 
class="larm-0500">175</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25177r176"></a><span 
class="larm-0500">176</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SC_HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">service</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OpenService</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serviceManager</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_NAME</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_START</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25178r177"></a><span 
class="larm-0500">177</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">serviceManager</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25179r178"></a><span 
class="larm-0500">178</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">log</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">start</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">service</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25180r179"></a><span 
class="larm-0500">179</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseServiceHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serviceManager</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25181r180"></a><span 
class="larm-0500">180</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SERVICE_ERROR</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25182r181"></a><span 
class="larm-0500">181</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25183r182"></a><span 
class="larm-0500">182</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25184r183"></a><span 
class="larm-0500">183</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseServiceHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serviceManager</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25185r184"></a><span 
class="larm-0500">184</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseServiceHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serviceManager</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25186r185"></a><span 
class="larm-0500">185</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25187r186"></a><span 
class="larm-0500">186</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">log</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Service</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">started</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25188r187"></a><span 
class="larm-0500">187</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25189r188"></a><span 
class="larm-0500">188</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25190r189"></a><span 
class="larm-0500">189</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25191r190"></a><span 
class="larm-0500">190</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serviceMain</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25192r191"></a><span 
class="larm-0500">191</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25193r192"></a><span 
class="larm-0500">192</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25194r193"></a><span 
class="larm-0500">193</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25195r194"></a><span 
class="larm-0500">194</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25196r195"></a><span 
class="larm-0500">195</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25197r196"></a><span 
class="larm-0500">196</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25198r197"></a><span 
class="larm-0500">197</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0438;&#x0431;&#x043B;&#x0438;&#x043E;&#x0442;&#x0435;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25199r198"></a><span 
class="larm-0500">198</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSADATA</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsaData</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25200r199"></a><span 
class="larm-0500">199</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsaStartup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSAStartup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">MAKEWORD</span><span 
class="lass-0900">(2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">wsaData</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25201r200"></a><span 
class="larm-0500">200</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">wsaStartup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET_ERROR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25202r201"></a><span 
class="larm-0500">201</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsa</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25203r202"></a><span 
class="larm-0500">202</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25204r203"></a><span 
class="larm-0500">203</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25205r204"></a><span 
class="larm-0500">204</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25206r205"></a><span 
class="larm-0500">205</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0440;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25207r206"></a><span 
class="larm-0500">206</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ioPort</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateIoCompletionPort</span><span 
class="lass-0900">(</span><span 
class="lass-0900">INVALID_HANDLE_VALUE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25208r207"></a><span 
class="larm-0500">207</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">ioPort</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25209r208"></a><span 
class="larm-0500">208</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">competition</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25210r209"></a><span 
class="larm-0500">209</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25211r210"></a><span 
class="larm-0500">210</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25212r211"></a><span 
class="larm-0500">211</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25213r212"></a><span 
class="larm-0500">212</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25214r213"></a><span 
class="larm-0500">213</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0441;&#x043B;&#x0443;&#x0448;&#x0438;&#x0432;&#x0430;&#x044E;&#x0449;&#x0435;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25215r214"></a><span 
class="larm-0500">214</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSASocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCK_STREAM</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPPROTO_TCP</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSA_FLAG_OVERLAPPED</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25216r215"></a><span 
class="larm-0500">215</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_SOCKET</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25217r216"></a><span 
class="larm-0500">216</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25218r217"></a><span 
class="larm-0500">217</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25219r218"></a><span 
class="larm-0500">218</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25220r219"></a><span 
class="larm-0500">219</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25221r220"></a><span 
class="larm-0500">220</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25222r221"></a><span 
class="larm-0500">221</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25223r222"></a><span 
class="larm-0500">222</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25224r223"></a><span 
class="larm-0500">223</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x043D;&#x0435;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0440;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25225r224"></a><span 
class="larm-0500">224</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">CreateIoCompletionPort</span><span 
class="lass-0900">(</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ioPort</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25226r225"></a><span 
class="larm-0500">225</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">io</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">competition</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25227r226"></a><span 
class="larm-0500">226</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25228r227"></a><span 
class="larm-0500">227</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25229r228"></a><span 
class="larm-0500">228</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25230r229"></a><span 
class="larm-0500">229</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25231r230"></a><span 
class="larm-0500">230</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25232r231"></a><span 
class="larm-0500">231</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKADDR_IN</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddrIn</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25233r232"></a><span 
class="larm-0500">232</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">sockaddrIn</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sockaddrIn</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25234r233"></a><span 
class="larm-0500">233</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddrIn</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_family</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25235r234"></a><span 
class="larm-0500">234</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddrIn</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">htons</span><span 
class="lass-0900">(</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">stoi</span><span 
class="lass-0900">(</span><span 
class="lass-0900">port</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25236r235"></a><span 
class="larm-0500">235</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddrIn</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_addr</span><span 
class="lass-0900">.</span><span 
class="lass-0900">s_addr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INADDR_ANY</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25237r236"></a><span 
class="larm-0500">236</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25238r237"></a><span 
class="larm-0500">237</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0411;&#x0438;&#x043D;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25239r238"></a><span 
class="larm-0500">238</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverBind</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bind</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPSOCKADDR</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">sockaddrIn</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sockaddrIn</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25240r239"></a><span 
class="larm-0500">239</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverBind</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET_ERROR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25241r240"></a><span 
class="larm-0500">240</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bind</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25242r241"></a><span 
class="larm-0500">241</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25243r242"></a><span 
class="larm-0500">242</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25244r243"></a><span 
class="larm-0500">243</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x5</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25245r244"></a><span 
class="larm-0500">244</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25246r245"></a><span 
class="larm-0500">245</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25247r246"></a><span 
class="larm-0500">246</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x043E;&#x0441;&#x043B;&#x0443;&#x0448;&#x0438;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25248r247"></a><span 
class="larm-0500">247</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverListen</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">listen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOMAXCONN</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25249r248"></a><span 
class="larm-0500">248</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverListen</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET_ERROR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25250r249"></a><span 
class="larm-0500">249</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">listen</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25251r250"></a><span 
class="larm-0500">250</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25252r251"></a><span 
class="larm-0500">251</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25253r252"></a><span 
class="larm-0500">252</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x6</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25254r253"></a><span 
class="larm-0500">253</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25255r254"></a><span 
class="larm-0500">254</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25256r255"></a><span 
class="larm-0500">255</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0431;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0441;&#x043B;&#x0443;&#x0436;&#x0438;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0440;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25257r256"></a><span 
class="larm-0500">256</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25258r257"></a><span 
class="larm-0500">257</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">COUNT_OF_THREADS</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">threadIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25259r258"></a><span 
class="larm-0500">258</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">CreateThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPTHREAD_START_ROUTINE</span><span 
class="lass-0900">(</span><span 
class="lass-0900">threadExecutor</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ioPort</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25260r259"></a><span 
class="larm-0500">259</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25261r260"></a><span 
class="larm-0500">260</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25262r261"></a><span 
class="larm-0500">261</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25263r262"></a><span 
class="larm-0500">262</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x7</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25264r263"></a><span 
class="larm-0500">263</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25265r264"></a><span 
class="larm-0500">264</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25266r265"></a><span 
class="larm-0500">265</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25267r266"></a><span 
class="larm-0500">266</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25268r267"></a><span 
class="larm-0500">267</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25269r268"></a><span 
class="larm-0500">268</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Wait</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25270r269"></a><span 
class="larm-0500">269</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25271r270"></a><span 
class="larm-0500">270</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25272r271"></a><span 
class="larm-0500">271</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25273r272"></a><span 
class="larm-0500">272</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0416;&#x0434;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25274r273"></a><span 
class="larm-0500">273</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">accept</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25275r274"></a><span 
class="larm-0500">274</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25276r275"></a><span 
class="larm-0500">275</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_SOCKET</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25277r276"></a><span 
class="larm-0500">276</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">continue</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25278r277"></a><span 
class="larm-0500">277</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25279r278"></a><span 
class="larm-0500">278</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">CreateIoCompletionPort</span><span 
class="lass-0900">(</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ioPort</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25280r279"></a><span 
class="larm-0500">279</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">io</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">competition</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25281r280"></a><span 
class="larm-0500">280</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25282r281"></a><span 
class="larm-0500">281</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25283r282"></a><span 
class="larm-0500">282</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x8</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25284r283"></a><span 
class="larm-0500">283</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25285r284"></a><span 
class="larm-0500">284</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25286r285"></a><span 
class="larm-0500">285</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">overlapped</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25287r286"></a><span 
class="larm-0500">286</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">new</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25288r287"></a><span 
class="larm-0500">287</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">socket_handle</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25289r288"></a><span 
class="larm-0500">288</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">op_type</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="lass-0900">::</span><span 
class="lass-0900">op_type_recv</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25290r289"></a><span 
class="larm-0500">289</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">new</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25291r290"></a><span 
class="larm-0500">290</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">hEvent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25292r291"></a><span 
class="larm-0500">291</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">client_number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">clientIndex</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25293r292"></a><span 
class="larm-0500">292</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25294r293"></a><span 
class="larm-0500">293</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0414;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043F;&#x0438;&#x0441;&#x043E;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25295r294"></a><span 
class="larm-0500">294</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.</span><span 
class="lass-0900">insert</span><span 
class="lass-0900">(</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">pair</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x003E;(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25296r295"></a><span 
class="larm-0500">295</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25297r296"></a><span 
class="larm-0500">296</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connected</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25298r297"></a><span 
class="larm-0500">297</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25299r298"></a><span 
class="larm-0500">298</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSABUF</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25300r299"></a><span 
class="larm-0500">299</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">.</span><span 
class="lass-0900">buf</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25301r300"></a><span 
class="larm-0500">300</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">.</span><span 
class="lass-0900">len</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25302r301"></a><span 
class="larm-0500">301</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25303r302"></a><span 
class="larm-0500">302</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesRecv</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25304r303"></a><span 
class="larm-0500">303</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">WSARecv</span><span 
class="lass-0900">(</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">socket_handle</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesRecv</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25305r304"></a><span 
class="larm-0500">304</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">WSA</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">recv</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">error</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25306r305"></a><span 
class="larm-0500">305</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25307r306"></a><span 
class="larm-0500">306</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25308r307"></a><span 
class="larm-0500">307</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25309r308"></a><span 
class="larm-0500">308</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ioPort</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25310r309"></a><span 
class="larm-0500">309</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesTransferred</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25311r310"></a><span 
class="larm-0500">310</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPOVERLAPPED</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlapped</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25312r311"></a><span 
class="larm-0500">311</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25313r312"></a><span 
class="larm-0500">312</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25314r313"></a><span 
class="larm-0500">313</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25315r314"></a><span 
class="larm-0500">314</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">GetQueuedCompletionStatus</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ioPort</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesTransferred</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PULONG_PTR</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">overlapped</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25316r315"></a><span 
class="larm-0500">315</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x0441;&#x043F;&#x0435;&#x0448;&#x043D;&#x043E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25317r316"></a><span 
class="larm-0500">316</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlapped</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25318r317"></a><span 
class="larm-0500">317</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25319r318"></a><span 
class="larm-0500">318</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0438;&#x043F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x043D;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;&#x0441;&#x0442;&#x0432;&#x0443;&#x044E;&#x0449;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25320r319"></a><span 
class="larm-0500">319</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">switch</span><span 
class="lass-0900">(</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">op_type</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25321r320"></a><span 
class="larm-0500">320</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="lass-0900">::</span><span 
class="lass-0900">op_type_send</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25322r321"></a><span 
class="larm-0500">321</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25323r322"></a><span 
class="larm-0500">322</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">[]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25324r323"></a><span 
class="larm-0500">323</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25325r324"></a><span 
class="larm-0500">324</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25326r325"></a><span 
class="larm-0500">325</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25327r326"></a><span 
class="larm-0500">326</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="lass-0900">::</span><span 
class="lass-0900">op_type_recv</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25328r327"></a><span 
class="larm-0500">327</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x0451;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25329r328"></a><span 
class="larm-0500">328</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">countOfBytesTransferred</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25330r329"></a><span 
class="larm-0500">329</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeClientConnection</span><span 
class="lass-0900">(</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">socket_handle</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25331r330"></a><span 
class="larm-0500">330</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25332r331"></a><span 
class="larm-0500">331</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">countOfBytesTransferred</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\0</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25333r332"></a><span 
class="larm-0500">332</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25334r333"></a><span 
class="larm-0500">333</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">client_number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">received</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25335r334"></a><span 
class="larm-0500">334</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25336r335"></a><span 
class="larm-0500">335</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">send</span><span 
class="lass-0900">(</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">socket_handle</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesTransferred</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET_ERROR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25337r336"></a><span 
class="larm-0500">336</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">error</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25338r337"></a><span 
class="larm-0500">337</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25339r338"></a><span 
class="larm-0500">338</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSABUF</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25340r339"></a><span 
class="larm-0500">339</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">.</span><span 
class="lass-0900">buf</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25341r340"></a><span 
class="larm-0500">340</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">.</span><span 
class="lass-0900">len</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25342r341"></a><span 
class="larm-0500">341</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25343r342"></a><span 
class="larm-0500">342</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesRecv</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25344r343"></a><span 
class="larm-0500">343</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">WSARecv</span><span 
class="lass-0900">(</span><span 
class="lass-0900">overlappedConnection</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">socket_handle</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesRecv</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlappedConnection</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25345r344"></a><span 
class="larm-0500">344</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">WSA</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">recv</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">error</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25346r345"></a><span 
class="larm-0500">345</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25347r346"></a><span 
class="larm-0500">346</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25348r347"></a><span 
class="larm-0500">347</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25349r348"></a><span 
class="larm-0500">348</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25350r349"></a><span 
class="larm-0500">349</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25351r350"></a><span 
class="larm-0500">350</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">overlapped</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25352r351"></a><span 
class="larm-0500">351</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeAllConnections</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25353r352"></a><span 
class="larm-0500">352</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25354r353"></a><span 
class="larm-0500">353</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeClientConnection</span><span 
class="lass-0900">(((</span><span 
class="lass-0900">OverlappedConnection</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overlapped</span><span 
class="lass-0900">)</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">socket_handle</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25355r354"></a><span 
class="larm-0500">354</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25356r355"></a><span 
class="larm-0500">355</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25357r356"></a><span 
class="larm-0500">356</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25358r357"></a><span 
class="larm-0500">357</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25359r358"></a><span 
class="larm-0500">358</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25360r359"></a><span 
class="larm-0500">359</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25361r360"></a><span 
class="larm-0500">360</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeAllConnections</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25362r361"></a><span 
class="larm-0500">361</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25363r362"></a><span 
class="larm-0500">362</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25364r363"></a><span 
class="larm-0500">363</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeClientConnection</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25365r364"></a><span 
class="larm-0500">364</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x043A;&#x0440;&#x0435;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25366r365"></a><span 
class="larm-0500">365</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25367r366"></a><span 
class="larm-0500">366</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.</span><span 
class="lass-0900">at</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">client_number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">disconnected</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25368r367"></a><span 
class="larm-0500">367</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25369r368"></a><span 
class="larm-0500">368</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.</span><span 
class="lass-0900">at</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25370r369"></a><span 
class="larm-0500">369</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.</span><span 
class="lass-0900">erase</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25371r370"></a><span 
class="larm-0500">370</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25372r371"></a><span 
class="larm-0500">371</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25373r372"></a><span 
class="larm-0500">372</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25374r373"></a><span 
class="larm-0500">373</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeAllConnections</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25375r374"></a><span 
class="larm-0500">374</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x0439;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25376r375"></a><span 
class="larm-0500">375</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25377r376"></a><span 
class="larm-0500">376</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="lass-0900">.</span><span 
class="lass-0900">second</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">socket_handle</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25378r377"></a><span 
class="larm-0500">377</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25379r378"></a><span 
class="larm-0500">378</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="lass-0900">.</span><span 
class="lass-0900">second</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">client_number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">disconnected</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25380r379"></a><span 
class="larm-0500">379</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25381r380"></a><span 
class="larm-0500">380</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.</span><span 
class="lass-0900">at</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25382r381"></a><span 
class="larm-0500">381</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25383r382"></a><span 
class="larm-0500">382</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25384r383"></a><span 
class="larm-0500">383</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25385r384"></a><span 
class="larm-0500">384</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.</span><span 
class="lass-0900">clear</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25386r385"></a><span 
class="larm-0500">385</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25387r386"></a><span 
class="larm-0500">386</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25388r387"></a><span 
class="larm-0500">387</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25389r388"></a><span 
class="larm-0500">388</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25390r389"></a><span 
class="larm-0500">389</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25391r390"></a><span 
class="larm-0500">390</span></span><span 
class="lass-0900">}</span>
   </div>
                                                                                               
                                                                                               
<!--l. 609--><p class="indent" >   &#x0423;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043A;&#x0430;, &#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A; &#x0438; &#x0443;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435; &#x0441;&#x043B;&#x0443;&#x0436;&#x0431;&#x044B;:
<!--l. 611--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-2539420"></a>
                                                                                               
                                                                                               
<!--l. 613--><p class="noindent" ><img 
src="../images/p3_6_api.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.20: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-2539420 -->
                                                                                               
                                                                                               
<!--l. 617--><p class="indent" >   </div><hr class="endfigure">
<!--l. 619--><p class="indent" >   &#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x043D;&#x0430;&#x044F; &#x0441;&#x043B;&#x0443;&#x0436;&#x0431;&#x0430; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043A;&#x0438;:
<!--l. 621--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-2539521"></a>
                                                                                               
                                                                                               
<!--l. 623--><p class="noindent" ><img 
src="../images/p3_6_service.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.21: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-2539521 -->
                                                                                               
                                                                                               
<!--l. 627--><p class="indent" >   </div><hr class="endfigure">
<!--l. 629--><p class="indent" >   &#x041F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441; &#x043F;&#x0440;&#x0438;&#x0432;&#x044F;&#x0437;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439; &#x043A; &#x0441;&#x043B;&#x0443;&#x0436;&#x0431;&#x0435;:
<!--l. 631--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-2539622"></a>
                                                                                               
                                                                                               
<!--l. 633--><p class="noindent" ><img 
src="../images/p3_6_process.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.22: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-2539622 -->
                                                                                               
                                                                                               
<!--l. 637--><p class="indent" >   </div><hr class="endfigure">
<!--l. 639--><p class="indent" >   &#x0421;&#x0442;&#x043E;&#x0438;&#x0442; &#x043E;&#x0442;&#x043C;&#x0435;&#x0442;&#x0438;&#x0442;&#x044C;, &#x0447;&#x0442;&#x043E; &#x0421;&#x0418;&#x0421;&#x0422;&#x0415;&#x041C;&#x0410; &#x044F;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432;&#x043B;&#x0430;&#x0434;&#x0435;&#x043B;&#x044C;&#x0446;&#x0435;&#x043C; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;.
<h5 class="subsubsectionHead"><a 
 id="x1-260003"></a>7. &#x0420;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D;&#x0430; &#x043D;&#x0430; &#x043E;&#x0441;&#x043D;&#x043E;&#x0432;&#x0435; UDP</h5>
<!--l. 643--><p class="noindent" >&#x0420;&#x0430;&#x0437;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x0435;&#x043C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443; <span 
class="lati-1000">UDP </span>&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;. &#x0412; &#x043E;&#x0442;&#x043B;&#x0438;&#x0447;&#x0438;&#x0438; &#x043E;&#x0442; <span 
class="lati-1000">TCP</span>, &#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x0435; &#x043D;&#x0435; &#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x0430;&#x0432;&#x043B;&#x0438;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F;, &#x043F;&#x043E;&#x044D;&#x0442;&#x043E;&#x043C;&#x0443;
&#x043E;&#x0442;&#x0441;&#x0443;&#x0442;&#x0441;&#x0442;&#x0432;&#x0443;&#x044E;&#x0442; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; <span 
class="lati-1000">listen </span>&#x0438; <span 
class="lati-1000">accept</span>. &#x0422;&#x0430;&#x043A;&#x0436;&#x0435; &#x043D;&#x0435; &#x0438;&#x043C;&#x0435;&#x0435;&#x0442; &#x0431;&#x043E;&#x043B;&#x044C;&#x0448;&#x043E;&#x0433;&#x043E; &#x0441;&#x043C;&#x044B;&#x0441;&#x043B;&#x0430; &#x0440;&#x0435;&#x0433;&#x0438;&#x0441;&#x0442;&#x0440;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x043E;&#x0442;&#x0434;&#x0435;&#x043B;&#x044C;&#x043D;&#x044B;&#x0439; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;
&#x0434;&#x043B;&#x044F; &#x043A;&#x0430;&#x0436;&#x0434;&#x043E;&#x0433;&#x043E; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;. &#x0421;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0432; &#x0431;&#x0435;&#x0441;&#x043A;&#x043E;&#x043D;&#x0435;&#x0447;&#x043D;&#x043E;&#x043C; &#x0446;&#x0438;&#x043A;&#x043B;&#x0435; &#x043F;&#x0440;&#x0438;&#x043D;&#x0438;&#x043C;&#x0430;&#x0435;&#x0442; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x043E;&#x0442; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430; &#x0438; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442; &#x0438;&#x0445;
&#x043D;&#x0430;&#x0437;&#x0430;&#x0434;:
   <!--l. 645--><div class="lstinputlisting">
<a 
 id="x1-26001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">winsock2</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">ws2tcpip</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">pragma</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">comment</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">lib</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Ws2_32</span><span 
class="lass-0900">.</span><span 
class="lass-0900">lib</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">65100;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BACKLOG</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1000;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">stoi</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0438;&#x0431;&#x043B;&#x0438;&#x043E;&#x0442;&#x0435;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSADATA</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsaData</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsaStartup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSAStartup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">MAKEWORD</span><span 
class="lass-0900">(2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">wsaData</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">wsaStartup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET_ERROR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsa</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCK_DGRAM</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPPROTO_UDP</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_SOCKET</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0434;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0445;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_family</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">htons</span><span 
class="lass-0900">(</span><span 
class="lass-0900">port</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_addr</span><span 
class="lass-0900">.</span><span 
class="lass-0900">s_addr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">htonl</span><span 
class="lass-0900">(</span><span 
class="lass-0900">INADDR_ANY</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0411;&#x0438;&#x043D;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverBind</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bind</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">info</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverBind</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET_ERROR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bind</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Wait</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">new</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">size_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">size</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">recvfrom</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sockaddr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socklen_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">size</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">receive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">continue</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26085r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">is</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">empty</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26086r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">continue</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26087r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26088r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26089r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26090r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26091r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0437;&#x0430;&#x0434;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26092r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26093r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26094r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26095r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26096r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">continue</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26097r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26098r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26099r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26100r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26101r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26102r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26103r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26104r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26105r104"></a><span 
class="larm-0500">104</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26106r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26107r106"></a><span 
class="larm-0500">106</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socketClose</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26108r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socketClose</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26109r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26110r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26111r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26112r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26113r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26114r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26115r114"></a><span 
class="larm-0500">114</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26116r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26117r116"></a><span 
class="larm-0500">116</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26118r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">size_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26119r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26120r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0435;&#x0440;&#x0435;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0435;&#x0446;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0432;&#x043E;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26121r120"></a><span 
class="larm-0500">120</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26122r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26123r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26124r123"></a><span 
class="larm-0500">123</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26125r124"></a><span 
class="larm-0500">124</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26126r125"></a><span 
class="larm-0500">125</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26127r126"></a><span 
class="larm-0500">126</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26128r127"></a><span 
class="larm-0500">127</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">length</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26129r128"></a><span 
class="larm-0500">128</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26130r129"></a><span 
class="larm-0500">129</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26131r130"></a><span 
class="larm-0500">130</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26132r131"></a><span 
class="larm-0500">131</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26133r132"></a><span 
class="larm-0500">132</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26134r133"></a><span 
class="larm-0500">133</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendto</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26135r134"></a><span 
class="larm-0500">134</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26136r135"></a><span 
class="larm-0500">135</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 647--><p class="indent" >   &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x043A; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;, &#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0438;&#x0437; &#x043A;&#x043E;&#x043D;&#x0441;&#x043E;&#x043B;&#x0438; &#x0438; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442; &#x0438;&#x0445; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;, &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x0442;
&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;. &#x0412; &#x043E;&#x0442;&#x043B;&#x0438;&#x0447;&#x0438;&#x0435; &#x043E;&#x0442; <span 
class="lati-1000">TCP </span>&#x043E;&#x0442;&#x0441;&#x0443;&#x0442;&#x0441;&#x0442;&#x0432;&#x0443;&#x0435;&#x0442; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; <span 
class="lati-1000">connect</span>, &#x043E;&#x0442;&#x0432;&#x0435;&#x0447;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F; &#x0437;&#x0430; &#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435;
&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F;. &#x0415;&#x0441;&#x043B;&#x0438; &#x0431;&#x044B;&#x043B;&#x043E; &#x0432;&#x0432;&#x0435;&#x0434;&#x0435;&#x043D;&#x043E; &#x043F;&#x0443;&#x0441;&#x0442;&#x043E;&#x0435; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;, &#x0442;&#x043E; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;:
   <!--l. 649--><div class="lstinputlisting">
<a 
 id="x1-26137"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26138r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">_CRT_SECURE_NO_WARNINGS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26139r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">_WINSOCK_DEPRECATED_NO_WARNINGS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26140r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26141r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26142r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26143r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26144r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26145r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26146r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">winsock2</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26147r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">ws2tcpip</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26148r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26149r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26150r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">pragma</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">comment</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">lib</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Ws2_32</span><span 
class="lass-0900">.</span><span 
class="lass-0900">lib</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26151r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26152r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">65100;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26153r16"></a><span 
class="larm-0500">16</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">127.0.0.1</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26154r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26155r18"></a><span 
class="larm-0500">18</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BACKLOG</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26156r19"></a><span 
class="larm-0500">19</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1000;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26157r20"></a><span 
class="larm-0500">20</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">16;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26158r21"></a><span 
class="larm-0500">21</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26159r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26160r23"></a><span 
class="larm-0500">23</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26161r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26162r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26163r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26164r27"></a><span 
class="larm-0500">27</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26165r28"></a><span 
class="larm-0500">28</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26166r29"></a><span 
class="larm-0500">29</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26167r30"></a><span 
class="larm-0500">30</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26168r31"></a><span 
class="larm-0500">31</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26169r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26170r33"></a><span 
class="larm-0500">33</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26171r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26172r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">[</span><span 
class="lass-0900">IP_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26173r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26174r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26175r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26176r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26177r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26178r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26179r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26180r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26181r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">stoi</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[2])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26182r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26183r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26184r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0438;&#x0431;&#x043B;&#x0438;&#x043E;&#x0442;&#x0435;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26185r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSADATA</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsaData</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26186r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsaStartup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSAStartup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">MAKEWORD</span><span 
class="lass-0900">(2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">wsaData</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26187r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">wsaStartup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET_ERROR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26188r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsa</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26189r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26190r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26191r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26192r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26193r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCK_DGRAM</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPPROTO_UDP</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26194r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_SOCKET</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26195r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26196r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26197r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26198r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26199r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26200r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26201r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0434;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0445;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26202r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26203r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_family</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26204r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">htons</span><span 
class="lass-0900">(</span><span 
class="lass-0900">port</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26205r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_addr</span><span 
class="lass-0900">.</span><span 
class="lass-0900">s_addr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">inet_addr</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26206r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26207r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Connection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">established</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26208r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26209r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26210r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26211r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26212r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Ready</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26213r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26214r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26215r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26216r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26217r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26218r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fgets</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stdin</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26219r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26220r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[0]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26221r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Empty</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">trying</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26222r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26223r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26224r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26225r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26226r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26227r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26228r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26229r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">server</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26230r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26231r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26232r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26233r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26234r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">size_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">size</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26235r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26236r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26237r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26238r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">recvfrom</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socklen_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">size</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26239r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26240r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">receive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">server</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26241r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26242r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26243r106"></a><span 
class="larm-0500">106</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26244r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26245r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26246r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26247r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26248r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26249r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26250r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26251r114"></a><span 
class="larm-0500">114</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26252r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26253r116"></a><span 
class="larm-0500">116</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26254r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26255r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26256r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26257r120"></a><span 
class="larm-0500">120</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26258r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26259r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26260r123"></a><span 
class="larm-0500">123</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26261r124"></a><span 
class="larm-0500">124</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">size_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26262r125"></a><span 
class="larm-0500">125</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26263r126"></a><span 
class="larm-0500">126</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0435;&#x0440;&#x0435;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0435;&#x0446;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0432;&#x043E;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26264r127"></a><span 
class="larm-0500">127</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26265r128"></a><span 
class="larm-0500">128</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26266r129"></a><span 
class="larm-0500">129</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26267r130"></a><span 
class="larm-0500">130</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26268r131"></a><span 
class="larm-0500">131</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26269r132"></a><span 
class="larm-0500">132</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26270r133"></a><span 
class="larm-0500">133</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26271r134"></a><span 
class="larm-0500">134</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">length</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26272r135"></a><span 
class="larm-0500">135</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26273r136"></a><span 
class="larm-0500">136</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26274r137"></a><span 
class="larm-0500">137</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26275r138"></a><span 
class="larm-0500">138</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26276r139"></a><span 
class="larm-0500">139</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26277r140"></a><span 
class="larm-0500">140</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendto</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26278r141"></a><span 
class="larm-0500">141</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26279r142"></a><span 
class="larm-0500">142</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26280r143"></a><span 
class="larm-0500">143</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26281r144"></a><span 
class="larm-0500">144</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26282r145"></a><span 
class="larm-0500">145</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26283r146"></a><span 
class="larm-0500">146</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socketClose</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26284r147"></a><span 
class="larm-0500">147</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socketClose</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26285r148"></a><span 
class="larm-0500">148</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26286r149"></a><span 
class="larm-0500">149</span></span><span 
class="lass-0900">}</span>
   </div>
                                                                                               
                                                                                               
<!--l. 653--><p class="indent" >   &#x041F;&#x0440;&#x043E;&#x0442;&#x0435;&#x0441;&#x0442;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0435; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435;:
<!--l. 655--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-2628723"></a>
                                                                                               
                                                                                               
<!--l. 657--><p class="noindent" ><img 
src="../images/p3_7.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.23: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-2628723 -->
                                                                                               
                                                                                               
<!--l. 661--><p class="indent" >   </div><hr class="endfigure">
<!--l. 663--><p class="indent" >   &#x0412; &#x043F;&#x0435;&#x0440;&#x0432;&#x0443;&#x044E; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C; &#x0431;&#x044B;&#x043B; &#x0437;&#x0430;&#x043F;&#x0443;&#x0449;&#x0435;&#x043D; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0434;&#x0432;&#x0430; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;. &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x044B; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x044E;&#x0442; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;, &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0447;&#x0435;&#x0433;&#x043E; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;
&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442; &#x0441;&#x0432;&#x043E;&#x044E; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;. &#x0412; &#x0441;&#x0432;&#x044F;&#x0437;&#x0438; &#x0441; &#x0442;&#x0435;&#x043C; &#x0447;&#x0442;&#x043E; &#x043E;&#x0442;&#x0441;&#x0443;&#x0442;&#x0441;&#x0442;&#x0432;&#x0443;&#x0435;&#x0442; &#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435; &#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; <span 
class="lati-1000">UDP</span>, &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x044B; &#x043D;&#x0435; &#x0443;&#x0437;&#x043D;&#x0430;&#x044E;&#x0442; &#x043E; &#x0442;&#x043E;&#x043C;, &#x0447;&#x0442;&#x043E;
&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x043E;&#x0442;&#x043A;&#x043B;&#x044E;&#x0447;&#x0438;&#x043B;&#x0441;&#x044F;. &#x0414;&#x043B;&#x044F; &#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0430; &#x0442;&#x0430;&#x043A;&#x043E;&#x0439; &#x0441;&#x0438;&#x0442;&#x0443;&#x0430;&#x0446;&#x0438;&#x0438; &#x043E;&#x0431;&#x044B;&#x0447;&#x043D;&#x043E; &#x0441; &#x043A;&#x0430;&#x043A;&#x043E;&#x0439; &#x0442;&#x043E; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x043D;&#x043E;&#x0441;&#x0442;&#x044C;&#x044E; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x043F;&#x0430;&#x043A;&#x0435;&#x0442;, &#x0435;&#x0441;&#x043B;&#x0438;
&#x043E;&#x0442; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430; &#x043F;&#x0430;&#x043A;&#x0435;&#x0442; &#x043D;&#x0435; &#x043F;&#x0440;&#x0438;&#x0448;&#x0435;&#x043B; - &#x0437;&#x043D;&#x0430;&#x0447;&#x0438;&#x0442; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x043D;&#x0435;&#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0435;&#x043D;.
<a 
 id="x1-26288r42"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.4   </span> <a 
 id="x1-270004"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 4. &#x0421;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B; &#x0432; Windows</h4>
<!--l. 667--><p class="noindent" >&#x0414;&#x0430;&#x043D;&#x043D;&#x043E;&#x0435; &#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E; IPC &#x0432; Windows &#x043D;&#x0435; &#x043F;&#x043E;&#x0434;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432; &#x0442;&#x043E;&#x043C; &#x0441;&#x043C;&#x044B;&#x0441;&#x043B;&#x0435;, &#x0432; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x043C; &#x043E;&#x043D;&#x043E; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432; Unix-&#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0430;&#x0445;.
&#x041E;&#x0434;&#x043D;&#x0430;&#x043A;&#x043E;, &#x043D;&#x0430;&#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x0440;, &#x043A;&#x043E;&#x043D;&#x0441;&#x043E;&#x043B;&#x044C;&#x043D;&#x043E;&#x043C;&#x0443; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044E; &#x043C;&#x043E;&#x0436;&#x043D;&#x043E; &#x043F;&#x043E;&#x0441;&#x044B;&#x043B;&#x0430;&#x0442;&#x044C; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B; CTRL+C &#x0438; CTRL+BREAK.
&#x0421;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0430; &#x043C;&#x043E;&#x0436;&#x0435;&#x0442; &#x043F;&#x043E;&#x0441;&#x044B;&#x043B;&#x0430;&#x0442;&#x044C; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044E; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B;: CTRL_CLOSE_EVENT, CTRL_LOGOFF_EVENT &#x0438;
CTRL_SHUTDOWN_EVENT, &#x043A;&#x043E;&#x0433;&#x0434;&#x0430; &#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C; &#x0437;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x043A;&#x043E;&#x043D;&#x0441;&#x043E;&#x043B;&#x044C;, &#x0432;&#x044B;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442; &#x0438;&#x0437; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B; &#x0438;&#x043B;&#x0438; &#x043A;&#x043E;&#x0433;&#x0434;&#x0430;
&#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0430; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;. &#x041F;&#x043E; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x044E; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441; &#x043C;&#x043E;&#x0436;&#x0435;&#x0442; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x0435;&#x0441;&#x0442;&#x0438; &#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;
&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;.
<!--l. 669--><p class="indent" >   &#x0421; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; SetConsoleCtrlHandler &#x043C;&#x043E;&#x0436;&#x043D;&#x043E; &#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x0438;&#x0442;&#x044C; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A; &#x043D;&#x0430; &#x044D;&#x0442;&#x0438; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B;, &#x043D;&#x043E; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x0438;&#x0442;&#x044C; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;
&#x0434;&#x0440;&#x0443;&#x0433;&#x043E;&#x043C;&#x0443; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044E; &#x043D;&#x0435;&#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;.
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-10">
BOOL&#x00A0;WINAPI&#x00A0;SetConsoleCtrlHandler(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;PHANDLER_ROUTINE&#x00A0;&#x00A0;HandlerRoutine,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;BOOL&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Add
&#x00A0;<br />);
</div>
<!--l. 676--><p class="nopar" >
<!--l. 678--><p class="indent" >   &#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0438; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432; &#x043E;&#x0431;&#x044A;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x044B; &#x0432; &#x0441;&#x043F;&#x0438;&#x0441;&#x043E;&#x043A;. &#x041A;&#x043E;&#x0433;&#x0434;&#x0430; &#x043F;&#x0440;&#x0438;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;, &#x0432;&#x044B;&#x0437;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435;&#x0434;&#x043D;&#x0438;&#x0439; &#x0437;&#x0430;&#x0440;&#x0435;&#x0433;&#x0438;&#x0441;&#x0442;&#x0440;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439;
&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A; (&#x043F;&#x0440;&#x0438; &#x044D;&#x0442;&#x043E;&#x043C; &#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x043E;&#x0442;&#x0434;&#x0435;&#x043B;&#x044C;&#x043D;&#x044B;&#x0439; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;). &#x0415;&#x0441;&#x043B;&#x0438; &#x044D;&#x0442;&#x043E;&#x0442; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A; &#x0432;&#x043E;&#x0437;&#x0432;&#x0440;&#x0430;&#x0449;&#x0430;&#x0435;&#x0442; FALSE (&#x043E;&#x043D; &#x043D;&#x0435; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x0430;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;
&#x044D;&#x0442;&#x043E;&#x0442; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;), &#x0442;&#x043E; &#x0432;&#x044B;&#x0437;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0441;&#x043B;&#x0435;&#x0434;&#x0443;&#x044E;&#x0449;&#x0438;&#x0439;. &#x0415;&#x0441;&#x043B;&#x0438; &#x0432;&#x0441;&#x0435; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0438; &#x0432;&#x0435;&#x0440;&#x043D;&#x0443;&#x043B;&#x0438; FALSE, &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0435;&#x0442;&#x0441;&#x044F; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A; &#x043F;&#x043E;
&#x0443;&#x043C;&#x043E;&#x043B;&#x0447;&#x0430;&#x043D;&#x0438;&#x044E;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0439; &#x043F;&#x043E; &#x0443;&#x043C;&#x043E;&#x043B;&#x0447;&#x0430;&#x043D;&#x0438;&#x044E; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;.
<h5 class="subsubsectionHead"><a 
 id="x1-280004"></a>1. &#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F; &#x0434;&#x043B;&#x044F; &#x043A;&#x043E;&#x043D;&#x0441;&#x043E;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</h5>
<!--l. 682--><p class="noindent" >&#x0411;&#x044B;&#x043B;&#x0430; &#x043D;&#x0430;&#x043F;&#x0438;&#x0441;&#x0430;&#x043D;&#x0430; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x0430;&#x044F; &#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x0430;&#x0432;&#x043B;&#x0438;&#x0432;&#x0430;&#x0435;&#x0442; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439; SetConsoleCtrlHandler &#x0438; &#x0432;&#x044B;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;
&#x043D;&#x0430;&#x0437;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x044E;&#x0449;&#x0435;&#x0433;&#x043E; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;. &#x0422;&#x0430;&#x043A;&#x0436;&#x0435; &#x0432; &#x0437;&#x0430;&#x0432;&#x0438;&#x0441;&#x0438;&#x043C;&#x043E;&#x0441;&#x0442;&#x0438; &#x043E;&#x0442; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x0437;&#x0432;&#x0443;&#x043A;&#x043E;&#x0432;&#x043E;&#x0439; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B; &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043D;&#x043E;&#x0439;
&#x0447;&#x0430;&#x0441;&#x0442;&#x043E;&#x0442;&#x044B;:
   <!--l. 684--><div class="lstinputlisting">
<a 
 id="x1-28001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">BOOL</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ctrlHandler</span><span 
class="lass-0900">(</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalType</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SetConsoleCtrlHandler</span><span 
class="lass-0900">(</span><span 
class="lass-0900">PHANDLER_ROUTINE</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ctrlHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TRUE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Control</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handler</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">is</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">installed</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Waiting</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signals</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">set</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">control</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handler</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">BOOL</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ctrlHandler</span><span 
class="lass-0900">(</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalType</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0412;&#x044B;&#x0432;&#x043E;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0432;&#x0443;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043D;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0430;&#x0441;&#x0442;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0438;&#x0441;&#x0438;&#x043C;&#x043E;&#x0441;&#x0442;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">switch</span><span 
class="lass-0900">(</span><span 
class="lass-0900">signalType</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CTRL_C_EVENT</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Ctrl</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">C</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">event</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Beep</span><span 
class="lass-0900">(750,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">300)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TRUE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CTRL_CLOSE_EVENT</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Ctrl</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">Close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">event</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Beep</span><span 
class="lass-0900">(600,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">200)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TRUE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CTRL_BREAK_EVENT</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Ctrl</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">Break</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">event</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Beep</span><span 
class="lass-0900">(900,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">200)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FALSE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CTRL_LOGOFF_EVENT</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Ctrl</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">Logoff</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">event</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Beep</span><span 
class="lass-0900">(1000,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">200)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FALSE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CTRL_SHUTDOWN_EVENT</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Ctrl</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">Shutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">event</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Beep</span><span 
class="lass-0900">(750,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">500)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FALSE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FALSE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 686--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;:
<!--l. 688--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-2805024"></a>
                                                                                               
                                                                                               
<!--l. 690--><p class="noindent" ><img 
src="../images/p4_1.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.24: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-2805024 -->
                                                                                               
                                                                                               
<!--l. 694--><p class="indent" >   </div><hr class="endfigure">
<!--l. 696--><p class="indent" >   &#x0420;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0443;&#x0435;&#x043C; &#x0441;&#x043E;&#x0431;&#x0441;&#x0442;&#x0432;&#x0435;&#x043D;&#x043D;&#x044B;&#x0439; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A; &#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;. &#x041F;&#x0440;&#x0438; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0438; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F; &#x043A;&#x043E;&#x043C;&#x0431;&#x0438;&#x043D;&#x0430;&#x0446;&#x0438;&#x0435;&#x0439; &#x043A;&#x043B;&#x0430;&#x0432;&#x0438;&#x0448; Ctrl+C
&#x0440;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0430; &#x043F;&#x0440;&#x043E;&#x0432;&#x0435;&#x0440;&#x043A;&#x0430; &#x0441;&#x043B;&#x0443;&#x0447;&#x0430;&#x0439;&#x043D;&#x043E;&#x0433;&#x043E; &#x043D;&#x0430;&#x0436;&#x0430;&#x0442;&#x0438;&#x044F;. &#x0415;&#x0441;&#x043B;&#x0438; &#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C; &#x043D;&#x0430;&#x0436;&#x0430;&#x043B; &#x043A;&#x043E;&#x043C;&#x0431;&#x0438;&#x043D;&#x0430;&#x0446;&#x0438;&#x044E; &#x0441;&#x043B;&#x0443;&#x0447;&#x0430;&#x0439;&#x043D;&#x043E;, &#x0442;&#x043E; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435;
&#x043F;&#x0440;&#x043E;&#x0434;&#x043E;&#x043B;&#x0436;&#x0430;&#x0435;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;, &#x0430; &#x0435;&#x0441;&#x043B;&#x0438; &#x043D;&#x0435;&#x0442; &#x0442;&#x043E; &#x0437;&#x0430;&#x043F;&#x0440;&#x0430;&#x0448;&#x0438;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0435;&#x0449;&#x0435; &#x043E;&#x0434;&#x043D;&#x043E; &#x043D;&#x0430;&#x0436;&#x0430;&#x0442;&#x0438;&#x0435;:
   <!--l. 698--><div class="lstinputlisting">
<a 
 id="x1-28051"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28052r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28053r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CTRL_C_EVENT</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28054r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Ctrl</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">C</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">event</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28055r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Beep</span><span 
class="lass-0900">(750,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">300)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28056r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28057r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Are</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">you</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sure</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">you</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">want</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">application</span><span 
class="lass-0900">?</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28058r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Press</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Ctrl</span><span 
class="lass-0900">+</span><span 
class="lass-0900">C</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">it</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28059r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28060r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetConsoleCtrlHandler</span><span 
class="lass-0900">(</span><span 
class="lass-0900">PHANDLER_ROUTINE</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ctrlHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TRUE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28061r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TRUE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28062r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">...</span>
   </div>
<a 
 id="x1-28063r70"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.5   </span> <a 
 id="x1-290005"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 5. &#x0420;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0430;&#x044F; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</h4>
<!--l. 702--><p class="noindent" >&#x041F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0438; &#x043E;&#x0434;&#x043D;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430; &#x043C;&#x043E;&#x0433;&#x0443;&#x0442; &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0442;&#x044C; &#x043E;&#x0431;&#x0449;&#x0443;&#x044E; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;. &#x0423; &#x043A;&#x0430;&#x0436;&#x0434;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430; &#8211; &#x0441;&#x0432;&#x043E;&#x0435; &#x0438;&#x0437;&#x043E;&#x043B;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x0435;
&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x043E;&#x0435; &#x043F;&#x0440;&#x043E;&#x0441;&#x0442;&#x0440;&#x0430;&#x043D;&#x0441;&#x0442;&#x0432;&#x043E;. &#x041A;&#x0440;&#x043E;&#x043C;&#x0435; &#x0440;&#x0430;&#x0441;&#x0441;&#x043C;&#x043E;&#x0442;&#x0440;&#x0435;&#x043D;&#x043D;&#x044B;&#x0445; &#x0432;&#x044B;&#x0448;&#x0435; &#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0438; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x0438; &#x043C;&#x0435;&#x0436;&#x0434;&#x0443; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;&#x043C;&#x0438; &#x0438;&#x043B;&#x0438; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;&#x043C;&#x0438;
&#x0440;&#x0430;&#x0437;&#x043D;&#x044B;&#x0445; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432;, &#x043E;&#x0434;&#x043D;&#x043E; &#x0438;&#x0437; &#x043D;&#x0430;&#x0438;&#x0431;&#x043E;&#x043B;&#x0435;&#x0435; &#x044D;&#x0444;&#x0444;&#x0435;&#x043A;&#x0442;&#x0438;&#x0432;&#x043D;&#x044B;&#x0445; &#8211; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435; &#x043E;&#x0431;&#x0449;&#x0435;&#x0439; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438;, &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F; &#x043A; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x0439; &#x043E;&#x0431;&#x0435;&#x0441;&#x043F;&#x0435;&#x0447;&#x0438;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F;
&#x0441;&#x043E; &#x0441;&#x0442;&#x043E;&#x0440;&#x043E;&#x043D;&#x044B; &#x043A;&#x0430;&#x0436;&#x0434;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;. &#x041E;&#x0421; Windows &#x043F;&#x043E;&#x0434;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x0432;&#x0430;&#x0435;&#x0442; &#x0442;&#x0430;&#x043A;&#x043E;&#x0435; &#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;, &#x043A;&#x0430;&#x043A; &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x0430;&#x044F;, &#x0441;&#x043E;&#x0432;&#x043C;&#x0435;&#x0441;&#x0442;&#x043D;&#x043E; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x043C;&#x0430;&#x044F;
&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;.
<!--l. 704--><p class="indent" >   &#x041F;&#x0435;&#x0440;&#x0432;&#x044B;&#x0439; &#x0443;&#x0447;&#x0430;&#x0441;&#x0442;&#x0432;&#x0443;&#x044E;&#x0449;&#x0438;&#x0439; &#x0432; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D;&#x0435; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x0435;&#x0439; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x0442; &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442; &#x043F;&#x0440;&#x043E;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430; &#x043F;&#x0440;&#x0438; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x0438; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0430;
&#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; CreateFileMapping. &#x0418;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044F; &#x0444;&#x043B;&#x0430;&#x0436;&#x043E;&#x043A; PAGE_READWRITE, &#x0437;&#x0430;&#x0434;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F; &#x043F;&#x043E; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044E; &#x0438; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438; &#x0432;
&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C; &#x0447;&#x0435;&#x0440;&#x0435;&#x0437; &#x043F;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430; &#x0432; &#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x043E;&#x043C; &#x043F;&#x0440;&#x043E;&#x0441;&#x0442;&#x0440;&#x0430;&#x043D;&#x0441;&#x0442;&#x0432;&#x0435; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;.
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-11">
HANDLE&#x00A0;WINAPI&#x00A0;CreateFileMapping(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;HANDLE&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;hFile,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;LPSECURITY_ATTRIBUTES&#x00A0;&#x00A0;lpAttributes,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;flProtect,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;dwMaximumSizeHigh,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;dwMaximumSizeLow,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;lpName
&#x00A0;<br />);
</div>
<!--l. 715--><p class="nopar" >
<!--l. 717--><p class="indent" >   &#x041F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441; &#x0437;&#x0430;&#x0442;&#x0435;&#x043C; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x0442; &#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440; &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430; &#x0432;&#x043E;&#x0437;&#x0432;&#x0440;&#x0430;&#x0449;&#x0430;&#x0435;&#x043C;&#x044B;&#x0439; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439; CreateFileMapping, &#x043F;&#x0440;&#x0438; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0435; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438;
MapViewOfFile. &#x042D;&#x0442;&#x0430; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x0442; &#x043F;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430; &#x0432; &#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x043E;&#x043C; &#x043F;&#x0440;&#x043E;&#x0441;&#x0442;&#x0440;&#x0430;&#x043D;&#x0441;&#x0442;&#x0432;&#x0435; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430; &#x0438; &#x0432;&#x043E;&#x0437;&#x0432;&#x0440;&#x0430;&#x0449;&#x0430;&#x0435;&#x0442;
&#x0443;&#x043A;&#x0430;&#x0437;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C; &#x043D;&#x0430; &#x043F;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430; &#x0434;&#x043B;&#x044F; &#x0438;&#x0445; &#x0434;&#x0430;&#x043B;&#x044C;&#x043D;&#x0435;&#x0439;&#x0448;&#x0435;&#x0433;&#x043E; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;.
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-12">
LPVOID&#x00A0;WINAPI&#x00A0;MapViewOfFile(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;HANDLE&#x00A0;&#x00A0;hFileMappingObject,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;dwDesiredAccess,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;dwFileOffsetHigh,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;dwFileOffsetLow,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;SIZE_T&#x00A0;&#x00A0;dwNumberOfBytesToMap
&#x00A0;<br />);
</div>
<!--l. 727--><p class="nopar" >
<!--l. 729--><p class="indent" >   &#x0414;&#x0440;&#x0443;&#x0433;&#x043E;&#x0439; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441; &#x043C;&#x043E;&#x0436;&#x0435;&#x0442; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0438;&#x0442;&#x044C; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F; &#x043A; &#x0442;&#x0435;&#x043C; &#x0436;&#x0435; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x043C; &#x043F;&#x0440;&#x0438; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x0438; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0430; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; OpenFileMapping &#x0441; &#x0442;&#x0435;&#x043C;
&#x0436;&#x0435; &#x0441;&#x0430;&#x043C;&#x044B;&#x043C; &#x0438;&#x043C;&#x0435;&#x043D;&#x0435;&#x043C;, &#x0447;&#x0442;&#x043E; &#x0438; &#x043F;&#x0435;&#x0440;&#x0432;&#x044B;&#x0439; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;, &#x0430; &#x0437;&#x0430;&#x0442;&#x0435;&#x043C; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044E; MapViewOfFile, &#x0447;&#x0442;&#x043E;&#x0431;&#x044B; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0438;&#x0442;&#x044C; &#x0441;&#x0432;&#x043E;&#x0439;
&#x0443;&#x043A;&#x0430;&#x0437;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C; &#x043D;&#x0430; &#x043F;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430;.
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-13">
HANDLE&#x00A0;WINAPI&#x00A0;OpenFileMapping(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;dwDesiredAccess,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;BOOL&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;bInheritHandle,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;lpName
&#x00A0;<br />);
</div>
<!--l. 737--><p class="nopar" >
<h5 class="subsubsectionHead"><a 
 id="x1-300005"></a>1. &#x0412;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0435; &#x0434;&#x0432;&#x0443;&#x0445; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432; &#x0447;&#x0435;&#x0440;&#x0435;&#x0437; &#x0441;&#x043E;&#x0432;&#x043C;&#x0435;&#x0441;&#x0442;&#x043D;&#x043E; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x043C;&#x0443;&#x044E; &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x0443;&#x044E; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</h5>
<!--l. 741--><p class="noindent" >&#x041F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;-&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C; &#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043D;&#x043E;&#x0435; &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439; (ITERATIONS_COUNT) &#x043E;&#x0442; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;-&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;,
&#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0447;&#x0435;&#x0433;&#x043E; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442; &#x0441;&#x0432;&#x043E;&#x044E; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;:
   <!--l. 743--><div class="lstinputlisting">
<a 
 id="x1-30001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">256;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ITERATIONS_COUNT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">15;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MUTEX_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">SYNC_MUTEX</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MAPPING_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">FILE_MAPPING_OBJECT</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OpenMutex</span><span 
class="lass-0900">(</span><span 
class="lass-0900">MUTEX_ALL_ACCESS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FALSE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TEXT</span><span 
class="lass-0900">(</span><span 
class="lass-0900">MUTEX_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mapFile</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OpenFileMapping</span><span 
class="lass-0900">(</span><span 
class="lass-0900">FILE_MAP_ALL_ACCESS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FALSE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TEXT</span><span 
class="lass-0900">(</span><span 
class="lass-0900">MAPPING_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mapFile</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mapping</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0435;&#x0446;&#x0438;&#x0440;&#x043E;&#x0430;&#x043D;&#x043D;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x043B;&#x0430;&#x0441;&#x0442;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPCTSTR</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">viewFile</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPTSTR</span><span 
class="lass-0900">(</span><span 
class="lass-0900">MapViewOfFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mapFile</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FILE_MAP_ALL_ACCESS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">viewFile</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">view</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">map</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ITERATIONS_COUNT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">index</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Read</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">viewFile</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ReleaseMutex</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">UnmapViewOfFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">viewFile</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mapFile</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 745--><p class="indent" >   &#x041F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;-&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C; &#x0431;&#x0435;&#x0441;&#x043A;&#x043E;&#x043D;&#x0435;&#x0447;&#x043D;&#x043E; &#x0433;&#x0435;&#x043D;&#x0435;&#x0440;&#x0438;&#x0440;&#x0443;&#x0435;&#x0442; &#x0441;&#x043B;&#x0443;&#x0447;&#x0430;&#x0439;&#x043D;&#x044B;&#x0435; &#x0447;&#x0438;&#x0441;&#x043B;&#x0430; &#x0438; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x0438;&#x0445; &#x0432; &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0443;&#x044E; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;:
   <!--l. 747--><div class="lstinputlisting">
<a 
 id="x1-30046"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30047r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30048r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30049r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">ctime</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30050r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30051r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30052r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30053r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">256;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30054r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30055r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ITERATIONS_COUNT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">15;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30056r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30057r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DELAY</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1000;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30058r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30059r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MESSAGE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">WRITER_MESSAGE</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30060r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30061r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MUTEX_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">SYNC_MUTEX</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30062r16"></a><span 
class="larm-0500">16</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MAPPING_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">FILE_MAPPING_OBJECT</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30063r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30064r18"></a><span 
class="larm-0500">18</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30065r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30066r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateMutex</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FALSE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TEXT</span><span 
class="lass-0900">(</span><span 
class="lass-0900">MUTEX_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30067r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30068r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30069r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30070r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30071r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30072r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mapFile</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateFileMapping</span><span 
class="lass-0900">(</span><span 
class="lass-0900">INVALID_HANDLE_VALUE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PAGE_READWRITE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TEXT</span><span 
class="lass-0900">(</span><span 
class="lass-0900">MAPPING_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30073r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mapFile</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mapFile</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_HANDLE_VALUE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30074r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mapping</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30075r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30076r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30077r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30078r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0435;&#x0446;&#x0438;&#x0440;&#x043E;&#x0430;&#x043D;&#x043D;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x043B;&#x0430;&#x0441;&#x0442;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30079r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPCTSTR</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">viewFile</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPTSTR</span><span 
class="lass-0900">(</span><span 
class="lass-0900">MapViewOfFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mapFile</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FILE_MAP_ALL_ACCESS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30080r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">viewFile</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30081r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">view</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">map</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30082r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30083r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30084r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30085r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">srand</span><span 
class="lass-0900">(</span><span 
class="lass-0900">time</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30086r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30087r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30088r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30089r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">number</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30090r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30091r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0438;&#x0448;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043B;&#x0443;&#x0447;&#x0430;&#x0439;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0446;&#x0438;&#x0444;&#x0440;&#x044B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30092r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">rand</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30093r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">to_string</span><span 
class="lass-0900">(</span><span 
class="lass-0900">number</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30094r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CopyMemory</span><span 
class="lass-0900">(</span><span 
class="lass-0900">PVOID</span><span 
class="lass-0900">(</span><span 
class="lass-0900">viewFile</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">size</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30095r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Write</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">viewFile</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30096r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30097r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ReleaseMutex</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30098r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30099r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30100r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">UnmapViewOfFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">viewFile</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30101r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mapFile</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30102r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30103r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30104r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 749--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0441;&#x043E;&#x0432;&#x043C;&#x0435;&#x0441;&#x0442;&#x043D;&#x043E;&#x0439; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;-&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F; &#x0438; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;-&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;:
<!--l. 751--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-3010525"></a>
                                                                                               
                                                                                               
<!--l. 753--><p class="noindent" ><img 
src="../images/p5.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.25: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-3010525 -->
                                                                                               
                                                                                               
<!--l. 757--><p class="indent" >   </div><hr class="endfigure">
<!--l. 759--><p class="indent" >   &#x041F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;-&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C; &#x0443;&#x0441;&#x043F;&#x0435;&#x0448;&#x043D;&#x043E; &#x0441;&#x0433;&#x0435;&#x043D;&#x0435;&#x0440;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043B; &#x043D;&#x0430;&#x0431;&#x043E;&#x0440; &#x0441;&#x043B;&#x0443;&#x0447;&#x0430;&#x0439;&#x043D;&#x044B;&#x0445; &#x0447;&#x0438;&#x0441;&#x0435;&#x043B;, &#x0430; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;-&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C; &#x0443;&#x0441;&#x043F;&#x0435;&#x0448;&#x043D;&#x043E; &#x0441;&#x0447;&#x0438;&#x0442;&#x0430;&#x043B; &#x0438;&#x0445; &#x0438;&#x0437;
&#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x043E;&#x0439; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438;.
<a 
 id="x1-30106r75"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.6   </span> <a 
 id="x1-310006"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 6. &#x041F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x044B;&#x0435; &#x0441;&#x043B;&#x043E;&#x0442;&#x044B;</h4>
<!--l. 763--><p class="noindent" >&#x0414;&#x043B;&#x044F; &#x0440;&#x0435;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F; &#x0437;&#x0430;&#x0434;&#x0430;&#x0447;&#x0438; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0438; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x043F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x044B;&#x0445; &#x0441;&#x043B;&#x043E;&#x0442;&#x043E;&#x0432; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x043E; &#x0432;&#x043E;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;&#x043C;&#x0438;
CreateMailslot &#x0438; CreateFile.
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-14">
HANDLE&#x00A0;WINAPI&#x00A0;CreateMailslot(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;lpName,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;nMaxMessageSize,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;lReadTimeout,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;LPSECURITY_ATTRIBUTES&#x00A0;&#x00A0;lpSecurityAttributes
&#x00A0;<br />);
</div>
<!--l. 772--><p class="nopar" >
<!--l. 774--><p class="indent" >   &#x0421;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x0442; &#x043F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x044B;&#x0439; &#x0441;&#x043B;&#x043E;&#x0442; &#x0438; &#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x043E;&#x0442;&#x0442;&#x0443;&#x0434;&#x0430; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043F;&#x0440;&#x0438; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x0438; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; ReadFile. &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x0442;
&#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044E; CreateFile &#x0441; &#x0438;&#x043C;&#x0435;&#x043D;&#x0435;&#x043C; &#x043F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x043E;&#x0433;&#x043E; &#x0441;&#x043B;&#x043E;&#x0442;&#x0430; &#x0432; &#x043A;&#x0430;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0435; &#x0438;&#x043C;&#x0435;&#x043D;&#x0438; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430;. &#x0422;&#x0430;&#x043A;&#x0438;&#x043C; &#x043E;&#x0431;&#x0440;&#x0430;&#x0437;&#x043E;&#x043C;, &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x043F;&#x0440;&#x0438;&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x043A;
&#x0443;&#x0436;&#x0435; &#x0441;&#x0443;&#x0449;&#x0435;&#x0441;&#x0442;&#x0432;&#x0443;&#x044E;&#x0449;&#x0435;&#x043C;&#x0443; &#x043F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x043E;&#x043C;&#x0443; &#x0441;&#x043B;&#x043E;&#x0442;&#x0443;, &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x043D;&#x043E;&#x043C;&#x0443; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043E;&#x043C;. &#x0417;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0432; &#x043F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x044B;&#x0439; &#x0441;&#x043B;&#x043E;&#x0442; &#x043F;&#x0440;&#x043E;&#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442; &#x043F;&#x0440;&#x0438;
&#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x0438; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; WriteFile.
<h5 class="subsubsectionHead"><a 
 id="x1-320006"></a>1. &#x041E;&#x0431;&#x043C;&#x0435;&#x043D; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;&#x043C;&#x0438; &#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x043F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x044B;&#x0445; &#x0441;&#x043B;&#x043E;&#x0442;&#x043E;&#x0432; &#x043D;&#x0430; &#x043E;&#x0434;&#x043D;&#x043E;&#x043C; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x0435;</h5>
<!--l. 778--><p class="noindent" >&#x0421;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0435; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x043F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x044B;&#x0445; &#x0441;&#x043B;&#x043E;&#x0442;&#x043E;&#x0432;:
   <!--l. 780--><div class="lstinputlisting">
<a 
 id="x1-32001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041D;&#x0430;&#x0437;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043B;&#x043E;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MAILSLOT_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">\\\\.\\</span><span 
class="lass-0900">mailslot</span><span 
class="lass-0900">\\</span><span 
class="lass-0900">MyMailSlot</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043B;&#x043E;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mailslot</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateMailslot</span><span 
class="lass-0900">(</span><span 
class="lass-0900">MAILSLOT_NAME</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MAILSLOT_WAIT_FOREVER</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mailslot</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_HANDLE_VALUE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mailslot</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Mailslot</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesRead</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">ReadFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mailslot</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesRead</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">read</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mailslot</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 782--><p class="indent" >   &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0430;&#x044F; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0441; &#x043A;&#x043E;&#x043D;&#x0441;&#x043E;&#x043B;&#x0438; &#x0438; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442; &#x0438;&#x0445; &#x043D;&#x0430; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;:
   <!--l. 784--><div class="lstinputlisting">
<a 
 id="x1-32037"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32038r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32039r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32040r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32041r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32042r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32043r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041D;&#x0430;&#x0437;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043B;&#x043E;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32044r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MAILSLOT_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">\\\\.\\</span><span 
class="lass-0900">mailslot</span><span 
class="lass-0900">\\</span><span 
class="lass-0900">MyMailSlot</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32045r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32046r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32047r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32048r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32049r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043B;&#x043E;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32050r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mailslot</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">MAILSLOT_NAME</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">GENERIC_WRITE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FILE_SHARE_READ</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OPEN_EXISTING</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FILE_ATTRIBUTE_NORMAL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32051r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mailslot</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_HANDLE_VALUE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32052r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32053r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32054r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32055r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32056r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Ready</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32057r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32058r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32059r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32060r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">clear</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32061r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getline</span><span 
class="lass-0900">(</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cin</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32062r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32063r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32064r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">countOfBytesWrite</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32065r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">WriteFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mailslot</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">size</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">countOfBytesWrite</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32066r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">write</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32067r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32068r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32069r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32070r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32071r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mailslot</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32072r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32073r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 786--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0438; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0432; &#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0430;&#x0445; &#x043E;&#x0434;&#x043D;&#x043E;&#x0433;&#x043E; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x0430;:
<!--l. 788--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-3207426"></a>
                                                                                               
                                                                                               
<!--l. 790--><p class="noindent" ><img 
src="../images/p6_1.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.26: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-3207426 -->
                                                                                               
                                                                                               
<!--l. 794--><p class="indent" >   </div><hr class="endfigure">
<h5 class="subsubsectionHead"><a 
 id="x1-330006"></a>1. &#x041E;&#x0431;&#x043C;&#x0435;&#x043D; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;&#x043C;&#x0438; &#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x043F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x044B;&#x0445; &#x0441;&#x043B;&#x043E;&#x0442;&#x043E;&#x0432; &#x0432; &#x043B;&#x043E;&#x043A;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0439; &#x0441;&#x0435;&#x0442;&#x0438;</h5>
<!--l. 798--><p class="noindent" >&#x0414;&#x043B;&#x044F; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; &#x0443;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0430;, &#x0442;&#x043E; &#x0435;&#x0441;&#x0442;&#x044C; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F; &#x043F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x044B;&#x0445; &#x0441;&#x043B;&#x043E;&#x0442;&#x043E;&#x0432; &#x0434;&#x043B;&#x044F; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0438; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x043F;&#x043E; &#x0441;&#x0435;&#x0442;&#x0438;,
&#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x043E; &#x0443;&#x043A;&#x0430;&#x0437;&#x0430;&#x0442;&#x044C; &#x0432;&#x043C;&#x0435;&#x0441;&#x0442;&#x043E; &#x0442;&#x043E;&#x0447;&#x043A;&#x0438; &#x0432; &#x0438;&#x043C;&#x0435;&#x043D;&#x0438; &#x043F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x043E;&#x0433;&#x043E; &#x0441;&#x043B;&#x043E;&#x0442;&#x0430; &#x0430;&#x0434;&#x0440;&#x0435;&#x0441; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x0430; &#x0432; &#x0441;&#x0435;&#x0442;&#x0438;:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-15">
static&#x00A0;const&#x00A0;char*&#x00A0;MAILSLOT_NAME&#x00A0;=&#x00A0;"\\\\DESKTOP-MK2E3MO\\mailslot\\MyMailSlot";
</div>
<!--l. 802--><p class="nopar" >
<!--l. 804--><p class="indent" >   &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;&#x0430;&#x0435;&#x043C; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0438; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x043D;&#x0430; &#x0440;&#x0430;&#x0437;&#x043D;&#x044B;&#x0445; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x0430;&#x0445;. &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x043F;&#x0440;&#x0438;&#x0435;&#x043C;&#x0430; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043E;&#x043C;:
<!--l. 806--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-3300127"></a>
                                                                                               
                                                                                               
<!--l. 808--><p class="noindent" ><img 
src="../images/p6_2_result.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.27: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-3300127 -->
                                                                                               
                                                                                               
<!--l. 812--><p class="indent" >   </div><hr class="endfigure">
<!--l. 814--><p class="indent" >   &#x0420;&#x0430;&#x0441;&#x0441;&#x043C;&#x043E;&#x0442;&#x0440;&#x0438;&#x043C; &#x043F;&#x0440;&#x0438;&#x0448;&#x0435;&#x0434;&#x0448;&#x0438;&#x0439; &#x043F;&#x0430;&#x043A;&#x0435;&#x0442; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x043E;&#x0439; WireShark:
<!--l. 816--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-3300228"></a>
                                                                                               
                                                                                               
<!--l. 818--><p class="noindent" ><img 
src="../images/p6_2_wireshark_ip.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.28: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-3300228 -->
                                                                                               
                                                                                               
<!--l. 822--><p class="indent" >   </div><hr class="endfigure">
                                                                                               
                                                                                               
<!--l. 826--><p class="indent" >   &#x0421;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x043C;&#x043E;&#x0435; &#x043F;&#x0440;&#x0438;&#x0448;&#x0435;&#x0434;&#x0448;&#x0435;&#x0433;&#x043E; &#x043F;&#x0430;&#x043A;&#x0435;&#x0442;&#x0430;:
<!--l. 828--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-3300329"></a>
                                                                                               
                                                                                               
<!--l. 830--><p class="noindent" ><img 
src="../images/p6_2_wireshark_package.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.29: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-3300329 -->
                                                                                               
                                                                                               
<!--l. 834--><p class="indent" >   </div><hr class="endfigure">
<!--l. 836--><p class="indent" >   &#x041A;&#x0430;&#x043A; &#x0432;&#x0438;&#x0434;&#x043D;&#x043E; &#x0438;&#x0437; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0435;&#x0439; &#x0442;&#x0440;&#x0430;&#x0444;&#x0438;&#x043A;&#x0430; &#x043D;&#x0430; &#x043C;&#x0430;&#x0448;&#x0438;&#x043D;&#x0443; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; (192.168.0.106) &#x043F;&#x0440;&#x0438;&#x0448;&#x043B;&#x0438; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043E;&#x0442; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430; (192.168.0.105) &#x043F;&#x043E;
&#x043F;&#x0440;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x043B;&#x0443; SMB Mailslot. &#x0415;&#x0441;&#x043B;&#x0438; &#x043F;&#x043E;&#x0434;&#x0440;&#x043E;&#x0431;&#x043D;&#x043E; &#x0440;&#x0430;&#x0441;&#x0441;&#x043C;&#x043E;&#x0442;&#x0440;&#x0435;&#x0442;&#x044C; &#x0441;&#x0430;&#x043C;&#x0438; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0432;&#x0430;&#x0435;&#x043C;&#x044B;&#x0435; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435;, &#x0442;&#x043E; &#x0432; &#x043A;&#x043E;&#x043D;&#x0446;&#x0435; &#x043C;&#x043E;&#x0436;&#x043D;&#x043E; &#x0437;&#x0430;&#x043C;&#x0435;&#x0442;&#x0438;&#x0442;&#x044C; &#x0442;&#x0435;&#x043A;&#x0441;&#x0442;,
&#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0439; &#x0443;&#x0441;&#x043F;&#x0435;&#x0448;&#x043D;&#x043E; &#x0431;&#x044B;&#x043B; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x043D;.
<h5 class="subsubsectionHead"><a 
 id="x1-340006"></a>2. &#x0428;&#x0438;&#x0440;&#x043E;&#x043A;&#x043E;&#x0432;&#x0435;&#x0449;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x0430;&#x044F; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0430; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x043F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x044B;&#x0445; &#x0441;&#x043B;&#x043E;&#x0442;&#x043E;&#x0432;</h5>
<!--l. 840--><p class="noindent" >&#x041F;&#x0440;&#x0438; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0438; &#x043F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x044B;&#x0445; &#x0441;&#x043B;&#x043E;&#x0442;&#x043E;&#x0432; &#x0441; &#x043E;&#x0434;&#x0438;&#x043D;&#x0430;&#x043A;&#x043E;&#x0432;&#x044B;&#x043C; &#x0438;&#x043C;&#x0435;&#x043D;&#x0435;&#x043C; &#x043D;&#x0430; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x0438;&#x0445; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x0430;&#x0445; &#x0434;&#x043E;&#x043C;&#x0435;&#x043D;&#x0430; &#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x0430;
&#x0448;&#x0438;&#x0440;&#x043E;&#x043A;&#x043E;&#x0432;&#x0435;&#x0449;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x0430;&#x044F; &#x0440;&#x0430;&#x0441;&#x0441;&#x044B;&#x043B;&#x043A;&#x0430; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;. &#x041E;&#x0434;&#x0438;&#x043D; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0439; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441; &#x043C;&#x043E;&#x0436;&#x0435;&#x0442; &#x043F;&#x043E;&#x0441;&#x044B;&#x043B;&#x0430;&#x0442;&#x044C; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0441;&#x0440;&#x0430;&#x0437;&#x0443;
&#x0432;&#x0441;&#x0435;&#x043C; &#x044D;&#x0442;&#x0438;&#x043C; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x044B;&#x043C; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;&#x043C;. &#x0414;&#x043B;&#x044F; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x0437;&#x0430;&#x043C;&#x0435;&#x043D;&#x0438;&#x043C; &#x0432; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0435; &#x0438;&#x043C;&#x044F; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x0430; &#x043D;&#x0430; &#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B; "*":
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-16">
static&#x00A0;const&#x00A0;char*&#x00A0;MAILSLOT_NAME&#x00A0;=&#x00A0;"\\\\*\\mailslot\\MyMailSlot";
</div>
<!--l. 844--><p class="nopar" >
<!--l. 846--><p class="indent" >   &#x0417;&#x0430;&#x043F;&#x0443;&#x0441;&#x0442;&#x0438;&#x043C; &#x043D;&#x0430; &#x043A;&#x0430;&#x0436;&#x0434;&#x043E;&#x0439; &#x0438;&#x0437; &#x043C;&#x0430;&#x0448;&#x0438;&#x043D; &#x043F;&#x043E; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443; &#x0438; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x0438;&#x043C; &#x0448;&#x0438;&#x0440;&#x043E;&#x043A;&#x043E;&#x0432;&#x0435;&#x0449;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x044B;&#x0439; &#x043F;&#x0430;&#x043A;&#x0435;&#x0442;. &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x043F;&#x0440;&#x0438;&#x0435;&#x043C;&#x0430; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;
&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;&#x043C;&#x0438;:
<!--l. 848--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-3400130"></a>
                                                                                               
                                                                                               
<!--l. 850--><p class="noindent" ><img 
src="../images/p6_3_result.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.30: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-3400130 -->
                                                                                               
                                                                                               
<!--l. 854--><p class="indent" >   </div><hr class="endfigure">
<!--l. 856--><p class="indent" >   &#x0420;&#x0430;&#x0441;&#x0441;&#x043C;&#x043E;&#x0442;&#x0440;&#x0438;&#x043C; &#x043F;&#x0440;&#x0438;&#x0448;&#x0435;&#x0434;&#x0448;&#x0438;&#x0439; &#x043F;&#x0430;&#x043A;&#x0435;&#x0442; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x043E;&#x0439; WireShark:
<!--l. 858--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-3400231"></a>
                                                                                               
                                                                                               
<!--l. 860--><p class="noindent" ><img 
src="../images/p6_3_wireshark_ip.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.31: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-3400231 -->
                                                                                               
                                                                                               
<!--l. 864--><p class="indent" >   </div><hr class="endfigure">
<!--l. 866--><p class="indent" >   &#x0421;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x043C;&#x043E;&#x0435; &#x043F;&#x0440;&#x0438;&#x0448;&#x0435;&#x0434;&#x0448;&#x0435;&#x0433;&#x043E; &#x043F;&#x0430;&#x043A;&#x0435;&#x0442;&#x0430;:
<!--l. 868--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-3400332"></a>
                                                                                               
                                                                                               
<!--l. 870--><p class="noindent" ><img 
src="../images/p6_3_wireshark_package.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.32: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-3400332 -->
                                                                                               
                                                                                               
<!--l. 874--><p class="indent" >   </div><hr class="endfigure">
<!--l. 876--><p class="indent" >   &#x041A;&#x0430;&#x043A; &#x0438; &#x0442;&#x0440;&#x0435;&#x0431;&#x043E;&#x0432;&#x0430;&#x043B;&#x043E;&#x0441;&#x044C; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0442;&#x044C;, &#x0448;&#x0438;&#x0440;&#x043E;&#x043A;&#x043E;&#x0432;&#x0435;&#x0449;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x044B;&#x0435; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0431;&#x044B;&#x043B;&#x0438; &#x0443;&#x0441;&#x043F;&#x0435;&#x0448;&#x043D;&#x043E; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x044B; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;&#x043C;&#x0438; &#x0438; &#x043F;&#x0440;&#x0438;&#x043D;&#x044F;&#x0442;&#x044B;
&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;&#x043C;&#x0438;.
<a 
 id="x1-34004r16"></a>
<h3 class="sectionHead"><span class="titlemark">1.5   </span> <a 
 id="x1-350005"></a>&#x0412;&#x044B;&#x0432;&#x043E;&#x0434;</h3>
<!--l. 880--><p class="noindent" >&#x0412; &#x0445;&#x043E;&#x0434;&#x0435; &#x0434;&#x0430;&#x043D;&#x043D;&#x043E;&#x0439; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0431;&#x044B;&#x043B;&#x0438; &#x0440;&#x0430;&#x0441;&#x0441;&#x043C;&#x043E;&#x0442;&#x0440;&#x0435;&#x043D;&#x044B; &#x0441;&#x043B;&#x0435;&#x0434;&#x0443;&#x044E;&#x0449;&#x0438;&#x0435; &#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x0430; &#x043C;&#x0435;&#x0436;&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x044F; &#x0432; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x044B;&#x0445;
&#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0430;&#x0445; &#x0441;&#x0435;&#x043C;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0430; Windows: &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x0438; &#x043D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;, &#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x044B;, &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0430;&#x044F; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;, &#x043F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x044B;&#x0435;
&#x0441;&#x043B;&#x043E;&#x0442;&#x044B;.
     <ul class="itemize1">
     <li class="itemize">&#x041D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435;  &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;  Windows  &#x043E;&#x0431;&#x0435;&#x0441;&#x043F;&#x0435;&#x0447;&#x0438;&#x0432;&#x0430;&#x044E;&#x0442;  &#x043E;&#x0434;&#x043D;&#x043E;&#x043D;&#x0430;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x043D;&#x043E;&#x0435;  &#x043F;&#x043E;&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x044C;&#x043D;&#x043E;&#x0435;  &#x043C;&#x0435;&#x0436;&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043D;&#x043E;&#x0435;
     &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0435;.  &#x041A;&#x0430;&#x0436;&#x0434;&#x044B;&#x0439;  &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;  &#x0438;&#x043C;&#x0435;&#x0435;&#x0442;  &#x0434;&#x0432;&#x0430;  &#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x0430;:  &#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;  &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044F;  &#x0438;  &#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;  &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438;.
     &#x0414;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x044B; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432; &#x0447;&#x0430;&#x0441;&#x0442;&#x043E; &#x0431;&#x044B;&#x0432;&#x0430;&#x044E;&#x0442; &#x043D;&#x0430;&#x0441;&#x043B;&#x0435;&#x0434;&#x0443;&#x0435;&#x043C;&#x044B;&#x043C;&#x0438;. &#x0427;&#x0442;&#x043E;&#x0431;&#x044B; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B; &#x043C;&#x043E;&#x0436;&#x043D;&#x043E; &#x0431;&#x044B;&#x043B;&#x043E; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x0434;&#x043B;&#x044F; IPC,
     &#x0434;&#x043E;&#x043B;&#x0436;&#x0435;&#x043D; &#x0441;&#x0443;&#x0449;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x0435;&#x0449;&#x0435; &#x043E;&#x0434;&#x0438;&#x043D; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;, &#x0438; &#x0434;&#x043B;&#x044F; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430; &#x0442;&#x0440;&#x0435;&#x0431;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; &#x043E;&#x0434;&#x0438;&#x043D; &#x0438;&#x0437; &#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x043E;&#x0432; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;.
     &#x0410;&#x043D;&#x043E;&#x043D;&#x0438;&#x043C;&#x043D;&#x044B;&#x0435;  &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;  &#x043E;&#x0431;&#x0435;&#x0441;&#x043F;&#x0435;&#x0447;&#x0438;&#x0432;&#x0430;&#x044E;&#x0442;  &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E;  &#x043E;&#x0434;&#x043D;&#x043E;&#x043D;&#x0430;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x043D;&#x043E;&#x0435;  &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0435;,  &#x0434;&#x043B;&#x044F;  &#x0434;&#x0432;&#x0443;&#x0445;&#x0441;&#x0442;&#x043E;&#x0440;&#x043E;&#x043D;&#x043D;&#x0435;&#x0433;&#x043E;
     &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x044F; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x044B; &#x0434;&#x0432;&#x0430; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;.
     </li>
     <li class="itemize">&#x0418;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435;   &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;   &#x043E;&#x0431;&#x0435;&#x0441;&#x043F;&#x0435;&#x0447;&#x0438;&#x0432;&#x0430;&#x044E;&#x0442;   &#x043C;&#x0435;&#x0436;&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043D;&#x043E;&#x0435;   &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0435;   &#x043C;&#x0435;&#x0436;&#x0434;&#x0443;   &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043E;&#x043C;   &#x0438;   &#x043E;&#x0434;&#x043D;&#x0438;&#x043C;
     &#x0438;&#x043B;&#x0438;  &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x0438;&#x043C;&#x0438;  &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;&#x043C;&#x0438;.  &#x041E;&#x043D;&#x0438;  &#x043F;&#x0440;&#x0435;&#x0434;&#x043E;&#x0441;&#x0442;&#x0430;&#x0432;&#x043B;&#x044F;&#x044E;&#x0442;  &#x0431;&#x043E;&#x043B;&#x044C;&#x0448;&#x0435;  &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x043E;&#x043D;&#x0430;&#x043B;&#x044C;&#x043D;&#x044B;&#x0445;  &#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;&#x0441;&#x0442;&#x0435;&#x0439;,  &#x0447;&#x0435;&#x043C;
     &#x0430;&#x043D;&#x043E;&#x043D;&#x0438;&#x043C;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0435; &#x043E;&#x0431;&#x0435;&#x0441;&#x043F;&#x0435;&#x0447;&#x0438;&#x0432;&#x0430;&#x044E;&#x0442; &#x043C;&#x0435;&#x0436;&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043D;&#x043E;&#x0435; &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0435; &#x043D;&#x0430; &#x043B;&#x043E;&#x043A;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x043C; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x0435;.
     &#x0418;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435;  &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;  &#x043F;&#x043E;&#x0434;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x0432;&#x0430;&#x044E;&#x0442;  &#x0434;&#x0443;&#x043F;&#x043B;&#x0435;&#x043A;&#x0441;&#x043D;&#x0443;&#x044E;  &#x0441;&#x0432;&#x044F;&#x0437;&#x044C;  &#x043F;&#x043E;  &#x0441;&#x0435;&#x0442;&#x0438;,  &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E;  &#x044D;&#x043A;&#x0437;&#x0435;&#x043C;&#x043F;&#x043B;&#x044F;&#x0440;&#x043E;&#x0432;  &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;,
     &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0435;, &#x043E;&#x0441;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x0435; &#x043D;&#x0430; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;&#x0445; &#x0438; &#x043E;&#x043B;&#x0438;&#x0446;&#x0435;&#x0442;&#x0432;&#x043E;&#x0440;&#x0435;&#x043D;&#x0438;&#x0435; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;, &#x0447;&#x0442;&#x043E; &#x043F;&#x043E;&#x0437;&#x0432;&#x043E;&#x043B;&#x044F;&#x0435;&#x0442; &#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0430;&#x0435;&#x043C;&#x044B;&#x043C;
     &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;&#x043C;  &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C;  &#x0441;&#x043E;&#x0431;&#x0441;&#x0442;&#x0432;&#x0435;&#x043D;&#x043D;&#x044B;&#x0435;  &#x043D;&#x0430;&#x0431;&#x043E;&#x0440;&#x044B;  &#x0440;&#x0430;&#x0437;&#x0440;&#x0435;&#x0448;&#x0435;&#x043D;&#x0438;&#x0439;  &#x043D;&#x0430;  &#x0443;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x0445;  &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;&#x0445;.  &#x0418;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C;
     &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435;  &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;  &#x0434;&#x043B;&#x044F;  &#x0441;&#x0432;&#x044F;&#x0437;&#x0438;  &#x043F;&#x043E;  &#x0441;&#x0435;&#x0442;&#x0438;  &#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;  &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E;  &#x0434;&#x043B;&#x044F;  &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x043E;&#x0432;  &#x0441;  &#x041E;&#x0421;  Windows,
     &#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D;&#x043D;&#x044B;&#x0445; &#x043A; &#x043E;&#x0434;&#x043D;&#x043E;&#x0439; &#x0434;&#x043E;&#x043C;&#x0430;&#x0448;&#x043D;&#x0435;&#x0439; &#x0433;&#x0440;&#x0443;&#x043F;&#x043F;&#x0435;.
     </li>
     <li class="itemize">&#x0412;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;&#x0441;&#x0442;&#x044C; &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x044F; &#x0441; &#x0434;&#x0440;&#x0443;&#x0433;&#x0438;&#x043C;&#x0438; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0430;&#x043C;&#x0438; &#x043E;&#x0431;&#x0435;&#x0441;&#x043F;&#x0435;&#x0447;&#x0438;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432; Windows &#x043F;&#x043E;&#x0434;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x043E;&#x0439; &#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x043E;&#x0432;.
     &#x0421;&#x043E;&#x043A;&#x0435;&#x0442; &#8211; &#x044D;&#x0442;&#x043E; &#x043E;&#x043A;&#x043E;&#x043D;&#x0435;&#x0447;&#x043D;&#x0430;&#x044F; &#x0442;&#x043E;&#x0447;&#x043A;&#x0430; &#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x0430;&#x044F; &#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x0446;&#x0438;&#x0440;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; &#x0447;&#x0435;&#x0442;&#x044B;&#x0440;&#x044C;&#x043C;&#x044F;4 &#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F;&#x043C;&#x0438;: IP &#x0430;&#x0434;&#x0440;&#x0435;&#x0441;
     &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x0438;&#x0442;&#x0435;&#x043B;&#x044F;, &#x043F;&#x043E;&#x0440;&#x0442; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x0438;&#x0442;&#x0435;&#x043B;&#x044F;, IP &#x0430;&#x0434;&#x0440;&#x0435;&#x0441; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;, &#x043F;&#x043E;&#x0440;&#x0442; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;.
     </li>
     <li class="itemize">&#x041C;&#x0435;&#x0445;&#x0430;&#x043D;&#x0438;&#x0437;&#x043C; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432; &#x043A;&#x0430;&#x043A; IPC &#x043E;&#x0442;&#x0441;&#x0443;&#x0442;&#x0441;&#x0442;&#x0432;&#x0443;&#x0435;&#x0442; &#x0432; &#x041E;&#x0421; Windows. &#x041F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x044B; &#x043D;&#x0435; &#x043C;&#x043E;&#x0433;&#x0443;&#x0442; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0442;&#x044C; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B; &#x0434;&#x0440;&#x0443;&#x0433;&#x0438;&#x043C;
     &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;&#x043C; &#x0434;&#x043B;&#x044F; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D;&#x0430; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x0435;&#x0439;. &#x041F;&#x0440;&#x0438;&#x0441;&#x0443;&#x0442;&#x0441;&#x0442;&#x0432;&#x0443;&#x0435;&#x0442; 2 &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0435; &#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C; &#x043C;&#x043E;&#x0436;&#x0435;&#x0442; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0442;&#x044C;
     &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044E;  &#x0441;  &#x043A;&#x043B;&#x0430;&#x0432;&#x0438;&#x0430;&#x0442;&#x0443;&#x0440;&#x044B;:  Ctrl+C  &#x0438;  Ctrl+Break.  &#x0422;&#x0430;&#x043A;  &#x0436;&#x0435;  &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0430;  &#x043C;&#x043E;&#x0436;&#x0435;&#x0442;  &#x043F;&#x043E;&#x0441;&#x044B;&#x043B;&#x0430;&#x0442;&#x044C;  &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044E;
     &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B;, &#x043A;&#x043E;&#x0433;&#x0434;&#x0430; &#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C; &#x0437;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x043A;&#x043E;&#x043D;&#x0441;&#x043E;&#x043B;&#x044C;, &#x0432;&#x044B;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442; &#x0438;&#x0437; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B; &#x0438;&#x043B;&#x0438;, &#x043A;&#x043E;&#x0433;&#x0434;&#x0430; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0430; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F;.
     </li>
     <li class="itemize">&#x041E;&#x0421;  Windows  &#x043F;&#x043E;&#x0434;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x0432;&#x0430;&#x0435;&#x0442;  &#x0442;&#x0430;&#x043A;&#x043E;&#x0435;  &#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;,  &#x043A;&#x0430;&#x043A;  &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x0430;&#x044F;,  &#x0441;&#x043E;&#x0432;&#x043C;&#x0435;&#x0441;&#x0442;&#x043D;&#x043E;  &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x043C;&#x0430;&#x044F;  &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;.
     &#x0420;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0430;&#x044F; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C; &#x043F;&#x043E;&#x0437;&#x0432;&#x043E;&#x043B;&#x044F;&#x0435;&#x0442; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D;&#x0438;&#x0432;&#x0430;&#x0442;&#x044C;&#x0441;&#x044F; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x0435;&#x0439; &#x043C;&#x0435;&#x0436;&#x0434;&#x0443; &#x0434;&#x0432;&#x0443;&#x043C;&#x044F; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;&#x043C;&#x0438;.
     </li>
     <li class="itemize">&#x041F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x044B;&#x0439;  &#x0441;&#x043B;&#x043E;&#x0442;  &#8211;  &#x043C;&#x0435;&#x0445;&#x0430;&#x043D;&#x0438;&#x0437;&#x043C;  &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;,  &#x0438;&#x043D;&#x0430;&#x0447;&#x0435;  &#x043D;&#x0430;&#x0437;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;&#x044B;&#x0439;  &#x043F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x044B;&#x0439;  &#x044F;&#x0449;&#x0438;&#x043A;.  &#x041A;&#x0430;&#x0436;&#x0434;&#x044B;&#x0439;  &#x0441;&#x043B;&#x043E;&#x0442;
     &#x0440;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F;  &#x043A;&#x0430;&#x043A;  &#x043F;&#x0441;&#x0435;&#x0432;&#x0434;&#x043E;&#x0444;&#x0430;&#x0439;&#x043B;  &#x0432;  &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0442;&#x0438;&#x0432;&#x043D;&#x043E;&#x0439;  &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438;  &#x0438;  &#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x0442;  &#x043D;&#x0435;&#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x0435;  &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;  &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0435;&#x0439;,
     &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0435;  &#x043C;&#x043E;&#x0433;&#x0443;&#x0442;  &#x0431;&#x044B;&#x0442;&#x044C;  &#x043F;&#x0440;&#x043E;&#x0447;&#x0442;&#x0435;&#x043D;&#x044B;  &#x0432;&#x0441;&#x0435;&#x043C;&#x0438;  &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x0430;&#x043C;&#x0438;  &#x0432;  &#x0441;&#x0435;&#x0442;&#x0435;&#x0432;&#x043E;&#x043C;  &#x0434;&#x043E;&#x043C;&#x0435;&#x043D;&#x0435;.  &#x0418;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044F;  &#x043F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x044B;&#x0435;  &#x0441;&#x043B;&#x043E;&#x0442;&#x044B;
     &#x043C;&#x043E;&#x0436;&#x043D;&#x043E; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0432;&#x0430;&#x0442;&#x044C; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043C;&#x0435;&#x0436;&#x0434;&#x0443; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x0430;&#x043C;&#x0438; &#x0432; &#x043B;&#x043E;&#x043A;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0439; &#x0441;&#x0435;&#x0442;&#x0438;. &#x041F;&#x0440;&#x0438; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0438; &#x043F;&#x043E;&#x0447;&#x0442;&#x043E;&#x0432;&#x044B;&#x0445; &#x0441;&#x043B;&#x043E;&#x0442;&#x043E;&#x0432;
     &#x0441; &#x043E;&#x0434;&#x0438;&#x043D;&#x0430;&#x043A;&#x043E;&#x0432;&#x044B;&#x043C; &#x0438;&#x043C;&#x0435;&#x043D;&#x0435;&#x043C; &#x043D;&#x0430; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x0438;&#x0445; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x0430;&#x0445; &#x0434;&#x043E;&#x043C;&#x0435;&#x043D;&#x0430; &#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x0430; &#x0448;&#x0438;&#x0440;&#x043E;&#x043A;&#x043E;&#x0432;&#x0435;&#x0449;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x0430;&#x044F; &#x0440;&#x0430;&#x0441;&#x0441;&#x044B;&#x043B;&#x043A;&#x0430;
     &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;. &#x041E;&#x0434;&#x0438;&#x043D; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0439; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441; &#x043C;&#x043E;&#x0436;&#x0435;&#x0442; &#x043F;&#x043E;&#x0441;&#x044B;&#x043B;&#x0430;&#x0442;&#x044C; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0441;&#x0440;&#x0430;&#x0437;&#x0443; &#x0432;&#x0441;&#x0435;&#x043C; &#x044D;&#x0442;&#x0438;&#x043C; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x044B;&#x043C;
     &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;&#x043C; &#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x0448;&#x0438;&#x0440;&#x043E;&#x043A;&#x043E;&#x0432;&#x0435;&#x0449;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x044B;&#x0445; &#x0437;&#x0430;&#x043F;&#x0440;&#x043E;&#x0441;&#x043E;&#x0432;.</li></ul>
<a 
 id="x1-35001r93"></a>
<h3 class="sectionHead"><span class="titlemark">1.6   </span> <a 
 id="x1-360006"></a>&#x0421;&#x043F;&#x0438;&#x0441;&#x043E;&#x043A; &#x043B;&#x0438;&#x0442;&#x0435;&#x0440;&#x0430;&#x0442;&#x0443;&#x0440;&#x044B;</h3>
     <ul class="itemize1">
     <li class="itemize">CreatePipe function [&#x042D;&#x043B;&#x0435;&#x043A;&#x0442;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;]. &#8212; URL: <a 
href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/aa365152(v=vs.85).aspx" >https://msdn.microsoft.com/ru-ru/library/windows/
     desktop/aa365152(v=vs.85).aspx</a> (&#x0434;&#x0430;&#x0442;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; 11.01.2017).
     </li>
     <li class="itemize">CreateNamedPipe              function              [&#x042D;&#x043B;&#x0435;&#x043A;&#x0442;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439;              &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;].              &#8212;              URL:
     <a 
href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/aa365150(v=vs.85).aspx" >https://msdn.microsoft.com/ru-ru/library/windows/
     desktop/aa365150(v=vs.85).aspx</a> (&#x0434;&#x0430;&#x0442;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; 11.01.2017).
                                                                                               
                                                                                               
     </li>
     <li class="itemize">&#x0427;&#x0442;&#x043E;          &#x0442;&#x0430;&#x043A;&#x043E;&#x0435;          Windows          Sockets          [&#x042D;&#x043B;&#x0435;&#x043A;&#x0442;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439;          &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;].          &#8212;          URL:
     <a 
href="http://www.firststeps.ru/mfc/net/socket/r.php?1" >http://www.firststeps.ru/mfc/net/socket/r.php?1</a> (&#x0434;&#x0430;&#x0442;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; 11.01.2017).
     </li>
     <li class="itemize">CreateService function [&#x042D;&#x043B;&#x0435;&#x043A;&#x0442;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;]. &#8212; URL: <a 
href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/ms682450(v=vs.85).aspx" >https://msdn.microsoft.com/ru-ru/library/windows/
     desktop/ms682450(v=vs.85).aspx</a> (&#x0434;&#x0430;&#x0442;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; 11.01.2017).
     </li>
     <li class="itemize">SetConsoleCtrlHandler            function            [&#x042D;&#x043B;&#x0435;&#x043A;&#x0442;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439;            &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;].            &#8212;            URL:
     <a 
href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/ms686016(v=vs.85).aspx" >https://msdn.microsoft.com/ru-ru/library/windows/
     desktop/ms686016(v=vs.85).aspx</a> (&#x0434;&#x0430;&#x0442;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; 11.01.2017).
     </li>
     <li class="itemize">CreateFileMapping             function             [&#x042D;&#x043B;&#x0435;&#x043A;&#x0442;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439;             &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;].             &#8212;             URL:
     <a 
href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/aa366537(v=vs.85).aspx" >https://msdn.microsoft.com/ru-ru/library/windows/
     desktop/aa366537(v=vs.85).aspx</a> (&#x0434;&#x0430;&#x0442;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; 11.01.2017).
     </li>
     <li class="itemize">CreateMailslot              function              [&#x042D;&#x043B;&#x0435;&#x043A;&#x0442;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439;              &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;].              &#8212;              URL:
     <a 
href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/aa365147(v=vs.85).aspx" >https://msdn.microsoft.com/ru-ru/library/windows/
     desktop/aa365147(v=vs.85).aspx</a> (&#x0434;&#x0430;&#x0442;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; 11.01.2017).</li></ul>
    
</body></html> 

                                                                                               


