<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html xml:lang="ru" > 
<head><title></title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-5"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- html --> 
<meta name="src" content="report.tex"> 
<meta name="date" content="2017-01-25 16:25:00"> 
<link rel="stylesheet" type="text/css" href="report.css"> 
</head><body 
>
<!--l. 59--><p class="noindent" >
                                                                                               
                                                                                               
<div class="center" 
>
<!--l. 60--><p class="noindent" >
<!--l. 63--><p class="noindent" ><span 
class="lacc-1000">&#x0421;<span 
class="small-caps">&#x0410;</span>&#x043D;&#x043A;&#x0442;-&#x041F;&#x0415;&#x0442;&#x0415;&#x0440;&#x0431;&#x0443;&#x0440;&#x0433;&#x0441;&#x043A;&#x0438;&#x0439; &#x041F;&#x043E;&#x043B;&#x0438;&#x0442;&#x0415;&#x0445;&#x043D;&#x0438;&#x0447;&#x0415;&#x0441;&#x043A;&#x0438;&#x0439; &#x0423;&#x043D;&#x0438;&#x0432;&#x0415;&#x0440;&#x0441;&#x0438;&#x0442;&#x0415;&#x0442; &#x041F;&#x0415;&#x0442;&#x0440;<span 
class="small-caps">&#x0410;</span> &#x0412;&#x0415;&#x043B;&#x0438;&#x043A;&#x043E;&#x0433;&#x043E;</span><br /><br />
<span 
class="lacc-1000">&#x041A;<span 
class="small-caps">&#x0410;</span>&#x0444;&#x0415;&#x0434;&#x0440;<span 
class="small-caps">&#x0410;</span> &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0415;&#x0440;&#x043D;&#x044B;&#x0445; &#x0441;&#x0438;&#x0441;&#x0442;&#x0415;&#x043C; &#x0438; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;<span 
class="small-caps">&#x0410;</span>&#x043C;&#x043C;&#x043D;&#x044B;&#x0445; &#x0442;&#x0415;&#x0445;&#x043D;&#x043E;&#x043B;&#x043E;&#x0433;&#x0438;&#x0439;</span>
<!--l. 70--><p class="noindent" ><span 
class="labx-1000">&#x041E;&#x0442;&#x0447;&#x0451;&#x0442; &#x043F;&#x043E; &#x043B;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430;&#x0442;&#x043E;&#x0440;&#x043D;&#x043E;&#x0439; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0435; &#x2116;7</span><br /><br />
<span 
class="labx-1000">&#x041A;&#x0443;&#x0440;&#x0441;: «&#x041E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x044B;&#x0435; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B;»</span><br /><br />
<span 
class="labx-1000">&#x0422;&#x0435;&#x043C;&#x0430;: «&#x0421;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x0430; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432; &#x0438; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432; &#x0432; &#x041E;&#x0421; Windows»</span><br /><br />
</div>
<!--l. 73--><p class="indent" >                         <div class="minipage">&#x0412;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0438;&#x043B; &#x0441;&#x0442;&#x0443;&#x0434;&#x0435;&#x043D;&#x0442;:<br 
class="newline" /> &#x0411;&#x043E;&#x044F;&#x0440;&#x043A;&#x0438;&#x043D; &#x041D;&#x0438;&#x043A;&#x0438;&#x0442;&#x0430; &#x0421;&#x0435;&#x0440;&#x0433;&#x0435;&#x0435;&#x0432;&#x0438;&#x0447;<br 
class="newline" />&#x0413;&#x0440;&#x0443;&#x043F;&#x043F;&#x0430;: 43501/3<br 
class="newline" />
<!--l. 79--><p class="noindent" >&#x041F;&#x0440;&#x043E;&#x0432;&#x0435;&#x0440;&#x0438;&#x043B;:<br 
class="newline" /> &#x0414;&#x0443;&#x0448;&#x0443;&#x0442;&#x0438;&#x043D;&#x0430; &#x0415;&#x043B;&#x0435;&#x043D;&#x0430; &#x0412;&#x043B;&#x0430;&#x0434;&#x0438;&#x043C;&#x0438;&#x0440;&#x043E;&#x0432;&#x043D;&#x0430;
</div>
<div class="center" 
>
<!--l. 83--><p class="noindent" >
<!--l. 84--><p class="noindent" >&#x0421;&#x0430;&#x043D;&#x043A;&#x0442;-&#x041F;&#x0435;&#x0442;&#x0435;&#x0440;&#x0431;&#x0443;&#x0440;&#x0433;<br />
2017&#x00A0;&#x0433;.</div>
                                                                                               
                                                                                               
                                                                                               
                                                                                               
<a 
 id="x1-1000"></a>
   <h2 class="likechapterHead"><a 
 id="x1-2000"></a>&#x0421;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0430;&#x043D;&#x0438;&#x0435;</h2> <div class="tableofcontents">
   <span class="chapterToc" >1 <a 
href="#x1-30001" id="QQ2-1-3">&#x041B;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430;&#x0442;&#x043E;&#x0440;&#x043D;&#x0430;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430; &#x2116;7</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.1 <a 
href="#x1-40001" id="QQ2-1-4">&#x0426;&#x0435;&#x043B;&#x044C; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.2 <a 
href="#x1-50002" id="QQ2-1-5">&#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.3 <a 
href="#x1-90003" id="QQ2-1-9">&#x0425;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B;</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.4 <a 
href="#x1-100004" id="QQ2-1-13">&#x0425;&#x043E;&#x0434; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.4.1 <a 
href="#x1-110001" id="QQ2-1-14">&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 1. &#x0421;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x0430; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.4.2 <a 
href="#x1-180002" id="QQ2-1-38">&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 2. &#x0417;&#x0430;&#x0434;&#x0430;&#x0447;&#x0430; «&#x0427;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438; &#x0438; &#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438;»</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.4.3 <a 
href="#x1-240003" id="QQ2-1-57">&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 3. &#x0417;&#x0430;&#x0434;&#x0430;&#x0447;&#x0430; «&#x041E;&#x0431;&#x0435;&#x0434;&#x0430;&#x044E;&#x0449;&#x0438;&#x0435; &#x0444;&#x0438;&#x043B;&#x043E;&#x0441;&#x043E;&#x0444;&#x044B;»</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.5 <a 
href="#x1-260005" id="QQ2-1-61">&#x0412;&#x044B;&#x0432;&#x043E;&#x0434;</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.6 <a 
href="#x1-270006" id="QQ2-1-62">&#x0421;&#x043F;&#x0438;&#x0441;&#x043E;&#x043A; &#x043B;&#x0438;&#x0442;&#x0435;&#x0440;&#x0430;&#x0442;&#x0443;&#x0440;&#x044B;</a></span>
   </div>
                                                                                               
                                                                                               
                                                                                               
                                                                                               
   <h2 class="chapterHead"><span class="titlemark">&#x0413;&#x043B;&#x0430;&#x0432;&#x0430;&#x00A0;1</span><br /><a 
 id="x1-30001"></a>&#x041B;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430;&#x0442;&#x043E;&#x0440;&#x043D;&#x0430;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430; &#x2116;7</h2>
<a 
 id="x1-3001r1"></a>
<h3 class="sectionHead"><span class="titlemark">1.1   </span> <a 
 id="x1-40001"></a>&#x0426;&#x0435;&#x043B;&#x044C; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</h3>
<!--l. 96--><p class="noindent" >&#x0418;&#x0437;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435; &#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0430; &#x043A; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x0430;&#x043C; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432; &#x0438; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432; &#x0432; &#x041E;&#x0421; &#x0441;&#x0435;&#x043C;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0430; Windows.
<a 
 id="x1-4001r4"></a>
<h3 class="sectionHead"><span class="titlemark">1.2   </span> <a 
 id="x1-50002"></a>&#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</h3>
<h5 class="subsubsectionHead"><a 
 id="x1-60002"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 1. &#x0421;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x0430; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</h5>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-6002x1">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0442;&#x044C;  &#x0434;&#x0432;&#x0430;  &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;:  &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044F;  &#x0438;  &#x043F;&#x043E;&#x0442;&#x0440;&#x0435;&#x0431;&#x0438;&#x0442;&#x0435;&#x043B;&#x044F;.  &#x041F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0438;  &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x044E;&#x0442;  &#x0446;&#x0435;&#x043B;&#x043E;&#x0447;&#x0438;&#x0441;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x0439;  &#x043C;&#x0430;&#x0441;&#x0441;&#x0438;&#x0432;,  &#x0432;
     &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0439; &#x0437;&#x0430;&#x043D;&#x043E;&#x0441;&#x044F;&#x0442;&#x0441;&#x044F; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x043C;&#x044B;&#x0435; &#x0438; &#x0438;&#x0437;&#x0432;&#x043B;&#x0435;&#x043A;&#x0430;&#x044E;&#x0442;&#x0441;&#x044F; &#x043F;&#x043E;&#x0442;&#x0440;&#x0435;&#x0431;&#x043B;&#x044F;&#x0435;&#x043C;&#x044B;&#x0435; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435;. &#x0414;&#x043B;&#x044F; &#x043D;&#x0430;&#x0433;&#x043B;&#x044F;&#x0434;&#x043D;&#x043E;&#x0441;&#x0442;&#x0438; &#x0438; &#x043A;&#x043E;&#x043D;&#x0442;&#x0440;&#x043E;&#x043B;&#x044F;
     &#x0437;&#x0430;  &#x043F;&#x0440;&#x043E;&#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x044F;&#x0449;&#x0438;&#x043C;  &#x0432;  &#x0431;&#x0443;&#x0444;&#x0435;&#x0440;  &#x043F;&#x043E;&#x043C;&#x0435;&#x0449;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F;  &#x043D;&#x0430;&#x0440;&#x0430;&#x0449;&#x0438;&#x0432;&#x0430;&#x0435;&#x043C;&#x043E;&#x0435;  &#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;,  &#x043E;&#x0434;&#x043D;&#x043E;&#x0437;&#x043D;&#x0430;&#x0447;&#x043D;&#x043E;  &#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x0446;&#x0438;&#x0440;&#x0443;&#x044E;&#x0449;&#x0435;&#x0435;
     &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044F; &#x0438; &#x043D;&#x043E;&#x043C;&#x0435;&#x0440; &#x0435;&#x0433;&#x043E; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x043D;&#x043E;&#x0439; &#x043F;&#x043E;&#x0441;&#x044B;&#x043B;&#x043A;&#x0438;.
     </li>
     <li 
  class="enumerate" id="x1-6004x2">&#x0421;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443; &#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x0430;&#x043C;&#x0438;.
     </li>
     <li 
  class="enumerate" id="x1-6006x3">&#x0421;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x0430;&#x043C;&#x0438;.
     </li>
     <li 
  class="enumerate" id="x1-6008x4">&#x0421;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443; &#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0438;&#x043C;&#x0438; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x044F;&#x043C;&#x0438;.
     </li>
     <li 
  class="enumerate" id="x1-6010x5">&#x0421;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443; &#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F;&#x043C;&#x0438;.
     </li>
     <li 
  class="enumerate" id="x1-6012x6">&#x0421;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443; &#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0438;&#x043C;&#x0438; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x044F;&#x043C;&#x0438; &#x0441; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;&#x043C; &#x0443;&#x0441;&#x043B;&#x043E;&#x0432;&#x043D;&#x044B;&#x0445; &#x043F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x044B;&#x0445;.</li></ol>
<h5 class="subsubsectionHead"><a 
 id="x1-70002"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 2. &#x0417;&#x0430;&#x0434;&#x0430;&#x0447;&#x0430; "&#x0427;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438; &#x0438; &#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438;
</h5>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-7002x1">&#x0420;&#x0435;&#x0448;&#x0438;&#x0442;&#x044C; &#x0437;&#x0430;&#x0434;&#x0430;&#x0447;&#x0443; &#x043E;&#x0434;&#x043D;&#x043E;&#x0433;&#x043E; &#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F; &#x0438; N &#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;. &#x0414;&#x043B;&#x044F; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x0440;&#x0430;&#x0437;&#x0440;&#x0435;&#x0448;&#x0435;&#x043D;&#x043E; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E;
     &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x044B;-&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F;, &#x0432; &#x043A;&#x0430;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0435; &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x043E;&#x0433;&#x043E; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x0430; &#8211; &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0443;&#x044E; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C; (share memory). &#x041F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;
     &#x043F;&#x0438;&#x0448;&#x0435;&#x0442; &#x0432; share memory &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435; &#x0438; &#x0436;&#x0434;&#x0435;&#x0442;, &#x043F;&#x043E;&#x043A;&#x0430; &#x0432;&#x0441;&#x0435; &#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438; &#x043D;&#x0435; &#x043F;&#x0440;&#x043E;&#x0447;&#x0438;&#x0442;&#x0430;&#x044E;&#x0442; &#x0434;&#x0430;&#x043D;&#x043D;&#x043E;&#x0435; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;.
     </li>
     <li 
  class="enumerate" id="x1-7004x2">&#x0420;&#x0435;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435; &#x0437;&#x0430;&#x0434;&#x0430;&#x0447;&#x0438; &#x0434;&#x043B;&#x044F; &#x0440;&#x0430;&#x0437;&#x043D;&#x044B;&#x0445; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432;.
     </li>
     <li 
  class="enumerate" id="x1-7006x3">&#x041C;&#x043E;&#x0434;&#x0438;&#x0444;&#x0438;&#x0446;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x043F;&#x0440;&#x0435;&#x0434;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x043D;&#x043E;&#x0435; &#x0440;&#x0435;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435; &#x0442;&#x0430;&#x043A;&#x0438;&#x043C; &#x043E;&#x0431;&#x0440;&#x0430;&#x0437;&#x043E;&#x043C;, &#x0447;&#x0442;&#x043E;&#x0431;&#x044B; «&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438;» &#x043D;&#x0435; &#x0438;&#x043C;&#x0435;&#x043B;&#x0438; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0430; &#x043A; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438;
     &#x043F;&#x043E; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438;.
     </li>
     <li 
  class="enumerate" id="x1-7008x4">&#x041F;&#x0440;&#x0435;&#x0434;&#x043B;&#x043E;&#x0436;&#x0438;&#x0442;&#x044C; &#x0431;&#x043E;&#x043B;&#x0435;&#x0435; &#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0435; &#x0440;&#x0435;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435; &#x0437;&#x0430;&#x0434;&#x0430;&#x0447;&#x0438;, &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044F; &#x0434;&#x0440;&#x0443;&#x0433;&#x0438;&#x0435; &#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x0430; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x0438;&#x043B;&#x0438; &#x0438;&#x0445;
     &#x0441;&#x043E;&#x0447;&#x0435;&#x0442;&#x0430;&#x043D;&#x0438;&#x0435;.
     </li>
     <li 
  class="enumerate" id="x1-7010x5">&#x0420;&#x0430;&#x0437;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x0442;&#x044C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0435; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435; &#x0434;&#x043B;&#x044F; &#x043F;&#x043E;&#x043B;&#x043D;&#x043E;&#x0439; &#x0437;&#x0430;&#x0434;&#x0430;&#x0447;&#x0438; «&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438; - &#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438;» &#x0441; &#x0441;&#x043E;&#x0431;&#x0441;&#x0442;&#x0432;&#x0435;&#x043D;&#x043D;&#x043E;&#x0439;
     &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043E;&#x0439; &#x043E;&#x0433;&#x0440;&#x0430;&#x043D;&#x0438;&#x0447;&#x0435;&#x043D;&#x0438;&#x0439; &#x043D;&#x0430; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F; &#x043A;&#x0430;&#x0436;&#x0434;&#x043E;&#x0433;&#x043E; «&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;» &#x043A; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x0438;. &#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x0434;&#x043E;&#x043B;&#x0436;&#x043D;&#x0430; &#x043F;&#x043E;&#x0434;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x0432;&#x0430;&#x0442;&#x044C;
     &#x0441;&#x0435;&#x0442;&#x0435;&#x0432;&#x043E;&#x0435; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x043E;&#x043D;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;.</li></ol>
<h5 class="subsubsectionHead"><a 
 id="x1-80002"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 3. &#x0417;&#x0430;&#x0434;&#x0430;&#x0447;&#x0430; "&#x041E;&#x0431;&#x0435;&#x0434;&#x0430;&#x044E;&#x0449;&#x0438;&#x0435; &#x0444;&#x0438;&#x043B;&#x043E;&#x0441;&#x043E;&#x0444;&#x044B;
</h5>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-8002x1">&#x0421;&#x043E;&#x0441;&#x0442;&#x0430;&#x0432;&#x0438;&#x0442;&#x044C; &#x043C;&#x043E;&#x0434;&#x0435;&#x043B;&#x044C; &#x0438; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443; &#x0434;&#x043B;&#x044F; &#x0437;&#x0430;&#x0434;&#x0430;&#x0447;&#x0438;: &#x0432; &#x043E;&#x0434;&#x043D;&#x043E;&#x043C; &#x043F;&#x0430;&#x043D;&#x0441;&#x0438;&#x043E;&#x043D;&#x0435;, &#x043E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0442;&#x043E;&#x043C; &#x0431;&#x043E;&#x0433;&#x0430;&#x0442;&#x044B;&#x043C; &#x0444;&#x0438;&#x043B;&#x0430;&#x043D;&#x0442;&#x0440;&#x043E;&#x043F;&#x043E;&#x043C;, &#x0431;&#x044B;&#x043B;&#x0438;
     &#x0441;&#x043E;&#x0431;&#x0440;&#x0430;&#x043D;&#x044B;  &#x043F;&#x044F;&#x0442;&#x044C;  &#x0437;&#x043D;&#x0430;&#x043C;&#x0435;&#x043D;&#x0438;&#x0442;&#x044B;&#x0445;  &#x0444;&#x0438;&#x043B;&#x043E;&#x0441;&#x043E;&#x0444;&#x043E;&#x0432;.  &#x041F;&#x0440;&#x0435;&#x0434;&#x0430;&#x0432;&#x0430;&#x044F;&#x0441;&#x044C;  &#x0440;&#x0430;&#x0437;&#x043C;&#x044B;&#x0448;&#x043B;&#x0435;&#x043D;&#x0438;&#x044F;&#x043C;,  &#x043E;&#x043D;&#x0438;  &#x043D;&#x0435;&#x0437;&#x0430;&#x0432;&#x0438;&#x0441;&#x0438;&#x043C;&#x043E;  &#x0434;&#x0440;&#x0443;&#x0433;  &#x043E;&#x0442;  &#x0434;&#x0440;&#x0443;&#x0433;&#x0430;
     &#x0437;&#x0430;&#x0445;&#x043E;&#x0434;&#x0438;&#x043B;&#x0438; &#x043E;&#x0431;&#x0435;&#x0434;&#x0430;&#x0442;&#x044C; &#x0432; &#x043E;&#x0431;&#x0449;&#x0443;&#x044E; &#x0441;&#x0442;&#x043E;&#x043B;&#x043E;&#x0432;&#x0443;&#x044E;. &#x0412; &#x0441;&#x0442;&#x043E;&#x043B;&#x043E;&#x0432;&#x043E;&#x0439; &#x0441;&#x0442;&#x043E;&#x044F;&#x043B; &#x0441;&#x0442;&#x043E;&#x043B;, &#x0432;&#x043E;&#x043A;&#x0440;&#x0443;&#x0433; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x0433;&#x043E; &#x0431;&#x044B;&#x043B; &#x043F;&#x043E;&#x0441;&#x0442;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x044B; &#x0441;&#x0442;&#x0443;&#x043B;&#x044C;&#x044F;.
     &#x041A;&#x0430;&#x0436;&#x0434;&#x043E;&#x043C;&#x0443; &#x0444;&#x0438;&#x043B;&#x043E;&#x0441;&#x043E;&#x0444;&#x0443; &#x0441;&#x0432;&#x043E;&#x0439; &#x0441;&#x0442;&#x0443;&#x043B;. &#x0421;&#x043B;&#x0435;&#x0432;&#x0430; &#x043E;&#x0442; &#x0444;&#x0438;&#x043B;&#x043E;&#x0441;&#x043E;&#x0444;&#x0430; &#x043B;&#x0435;&#x0436;&#x0430;&#x043B;&#x043E; &#x043F;&#x043E; &#x0432;&#x0438;&#x043B;&#x043A;&#x0435;, &#x0430; &#x0432; &#x0446;&#x0435;&#x043D;&#x0442;&#x0440;&#x0435; &#x0441;&#x0442;&#x043E;&#x043B;&#x0430; &#x0441;&#x0442;&#x043E;&#x044F;&#x043B;&#x0430; &#x0431;&#x043E;&#x043B;&#x044C;&#x0448;&#x0430;&#x044F;
     &#x0442;&#x0430;&#x0440;&#x0435;&#x043B;&#x043A;&#x0430; &#x0441;&#x043F;&#x0430;&#x0433;&#x0435;&#x0442;&#x0442;&#x0438;. &#x0421;&#x043F;&#x0430;&#x0433;&#x0435;&#x0442;&#x0442;&#x0438; &#x043C;&#x043E;&#x0436;&#x043D;&#x043E; &#x0431;&#x044B;&#x043B;&#x043E; &#x0435;&#x0441;&#x0442;&#x044C; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x0434;&#x0432;&#x0443;&#x043C;&#x044F; &#x0432;&#x0438;&#x043B;&#x043A;&#x0430;&#x043C;&#x0438;, &#x0430; &#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x0443;, &#x0441;&#x0435;&#x0432; &#x0437;&#x0430; &#x0441;&#x0442;&#x043E;&#x043B;, &#x0444;&#x0438;&#x043B;&#x043E;&#x0441;&#x043E;&#x0444;
     &#x0434;&#x043E;&#x043B;&#x0436;&#x0435;&#x043D; &#x0431;&#x044B;&#x043B; &#x0432;&#x0437;&#x044F;&#x0442;&#x044C; &#x0432;&#x0438;&#x043B;&#x043A;&#x0443; &#x0441;&#x043E;&#x0441;&#x0435;&#x0434;&#x0430; &#x0441;&#x043F;&#x0440;&#x0430;&#x0432;&#x0430; (&#x0435;&#x0441;&#x043B;&#x0438; &#x043E;&#x043D;&#x0430;, &#x043A;&#x043E;&#x043D;&#x0435;&#x0447;&#x043D;&#x043E;, &#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0434;&#x043D;&#x0430;).</li></ol>
                                                                                               
                                                                                               
<a 
 id="x1-8003r5"></a>
<h3 class="sectionHead"><span class="titlemark">1.3   </span> <a 
 id="x1-90003"></a>&#x0425;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B;</h3>
<!--l. 133--><p class="noindent" >&#x041D;&#x0435;&#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x0430;&#x044F; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x044F; &#x043E;&#x0431; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x043E;&#x0439; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0435; &#x0438; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x0430;&#x0445; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B;:
<!--l. 135--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-90011"></a>
                                                                                               
                                                                                               
<!--l. 137--><p class="noindent" ><img 
src="../images/0.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.1: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-90011 -->
                                                                                               
                                                                                               
<!--l. 141--><p class="indent" >   </div><hr class="endfigure">
<!--l. 143--><p class="indent" >   &#x0418;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x044F; &#x043E; &#x043A;&#x043E;&#x043C;&#x043F;&#x0438;&#x043B;&#x044F;&#x0442;&#x043E;&#x0440;&#x0435;:
   <!--l. 145--><div class="lstinputlisting">
<a 
 id="x1-9002"></a>
<span 
class="lass-0900">&#x041E;&#x043F;&#x0442;&#x0438;&#x043C;&#x0438;&#x0437;&#x0438;&#x0440;&#x0443;&#x044E;&#x0449;&#x0438;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9003r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043C;&#x043F;&#x0438;&#x043B;&#x044F;&#x0442;&#x043E;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Microsoft</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">R</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">C</span><span 
class="lass-0900">/</span><span 
class="lass-0900">C</span><span 
class="lass-0900">++</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0435;&#x0440;&#x0441;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">19.00.24215.1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">x86</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9004r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">(</span><span 
class="lass-0900">C</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x0440;&#x043F;&#x043E;&#x0440;&#x0430;&#x0446;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x041C;&#x0430;&#x0439;&#x043A;&#x0440;&#x043E;&#x0441;&#x043E;&#x0444;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Microsoft</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Corporation</span><span 
class="lass-0900">)</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0412;&#x0441;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0430;&#x0432;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0449;&#x0438;&#x0449;&#x0435;&#x043D;&#x044B;</span><span 
class="lass-0900">.</span>
   </div>
<!--l. 147--><p class="indent" >   &#x0418;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x044F; &#x043E; &#x043A;&#x043E;&#x043C;&#x043F;&#x043E;&#x043D;&#x043E;&#x0432;&#x0449;&#x0438;&#x043A;&#x0435;:
   <!--l. 149--><div class="lstinputlisting">
<a 
 id="x1-9005"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9006r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">Microsoft</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">R</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Incremental</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Linker</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Version</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">14.00.24215.1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9007r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">Copyright</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">C</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Microsoft</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Corporation</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">All</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">rights</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">reserved</span><span 
class="lass-0900">.</span>
   </div>
<a 
 id="x1-9008r9"></a>
<h3 class="sectionHead"><span class="titlemark">1.4   </span> <a 
 id="x1-100004"></a>&#x0425;&#x043E;&#x0434; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</h3>
<a 
 id="x1-10001r1"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.1   </span> <a 
 id="x1-110001"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 1. &#x0421;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x0430; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</h4>
<!--l. 155--><p class="noindent" >&#x0412; &#x041E;&#x0421; Windows &#x0441;&#x0443;&#x0449;&#x0435;&#x0441;&#x0442;&#x0432;&#x0443;&#x0435;&#x0442; &#x043C;&#x043D;&#x043E;&#x0436;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E; &#x0441;&#x043F;&#x043E;&#x0441;&#x043E;&#x0431;&#x043E;&#x0432; &#x0434;&#x043B;&#x044F; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432; &#x0438; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432;:
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-11002x1">&#x041C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x044B;.
     </li>
     <li 
  class="enumerate" id="x1-11004x2">&#x0421;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x044B;.
     </li>
     <li 
  class="enumerate" id="x1-11006x3">&#x041A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0438;&#x0435; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438;.
     </li>
     <li 
  class="enumerate" id="x1-11008x4">&#x041E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x044B; &#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F;.
     </li>
     <li 
  class="enumerate" id="x1-11010x5">&#x0423;&#x0441;&#x043B;&#x043E;&#x0432;&#x043D;&#x044B;&#x0435; &#x043F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x044B;&#x0435;.
     </li>
     <li 
  class="enumerate" id="x1-11012x6">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F;.</li></ol>
<!--l. 166--><p class="indent" >   &#x041A;&#x0430;&#x0436;&#x0434;&#x044B;&#x0439; &#x0438;&#x0437; &#x044D;&#x0442;&#x0438;&#x0445; &#x0441;&#x043F;&#x043E;&#x0441;&#x043E;&#x0431;&#x043E;&#x0432; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x0438;&#x043C;&#x0435;&#x0435;&#x0442; &#x0441;&#x0432;&#x043E;&#x0438; &#x043F;&#x0440;&#x0435;&#x0438;&#x043C;&#x0443;&#x0449;&#x0435;&#x0441;&#x0442;&#x0432;&#x0430; &#x0438; &#x043D;&#x0435;&#x0434;&#x043E;&#x0441;&#x0442;&#x0430;&#x0442;&#x043A;&#x0438;.
<h5 class="subsubsectionHead"><a 
 id="x1-120001"></a>1. &#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435; &#x043C;&#x043D;&#x043E;&#x0433;&#x043E;&#x043F;&#x043E;&#x0442;&#x043E;&#x0447;&#x043D;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F; &#x0434;&#x043B;&#x044F; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435;&#x0434;&#x0443;&#x044E;&#x0449;&#x0435;&#x0439; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</h5>
<!--l. 170--><p class="noindent" >&#x0414;&#x043B;&#x044F; &#x0434;&#x0435;&#x043C;&#x043E;&#x043D;&#x0441;&#x0442;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043A;&#x0430;&#x0436;&#x0434;&#x043E;&#x0433;&#x043E; &#x0438;&#x0437; &#x044D;&#x0442;&#x0438;&#x0445; &#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x0431;&#x044B;&#x043B;&#x0430; &#x043D;&#x0430;&#x043F;&#x0438;&#x0441;&#x0430;&#x043D;&#x0430; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x0430;&#x044F;
&#x0438;&#x043C;&#x0435;&#x0435;&#x0442; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044F; &#x0438; &#x043F;&#x043E;&#x0442;&#x0440;&#x0435;&#x0431;&#x0438;&#x0442;&#x0435;&#x043B;&#x044F;. &#x041F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0438; &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x044E;&#x0442; &#x0446;&#x0435;&#x043B;&#x043E;&#x0447;&#x0438;&#x0441;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x0439; &#x043C;&#x0430;&#x0441;&#x0441;&#x0438;&#x0432;, &#x0432; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0439; &#x0437;&#x0430;&#x043D;&#x043E;&#x0441;&#x044F;&#x0442;&#x0441;&#x044F;
&#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x043C;&#x044B;&#x0435; &#x0438; &#x0438;&#x0437;&#x0432;&#x043B;&#x0435;&#x043A;&#x0430;&#x044E;&#x0442;&#x0441;&#x044F; &#x043F;&#x043E;&#x0442;&#x0440;&#x0435;&#x0431;&#x043B;&#x044F;&#x0435;&#x043C;&#x044B;&#x0435; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435;. &#x0414;&#x043B;&#x044F; &#x043D;&#x0430;&#x0433;&#x043B;&#x044F;&#x0434;&#x043D;&#x043E;&#x0441;&#x0442;&#x0438; &#x0438; &#x043A;&#x043E;&#x043D;&#x0442;&#x0440;&#x043E;&#x043B;&#x044F; &#x0437;&#x0430; &#x043F;&#x0440;&#x043E;&#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x044F;&#x0449;&#x0438;&#x043C; &#x0432; &#x0431;&#x0443;&#x0444;&#x0435;&#x0440;
&#x043F;&#x043E;&#x043C;&#x0435;&#x0449;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x043D;&#x0430;&#x0440;&#x0430;&#x0449;&#x0438;&#x0432;&#x0430;&#x0435;&#x043C;&#x043E;&#x0435; &#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;, &#x043E;&#x0434;&#x043D;&#x043E;&#x0437;&#x043D;&#x0430;&#x0447;&#x043D;&#x043E; &#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x0446;&#x0438;&#x0440;&#x0443;&#x044E;&#x0449;&#x0435;&#x0435; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044F; &#x0438; &#x043D;&#x043E;&#x043C;&#x0435;&#x0440; &#x0435;&#x0433;&#x043E; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x043D;&#x043E;&#x0439;
&#x043F;&#x043E;&#x0441;&#x044B;&#x043B;&#x043A;&#x0438;.
<!--l. 172--><p class="indent" >   &#x0413;&#x043B;&#x0430;&#x0432;&#x043D;&#x044B;&#x0439; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A; &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x0442; &#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x044E; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;, &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x0442; &#x0432;&#x0441;&#x0435; &#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0438; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0438;. &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F;
&#x0432;&#x0441;&#x0435;&#x0445; &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x043E;&#x0432; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x0442; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;, &#x0430; &#x0437;&#x0430;&#x0442;&#x0435;&#x043C; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442; &#x0443;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435; &#x0432;&#x0441;&#x0435;&#x0445; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445;
&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x043E;&#x0432;.
<!--l. 174--><p class="indent" >   &#x0412; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0435; &#x043F;&#x0440;&#x0435;&#x0434;&#x0443;&#x0441;&#x043C;&#x0430;&#x0442;&#x0440;&#x0438;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;&#x0441;&#x0442;&#x044C; &#x043D;&#x0430;&#x0441;&#x0442;&#x0440;&#x043E;&#x0439;&#x043A;&#x0438;:
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-12002x1">&#x041A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0430; &#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439; &#x0438; &#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;.
     </li>
     <li 
  class="enumerate" id="x1-12004x2">&#x0423;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043A;&#x0438; &#x0437;&#x0430;&#x0434;&#x0435;&#x0440;&#x0436;&#x0435;&#x043A; &#x0434;&#x043B;&#x044F; &#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439; &#x0438; &#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;.
     </li>
     <li 
  class="enumerate" id="x1-12006x3">&#x0412;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438; &#x0436;&#x0438;&#x0437;&#x043D;&#x0438; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;.
     </li>
     <li 
  class="enumerate" id="x1-12008x4">&#x0420;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;&#x0430; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;.</li></ol>
                                                                                               
                                                                                               
<!--l. 183--><p class="indent" >   &#x0412; &#x043A;&#x0430;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0435; &#x043E;&#x0431;&#x0449;&#x0435;&#x0433;&#x043E; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x0430; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C; FIFO. &#x041F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0438;-&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438; &#x0434;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x044E;&#x0442; &#x0432; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;,
&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0438;-&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438; &#x0437;&#x0430;&#x0431;&#x0438;&#x0440;&#x0430;&#x044E;&#x0442;.
<!--l. 185--><p class="indent" >   &#x0420;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;:
   <!--l. 187--><div class="lstinputlisting">
<a 
 id="x1-12009"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12010r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12011r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12012r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">conio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12013r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12014r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">fstream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12015r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12016r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">vector</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12017r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12018r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0447;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12019r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Configuration</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12020r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12021r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12022r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12023r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12024r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12025r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12026r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x0438;&#x043B;&#x043B;&#x0438;&#x0441;&#x0435;&#x043A;&#x0443;&#x043D;&#x0434;&#x0430;&#x0445;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12027r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12028r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x0438;&#x043B;&#x043B;&#x0438;&#x0441;&#x0435;&#x043A;&#x0443;&#x043D;&#x0434;&#x0430;&#x0445;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12029r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12030r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0412;&#x0440;&#x0435;&#x043C;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0436;&#x0438;&#x0437;&#x043D;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12031r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12032r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12033r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12034r25"></a><span 
class="larm-0500">25</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">FIFO</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12035r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Queue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12036r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041C;&#x0430;&#x0441;&#x0441;&#x0438;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12037r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12038r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0434;&#x0435;&#x043A;&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12039r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12040r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0434;&#x0435;&#x043A;&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12041r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12042r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12043r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12044r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x043B;&#x0430;&#x0433;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x043D;&#x043E;&#x0441;&#x0442;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12045r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bool</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">isFull</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12046r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12047r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12048r39"></a><span 
class="larm-0500">39</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CONFIG_PATH</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">config</span><span 
class="lass-0900">.</span><span 
class="lass-0900">ini</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12049r40"></a><span 
class="larm-0500">40</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__int64</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TIMER_CONSTANT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">10000000;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12050r41"></a><span 
class="larm-0500">41</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_MESSAGE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">q</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12051r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12052r43"></a><span 
class="larm-0500">43</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0413;&#x043B;&#x043E;&#x0431;&#x0430;&#x043B;&#x044C;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12053r44"></a><span 
class="larm-0500">44</span></span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Configuration</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12054r45"></a><span 
class="larm-0500">45</span></span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Queue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12055r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12056r47"></a><span 
class="larm-0500">47</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041C;&#x0430;&#x0441;&#x0441;&#x0438;&#x0432;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0430;&#x0449;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12057r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">vector</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12058r49"></a><span 
class="larm-0500">49</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x0430;&#x044F;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12059r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">bool</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12060r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12061r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12062r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12063r54"></a><span 
class="larm-0500">54</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12064r55"></a><span 
class="larm-0500">55</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">setConfig</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Configuration</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12065r56"></a><span 
class="larm-0500">56</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12066r57"></a><span 
class="larm-0500">57</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">parametr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">istream</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12067r58"></a><span 
class="larm-0500">58</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0438;&#x0440;&#x0443;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x0439;&#x043C;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12068r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAndStartWaitableTimer</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">unsigned</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">secondsCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12069r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12070r61"></a><span 
class="larm-0500">61</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12071r62"></a><span 
class="larm-0500">62</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAllThreads</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Configuration</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12072r63"></a><span 
class="larm-0500">63</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12073r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadReaderExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12074r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12075r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadTimeManagerExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12076r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12077r68"></a><span 
class="larm-0500">68</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[])</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12078r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0437;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12079r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">configFilename</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12080r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">configFilename</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">?</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CONFIG_PATH</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12081r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">setConfig</span><span 
class="lass-0900">(</span><span 
class="lass-0900">configFilename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12082r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12083r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12084r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAllThreads</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12085r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12086r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12087r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">isFull</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12088r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12089r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12090r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12091r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">new</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">[</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12092r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12093r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0430;&#x0440;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12094r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12095r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ResumeThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">current</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12096r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12097r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12098r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForMultipleObjects</span><span 
class="lass-0900">(</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">.</span><span 
class="lass-0900">size</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;(</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">[0])</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TRUE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12099r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12100r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12101r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12102r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">current</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12103r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12104r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12105r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12106r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12107r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Press</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">Enter</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12108r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getchar</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12109r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12110r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12111r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12112r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12113r104"></a><span 
class="larm-0500">104</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">parametr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">istream</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12114r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12115r106"></a><span 
class="larm-0500">106</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12116r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">line</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12117r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12118r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">.</span><span 
class="lass-0900">eof</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12119r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">throw</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">exception</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12120r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12121r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getline</span><span 
class="lass-0900">(</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">line</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12122r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">parametr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">stoi</span><span 
class="lass-0900">(</span><span 
class="lass-0900">line</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12123r114"></a><span 
class="larm-0500">114</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12124r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12125r116"></a><span 
class="larm-0500">116</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">setConfig</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">configFilename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Configuration</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lass-0900">&#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12126r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12127r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12128r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">ifstream</span><span 
class="lass-0900">(</span><span 
class="lass-0900">configFilename</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12129r120"></a><span 
class="larm-0500">120</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">.</span><span 
class="lass-0900">is_open</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12130r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12131r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12132r123"></a><span 
class="larm-0500">123</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12133r124"></a><span 
class="larm-0500">124</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12134r125"></a><span 
class="larm-0500">125</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12135r126"></a><span 
class="larm-0500">126</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">line</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12136r127"></a><span 
class="larm-0500">127</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12137r128"></a><span 
class="larm-0500">128</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12138r129"></a><span 
class="larm-0500">129</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12139r130"></a><span 
class="larm-0500">130</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12140r131"></a><span 
class="larm-0500">131</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12141r132"></a><span 
class="larm-0500">132</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12142r133"></a><span 
class="larm-0500">133</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12143r134"></a><span 
class="larm-0500">134</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12144r135"></a><span 
class="larm-0500">135</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">catch</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">exception</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exception</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12145r136"></a><span 
class="larm-0500">136</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">parse</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12146r137"></a><span 
class="larm-0500">137</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">.</span><span 
class="lass-0900">close</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12147r138"></a><span 
class="larm-0500">138</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12148r139"></a><span 
class="larm-0500">139</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12149r140"></a><span 
class="larm-0500">140</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12150r141"></a><span 
class="larm-0500">141</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x043E;&#x0432;&#x0435;&#x0440;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0441;&#x0442;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x043D;&#x044B;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12151r142"></a><span 
class="larm-0500">142</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12152r143"></a><span 
class="larm-0500">143</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12153r144"></a><span 
class="larm-0500">144</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12154r145"></a><span 
class="larm-0500">145</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12155r146"></a><span 
class="larm-0500">146</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12156r147"></a><span 
class="larm-0500">147</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Wrong</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">values</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12157r148"></a><span 
class="larm-0500">148</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">.</span><span 
class="lass-0900">close</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12158r149"></a><span 
class="larm-0500">149</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12159r150"></a><span 
class="larm-0500">150</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12160r151"></a><span 
class="larm-0500">151</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12161r152"></a><span 
class="larm-0500">152</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">.</span><span 
class="lass-0900">close</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12162r153"></a><span 
class="larm-0500">153</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12163r154"></a><span 
class="larm-0500">154</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12164r155"></a><span 
class="larm-0500">155</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Readers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">count</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12165r156"></a><span 
class="larm-0500">156</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Readers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delay</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12166r157"></a><span 
class="larm-0500">157</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">count</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12167r158"></a><span 
class="larm-0500">158</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delay</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12168r159"></a><span 
class="larm-0500">159</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Queue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">size</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12169r160"></a><span 
class="larm-0500">160</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">live</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12170r161"></a><span 
class="larm-0500">161</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12171r162"></a><span 
class="larm-0500">162</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12172r163"></a><span 
class="larm-0500">163</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAllThreads</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Configuration</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12173r164"></a><span 
class="larm-0500">164</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12174r165"></a><span 
class="larm-0500">165</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">readerIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12175r166"></a><span 
class="larm-0500">166</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadReaderExecutor</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readerIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CREATE_SUSPENDED</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12176r167"></a><span 
class="larm-0500">167</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12177r168"></a><span 
class="larm-0500">168</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12178r169"></a><span 
class="larm-0500">169</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12179r170"></a><span 
class="larm-0500">170</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12180r171"></a><span 
class="larm-0500">171</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12181r172"></a><span 
class="larm-0500">172</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">.</span><span 
class="lass-0900">push_back</span><span 
class="lass-0900">(</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12182r173"></a><span 
class="larm-0500">173</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12183r174"></a><span 
class="larm-0500">174</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12184r175"></a><span 
class="larm-0500">175</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Readers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">have</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12185r176"></a><span 
class="larm-0500">176</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12186r177"></a><span 
class="larm-0500">177</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12187r178"></a><span 
class="larm-0500">178</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12188r179"></a><span 
class="larm-0500">179</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">writerIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12189r180"></a><span 
class="larm-0500">180</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writerIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CREATE_SUSPENDED</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12190r181"></a><span 
class="larm-0500">181</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12191r182"></a><span 
class="larm-0500">182</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12192r183"></a><span 
class="larm-0500">183</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x5</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12193r184"></a><span 
class="larm-0500">184</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12194r185"></a><span 
class="larm-0500">185</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12195r186"></a><span 
class="larm-0500">186</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">.</span><span 
class="lass-0900">push_back</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12196r187"></a><span 
class="larm-0500">187</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12197r188"></a><span 
class="larm-0500">188</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12198r189"></a><span 
class="larm-0500">189</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">have</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12199r190"></a><span 
class="larm-0500">190</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12200r191"></a><span 
class="larm-0500">191</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12201r192"></a><span 
class="larm-0500">192</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12202r193"></a><span 
class="larm-0500">193</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timeManager</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadTimeManagerExecutor</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CREATE_SUSPENDED</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12203r194"></a><span 
class="larm-0500">194</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">timeManager</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12204r195"></a><span 
class="larm-0500">195</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">manager</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12205r196"></a><span 
class="larm-0500">196</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x6</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12206r197"></a><span 
class="larm-0500">197</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12207r198"></a><span 
class="larm-0500">198</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12208r199"></a><span 
class="larm-0500">199</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">.</span><span 
class="lass-0900">push_back</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timeManager</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12209r200"></a><span 
class="larm-0500">200</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12210r201"></a><span 
class="larm-0500">201</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">manager</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12211r202"></a><span 
class="larm-0500">202</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12212r203"></a><span 
class="larm-0500">203</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12213r204"></a><span 
class="larm-0500">204</span></span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAndStartWaitableTimer</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">unsigned</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">secondsCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x0439;&#x043C;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12214r205"></a><span 
class="larm-0500">205</span></span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12215r206"></a><span 
class="larm-0500">206</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0412;&#x044B;&#x0447;&#x0438;&#x0441;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0445;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x0439;&#x043C;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12216r207"></a><span 
class="larm-0500">207</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__int64</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">endTimeValue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TIMER_CONSTANT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">secondsCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12217r208"></a><span 
class="larm-0500">208</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LARGE_INTEGER</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">endTimeStruct</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12218r209"></a><span 
class="larm-0500">209</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">endTimeStruct</span><span 
class="lass-0900">.</span><span 
class="lass-0900">LowPart</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">(</span><span 
class="lass-0900">endTimeValue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">xFFFFFFFF</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12219r210"></a><span 
class="larm-0500">210</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">endTimeStruct</span><span 
class="lass-0900">.</span><span 
class="lass-0900">HighPart</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LONG</span><span 
class="lass-0900">(</span><span 
class="lass-0900">endTimeValue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x20</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12220r211"></a><span 
class="larm-0500">211</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12221r212"></a><span 
class="larm-0500">212</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x0439;&#x043C;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12222r213"></a><span 
class="larm-0500">213</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateWaitableTimer</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12223r214"></a><span 
class="larm-0500">214</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetWaitableTimer</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">endTimeStruct</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12224r215"></a><span 
class="larm-0500">215</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12225r216"></a><span 
class="larm-0500">216</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12226r217"></a><span 
class="larm-0500">217</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12227r218"></a><span 
class="larm-0500">218</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadTimeManagerExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12228r219"></a><span 
class="larm-0500">219</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12229r220"></a><span 
class="larm-0500">220</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12230r221"></a><span 
class="larm-0500">221</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12231r222"></a><span 
class="larm-0500">222</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0415;&#x0441;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0440;&#x0435;&#x043C;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0436;&#x0438;&#x0437;&#x043D;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x0440;&#x0438;&#x0446;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0432;&#x0435;&#x0434;&#x0435;&#x043D;&#x043D;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12232r223"></a><span 
class="larm-0500">223</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12233r224"></a><span 
class="larm-0500">224</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12234r225"></a><span 
class="larm-0500">225</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">clear</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12235r226"></a><span 
class="larm-0500">226</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getline</span><span 
class="lass-0900">(</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cin</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12236r227"></a><span 
class="larm-0500">227</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12237r228"></a><span 
class="larm-0500">228</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_MESSAGE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12238r229"></a><span 
class="larm-0500">229</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12239r230"></a><span 
class="larm-0500">230</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12240r231"></a><span 
class="larm-0500">231</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12241r232"></a><span 
class="larm-0500">232</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12242r233"></a><span 
class="larm-0500">233</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0415;&#x0441;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0440;&#x0435;&#x043C;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0436;&#x0438;&#x0437;&#x043D;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043B;&#x043E;&#x0436;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x0439;&#x043C;&#x0435;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12243r234"></a><span 
class="larm-0500">234</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12244r235"></a><span 
class="larm-0500">235</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAndStartWaitableTimer</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12245r236"></a><span 
class="larm-0500">236</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12246r237"></a><span 
class="larm-0500">237</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12247r238"></a><span 
class="larm-0500">238</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12248r239"></a><span 
class="larm-0500">239</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12249r240"></a><span 
class="larm-0500">240</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12250r241"></a><span 
class="larm-0500">241</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">manager</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12251r242"></a><span 
class="larm-0500">242</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12252r243"></a><span 
class="larm-0500">243</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12253r244"></a><span 
class="larm-0500">244</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12254r245"></a><span 
class="larm-0500">245</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadReaderExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12255r246"></a><span 
class="larm-0500">246</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12256r247"></a><span 
class="larm-0500">247</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12257r248"></a><span 
class="larm-0500">248</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">isFull</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12258r249"></a><span 
class="larm-0500">249</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0415;&#x0441;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0435;&#x0441;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12259r250"></a><span 
class="larm-0500">250</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Get</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">data</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">position</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">[</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">],</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12260r251"></a><span 
class="larm-0500">251</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12261r252"></a><span 
class="larm-0500">252</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0411;&#x0435;&#x0440;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12262r253"></a><span 
class="larm-0500">253</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">[]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">[</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12263r254"></a><span 
class="larm-0500">254</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">[</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12264r255"></a><span 
class="larm-0500">255</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">isFull</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12265r256"></a><span 
class="larm-0500">256</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12266r257"></a><span 
class="larm-0500">257</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Queue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">size</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12267r258"></a><span 
class="larm-0500">258</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Queue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">write</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12268r259"></a><span 
class="larm-0500">259</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12269r260"></a><span 
class="larm-0500">260</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getchar</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12270r261"></a><span 
class="larm-0500">261</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12271r262"></a><span 
class="larm-0500">262</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0412;&#x044B;&#x0447;&#x0438;&#x0441;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043D;&#x0434;&#x0435;&#x043A;&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12272r263"></a><span 
class="larm-0500">263</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12273r264"></a><span 
class="larm-0500">264</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12274r265"></a><span 
class="larm-0500">265</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12275r266"></a><span 
class="larm-0500">266</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12276r267"></a><span 
class="larm-0500">267</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12277r268"></a><span 
class="larm-0500">268</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12278r269"></a><span 
class="larm-0500">269</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12279r270"></a><span 
class="larm-0500">270</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12280r271"></a><span 
class="larm-0500">271</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12281r272"></a><span 
class="larm-0500">272</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12282r273"></a><span 
class="larm-0500">273</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12283r274"></a><span 
class="larm-0500">274</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12284r275"></a><span 
class="larm-0500">275</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12285r276"></a><span 
class="larm-0500">276</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messageIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12286r277"></a><span 
class="larm-0500">277</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12287r278"></a><span 
class="larm-0500">278</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12288r279"></a><span 
class="larm-0500">279</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">isFull</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12289r280"></a><span 
class="larm-0500">280</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0415;&#x0441;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12290r281"></a><span 
class="larm-0500">281</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12291r282"></a><span 
class="larm-0500">282</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x0438;&#x0441;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12292r283"></a><span 
class="larm-0500">283</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">to_string</span><span 
class="lass-0900">(</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">to_string</span><span 
class="lass-0900">(</span><span 
class="lass-0900">messageIndex</span><span 
class="lass-0900">++)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12293r284"></a><span 
class="larm-0500">284</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">[</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">_strdup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12294r285"></a><span 
class="larm-0500">285</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12295r286"></a><span 
class="larm-0500">286</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Put</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">data</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">position</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">[</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">],</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12296r287"></a><span 
class="larm-0500">287</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12297r288"></a><span 
class="larm-0500">288</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0412;&#x044B;&#x0447;&#x0438;&#x0441;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043D;&#x0434;&#x0435;&#x043A;&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12298r289"></a><span 
class="larm-0500">289</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12299r290"></a><span 
class="larm-0500">290</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x043B;&#x0430;&#x0433;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x043D;&#x043E;&#x0441;&#x0442;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12300r291"></a><span 
class="larm-0500">291</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">isFull</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12301r292"></a><span 
class="larm-0500">292</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12302r293"></a><span 
class="larm-0500">293</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12303r294"></a><span 
class="larm-0500">294</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12304r295"></a><span 
class="larm-0500">295</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12305r296"></a><span 
class="larm-0500">296</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12306r297"></a><span 
class="larm-0500">297</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12307r298"></a><span 
class="larm-0500">298</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12308r299"></a><span 
class="larm-0500">299</span></span><span 
class="lass-0900">}</span>
   </div>
                                                                                               
                                                                                               
<!--l. 191--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;:
<!--l. 193--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-123092"></a>
                                                                                               
                                                                                               
<!--l. 195--><p class="noindent" ><img 
src="../images/p1_1.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.2: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-123092 -->
                                                                                               
                                                                                               
<!--l. 199--><p class="indent" >   </div><hr class="endfigure">
<!--l. 201--><p class="indent" >   &#x041C;&#x043E;&#x0436;&#x043D;&#x043E; &#x0437;&#x0430;&#x043C;&#x0435;&#x0442;&#x0438;&#x0442;&#x044C;, &#x0447;&#x0442;&#x043E; &#x0440;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0438;&#x0440;&#x0443;&#x044E;&#x0449;&#x0438;&#x0435; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043D;&#x0435; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;: &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435; &#x043F;&#x043E;&#x044F;&#x0432;&#x043B;&#x044F;&#x044E;&#x0442;&#x0441;&#x044F; &#x0432;&#x0440;&#x0430;&#x0437;&#x043D;&#x043E;&#x0431;&#x043E;&#x0439; &#x0438;
&#x043F;&#x0440;&#x043E;&#x0441;&#x043A;&#x0430;&#x043A;&#x0438;&#x0432;&#x0430;&#x044E;&#x0442; &#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F; (null). &#x0414;&#x0430;&#x043B;&#x0435;&#x0435;, &#x043F;&#x0440;&#x0438; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x0438; &#x0440;&#x0430;&#x0437;&#x043B;&#x0438;&#x0447;&#x043D;&#x044B;&#x0445; &#x043C;&#x0435;&#x0442;&#x043E;&#x0434;&#x043E;&#x0432; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x043C;&#x044B; &#x043F;&#x043E;&#x0441;&#x0442;&#x0430;&#x0440;&#x0430;&#x0435;&#x043C;&#x0441;&#x044F; &#x0438;&#x0437;&#x0431;&#x0435;&#x0436;&#x0430;&#x0442;&#x044C;
&#x044D;&#x0442;&#x043E;&#x0439; &#x0441;&#x0438;&#x0442;&#x0443;&#x0430;&#x0446;&#x0438;&#x0438;.
<h5 class="subsubsectionHead"><a 
 id="x1-130001"></a>2. &#x0421;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; &#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x0430;&#x043C;&#x0438;</h5>
<!--l. 205--><p class="noindent" >&#x041C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x044B; &#x0433;&#x0430;&#x0440;&#x0430;&#x043D;&#x0442;&#x0438;&#x0440;&#x0443;&#x044E;&#x0442; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;&#x043C; &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0438;&#x0441;&#x043A;&#x043B;&#x044E;&#x0447;&#x0430;&#x044E;&#x0449;&#x0438;&#x0439; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F; &#x043A; &#x0435;&#x0434;&#x0438;&#x043D;&#x0441;&#x0442;&#x0432;&#x0435;&#x043D;&#x043D;&#x043E;&#x043C;&#x0443; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x0443;. &#x041E;&#x043D;&#x0438; &#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0430;&#x0442;
&#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A; &#x0447;&#x0438;&#x0441;&#x043B;&#x0430; &#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;, &#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A; &#x0440;&#x0435;&#x043A;&#x0443;&#x0440;&#x0441;&#x0438;&#x0438; &#x0438; &#x043F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x0443;&#x044E;, &#x0432; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x0439; &#x0437;&#x0430;&#x043F;&#x043E;&#x043C;&#x0438;&#x043D;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440;
&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;.
<!--l. 207--><p class="indent" >   &#x041C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x044B; &#x0432;&#x0435;&#x0434;&#x0443;&#x0442; &#x0441;&#x0435;&#x0431;&#x044F; &#x0442;&#x043E;&#x0447;&#x043D;&#x043E; &#x0442;&#x0430;&#x043A; &#x0436;&#x0435;, &#x043A;&#x0430;&#x043A; &#x0438; &#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0438;&#x0435; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438;. &#x041E;&#x0434;&#x043D;&#x0430;&#x043A;&#x043E;, &#x0435;&#x0441;&#x043B;&#x0438; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435;&#x0434;&#x043D;&#x0438;&#x0435; &#x044F;&#x0432;&#x043B;&#x044F;&#x044E;&#x0442;&#x0441;&#x044F; &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;&#x043C;&#x0438;
&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;&#x0441;&#x043A;&#x043E;&#x0433;&#x043E; &#x0440;&#x0435;&#x0436;&#x0438;&#x043C;&#x0430;, &#x0442;&#x043E; &#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x044B; &#x044F;&#x0432;&#x043B;&#x044F;&#x044E;&#x0442;&#x0441;&#x044F; &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;&#x043C;&#x0438; &#x044F;&#x0434;&#x0440;&#x0430;. &#x041A;&#x0440;&#x043E;&#x043C;&#x0435; &#x0442;&#x043E;&#x0433;&#x043E;, &#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x044B; &#x043F;&#x043E;&#x0437;&#x0432;&#x043E;&#x043B;&#x044F;&#x044E;&#x0442;
&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F; &#x043A; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x0443; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x0438;&#x0445; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432; &#x0438;&#x0437; &#x0440;&#x0430;&#x0437;&#x043D;&#x044B;&#x0445; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432;. &#x041F;&#x0440;&#x0438; &#x044D;&#x0442;&#x043E;&#x043C; &#x043C;&#x043E;&#x0436;&#x043D;&#x043E; &#x0437;&#x0430;&#x0434;&#x0430;&#x0442;&#x044C; &#x043C;&#x0430;&#x043A;&#x0441;&#x0438;&#x043C;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0435;
&#x0432;&#x0440;&#x0435;&#x043C;&#x044F; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0430; &#x043A; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x0443;.
<!--l. 209--><p class="indent" >   &#x0418;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430; &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x0442;, &#x043A;&#x0430;&#x043A;&#x043E;&#x0439; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A; &#x0437;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442;&#x0438;&#x043B; &#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;, &#x0430; &#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A; &#x0440;&#x0435;&#x043A;&#x0443;&#x0440;&#x0441;&#x0438;&#x0439; &#8212; &#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x0440;&#x0430;&#x0437;. &#x0423;
&#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x043E;&#x0432; &#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x0435;&#x043D;&#x0438;&#x0439;, &#x0438; &#x044D;&#x0442;&#x043E; &#x043D;&#x0430;&#x0438;&#x0431;&#x043E;&#x043B;&#x0435;&#x0435; &#x0447;&#x0430;&#x0441;&#x0442;&#x043E; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x043C;&#x044B;&#x0435; &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x044B; &#x044F;&#x0434;&#x0440;&#x0430;. &#x041A;&#x0430;&#x043A; &#x043F;&#x0440;&#x0430;&#x0432;&#x0438;&#x043B;&#x043E;, &#x0441; &#x0438;&#x0445; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E;
&#x0437;&#x0430;&#x0449;&#x0438;&#x0449;&#x0430;&#x044E;&#x0442; &#x0431;&#x043B;&#x043E;&#x043A; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438;, &#x043A; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x043C;&#x0443; &#x043E;&#x0431;&#x0440;&#x0430;&#x0449;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x043C;&#x043D;&#x043E;&#x0436;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;.
<!--l. 211--><p class="indent" >   &#x041C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0441;&#x043B;&#x0435;&#x0434;&#x0443;&#x044E;&#x0449;&#x0435;&#x0439; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439;:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-1">
HANDLE&#x00A0;WINAPI&#x00A0;CreateMutex(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;LPSECURITY_ATTRIBUTES&#x00A0;&#x00A0;lpMutexAttributes,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;BOOL&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;bInitialOwner,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;lpName
&#x00A0;<br />);
</div>
<!--l. 219--><p class="nopar" >
<!--l. 221--><p class="indent" >   &#x0414;&#x043B;&#x044F; &#x043E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x044F; &#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x0430; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-2">
HANDLE&#x00A0;WINAPI&#x00A0;OpenMutex(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;dwDesiredAccess,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;BOOL&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;bInheritHandle,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;lpName
&#x00A0;<br />);
</div>
<!--l. 229--><p class="nopar" >
<!--l. 231--><p class="indent" >   &#x0414;&#x043B;&#x044F; &#x0437;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442;&#x0430; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x0430; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044E;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; &#x0441;&#x0435;&#x043C;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0430; Wait: WaitForSingleObject, WaitForMultipleObjects &#x0438;
&#x0434;&#x0440;.
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-3">
DWORD&#x00A0;WINAPI&#x00A0;WaitForSingleObject(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;HANDLE&#x00A0;&#x00A0;hHandle,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;dwMilliseconds
&#x00A0;<br />);
</div>
<!--l. 238--><p class="nopar" >
<!--l. 240--><p class="indent" >   &#x0414;&#x043B;&#x044F; &#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x043E;&#x0432; &#x0441;&#x0434;&#x0435;&#x043B;&#x0430;&#x043D;&#x043E; &#x043E;&#x0434;&#x043D;&#x043E; &#x0438;&#x0441;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435; &#x0432; &#x043F;&#x0440;&#x0430;&#x0432;&#x0438;&#x043B;&#x0430;&#x0445; &#x043F;&#x0435;&#x0440;&#x0435;&#x0445;&#x043E;&#x0434;&#x0430; &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x043E;&#x0432; &#x044F;&#x0434;&#x0440;&#x0430; &#x0438;&#x0437; &#x043E;&#x0434;&#x043D;&#x043E;&#x0433;&#x043E; &#x0441;&#x043E;&#x0441;&#x0442;&#x043E;&#x044F;&#x043D;&#x0438;&#x044F; &#x0432; &#x0434;&#x0440;&#x0443;&#x0433;&#x043E;&#x0435;.
&#x0414;&#x043E;&#x043F;&#x0443;&#x0441;&#x0442;&#x0438;&#x043C;, &#x043F;&#x043E;&#x0442;&#x043E;&#x043A; &#x0436;&#x0434;&#x0435;&#x0442; &#x043E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x044F; &#x0437;&#x0430;&#x043D;&#x044F;&#x0442;&#x043E;&#x0433;&#x043E; &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430; &#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x0430;. &#x0412; &#x044D;&#x0442;&#x043E;&#x043C; &#x0441;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A; &#x043E;&#x0431;&#x044B;&#x0447;&#x043D;&#x043E; &#x0437;&#x0430;&#x0441;&#x044B;&#x043F;&#x0430;&#x0435;&#x0442; (&#x043F;&#x0435;&#x0440;&#x0435;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442;
&#x0432; &#x0441;&#x043E;&#x0441;&#x0442;&#x043E;&#x044F;&#x043D;&#x0438;&#x0435; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F;). &#x041E;&#x0434;&#x043D;&#x0430;&#x043A;&#x043E; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0430; &#x043F;&#x0440;&#x043E;&#x0432;&#x0435;&#x0440;&#x044F;&#x0435;&#x0442;, &#x043D;&#x0435; &#x0441;&#x043E;&#x0432;&#x043F;&#x0430;&#x0434;&#x0430;&#x0435;&#x0442; &#x043B;&#x0438; &#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;, &#x043F;&#x044B;&#x0442;&#x0430;&#x044E;&#x0449;&#x0435;&#x0433;&#x043E;&#x0441;&#x044F; &#x0437;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442;&#x0438;&#x0442;&#x044C;
&#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;, &#x0441; &#x0430;&#x043D;&#x0430;&#x043B;&#x043E;&#x0433;&#x0438;&#x0447;&#x043D;&#x044B;&#x043C; &#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440;&#x043E;&#x043C; &#x0443; &#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x0430;. &#x0415;&#x0441;&#x043B;&#x0438; &#x043E;&#x043D;&#x0438; &#x0441;&#x043E;&#x0432;&#x043F;&#x0430;&#x0434;&#x0430;&#x044E;&#x0442;, &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0430; &#x043F;&#x043E;-&#x043F;&#x0440;&#x0435;&#x0436;&#x043D;&#x0435;&#x043C;&#x0443; &#x0432;&#x044B;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x0442; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0443;
&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0440;&#x043D;&#x043E;&#x0435; &#x0432;&#x0440;&#x0435;&#x043C;&#x044F;, &#x0445;&#x043E;&#x0442;&#x044F; &#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441; &#x0432;&#x0441;&#x0435; &#x0435;&#x0449;&#x0435; &#x0437;&#x0430;&#x043D;&#x044F;&#x0442;.
<!--l. 242--><p class="indent" >   &#x041C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441; &#x043E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439; ReleaseMutex:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-4">
BOOL&#x00A0;WINAPI&#x00A0;ReleaseMutex(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;HANDLE&#x00A0;hMutex
&#x00A0;<br />);
</div>
<!--l. 248--><p class="nopar" >
<!--l. 250--><p class="indent" >   &#x042D;&#x0442;&#x0430; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; &#x0443;&#x043C;&#x0435;&#x043D;&#x044C;&#x0448;&#x0430;&#x0435;&#x0442; &#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A; &#x0440;&#x0435;&#x043A;&#x0443;&#x0440;&#x0441;&#x0438;&#x0438; &#x0432; &#x043C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x0435; &#x043D;&#x0430; 1. &#x0415;&#x0441;&#x043B;&#x0438; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439; &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0432;&#x0430;&#x043B;&#x0441;&#x044F; &#x0432;&#x043E; &#x0432;&#x043B;&#x0430;&#x0434;&#x0435;&#x043D;&#x0438;&#x0435; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0443;
&#x043D;&#x0435;&#x043E;&#x0434;&#x043D;&#x043E;&#x043A;&#x0440;&#x0430;&#x0442;&#x043D;&#x043E;, &#x043F;&#x043E;&#x0442;&#x043E;&#x043A; &#x043E;&#x0431;&#x044F;&#x0437;&#x0430;&#x043D; &#x0432;&#x044B;&#x0437;&#x0432;&#x0430;&#x0442;&#x044C; ReleaseMutex &#x0441;&#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x0440;&#x0430;&#x0437;, &#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x043E; &#x0434;&#x043B;&#x044F; &#x043E;&#x0431;&#x043D;&#x0443;&#x043B;&#x0435;&#x043D;&#x0438;&#x044F; &#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430;
&#x0440;&#x0435;&#x043A;&#x0443;&#x0440;&#x0441;&#x0438;&#x0438;. &#x041A;&#x0430;&#x043A; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A; &#x0441;&#x0442;&#x0430;&#x043D;&#x0435;&#x0442; &#x0440;&#x0430;&#x0432;&#x0435;&#x043D; 0, &#x043F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x0430;&#x044F;, &#x0445;&#x0440;&#x0430;&#x043D;&#x044F;&#x0449;&#x0430;&#x044F; &#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;, &#x0442;&#x043E;&#x0436;&#x0435; &#x043E;&#x0431;&#x043D;&#x0443;&#x043B;&#x0438;&#x0442;&#x0441;&#x044F;, &#x0438;
&#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441; &#x043E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F;.
<!--l. 252--><p class="indent" >   &#x0418;&#x0437;&#x043C;&#x0435;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; &#x0432; &#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x043D;&#x043E;&#x0439; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0435;, &#x0434;&#x043B;&#x044F; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x0430;&#x043C;&#x0438;:
   <!--l. 254--><div class="lstinputlisting">
<a 
 id="x1-13001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0413;&#x043B;&#x043E;&#x0431;&#x0430;&#x043B;&#x044C;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[])</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateMutex</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FALSE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x7</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadReaderExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">isFull</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ReleaseMutex</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">isFull</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ReleaseMutex</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 256--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x0430;&#x043C;&#x0438; &#x043F;&#x0440;&#x0438; &#x0440;&#x0430;&#x0437;&#x043B;&#x0438;&#x0447;&#x043D;&#x044B;&#x0445; &#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x044B;&#x0445;
&#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x0430;&#x0445;:
<!--l. 258--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-130703"></a>
                                                                                               
                                                                                               
<!--l. 260--><p class="noindent" ><img 
src="../images/p1_2_1.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.3: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-130703 -->
                                                                                               
                                                                                               
<!--l. 264--><p class="indent" >   </div><hr class="endfigure">
<!--l. 266--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-130714"></a>
                                                                                               
                                                                                               
<!--l. 268--><p class="noindent" ><img 
src="../images/p1_2_2.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.4: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-130714 -->
                                                                                               
                                                                                               
<!--l. 272--><p class="indent" >   </div><hr class="endfigure">
<h5 class="subsubsectionHead"><a 
 id="x1-140001"></a>3. &#x0421;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x0430;&#x043C;&#x0438;</h5>
<!--l. 276--><p class="noindent" >&#x0421;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x044B; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044E;&#x0442;&#x0441;&#x044F; &#x0434;&#x043B;&#x044F; &#x0443;&#x0447;&#x0435;&#x0442;&#x0430; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x043E;&#x0432;. &#x041A;&#x0430;&#x043A; &#x0438; &#x0432;&#x0441;&#x0435; &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x044B; &#x044F;&#x0434;&#x0440;&#x0430;, &#x043E;&#x043D;&#x0438; &#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0430;&#x0442; &#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A; &#x0447;&#x0438;&#x0441;&#x043B;&#x0430;
&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;, &#x043D;&#x043E;, &#x043A;&#x0440;&#x043E;&#x043C;&#x0435; &#x0442;&#x043E;&#x0433;&#x043E;, &#x043F;&#x043E;&#x0434;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x0432;&#x0430;&#x044E;&#x0442; &#x0434;&#x0432;&#x0430; 32 &#x0431;&#x0438;&#x0442;&#x043D;&#x044B;&#x0445; &#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F; &#x0441;&#x043E; &#x0437;&#x043D;&#x0430;&#x043A;&#x043E;&#x043C;: &#x043E;&#x0434;&#x043D;&#x043E; &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x0442;
&#x043C;&#x0430;&#x043A;&#x0441;&#x0438;&#x043C;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0435; &#x0447;&#x0438;&#x0441;&#x043B;&#x043E; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x043E;&#x0432; (&#x043A;&#x043E;&#x043D;&#x0442;&#x0440;&#x043E;&#x043B;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C;&#x043E;&#x0435; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x043E;&#x043C;), &#x0434;&#x0440;&#x0443;&#x0433;&#x043E;&#x0435; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; &#x043A;&#x0430;&#x043A; &#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A; &#x0442;&#x0435;&#x043A;&#x0443;&#x0449;&#x0435;&#x0433;&#x043E; &#x0447;&#x0438;&#x0441;&#x043B;&#x0430;
&#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x043E;&#x0432;.
<!--l. 278--><p class="indent" >   &#x0421;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x043E;&#x043C; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; CreateSemaphore:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-5">
HANDLE&#x00A0;WINAPI&#x00A0;CreateSemaphore(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;LPSECURITY_ATTRIBUTES&#x00A0;&#x00A0;lpSemaphoreAttributes,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;LONG&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;lInitialCount,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;LONG&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;lMaximumCount,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;lpName
&#x00A0;<br />);
</div>
<!--l. 287--><p class="nopar" >
<!--l. 289--><p class="indent" >   &#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0438;&#x0442;&#x044C; &#x0441;&#x0443;&#x0449;&#x0435;&#x0441;&#x0442;&#x0432;&#x0443;&#x044E;&#x0449;&#x0438;&#x0439; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440; &#x043C;&#x043E;&#x0436;&#x043D;&#x043E; &#x0441; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; OpenSemaphore:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-6">
HANDLE&#x00A0;WINAPI&#x00A0;OpenSemaphore(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;dwDesiredAccess,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;BOOL&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;bInheritHandle,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;lpName
&#x00A0;<br />);
</div>
<!--l. 297--><p class="nopar" >
<!--l. 299--><p class="indent" >   &#x0414;&#x043B;&#x044F; &#x0437;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442;&#x0430; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x0430; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044E;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; &#x0441;&#x0435;&#x043C;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0430; Wait: WaitForSingleObject, WaitForMultipleObjects &#x0438;
&#x0434;&#x0440;.
<!--l. 301--><p class="indent" >   &#x0421;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440; &#x043E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439; ReleaseSemaphore:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-7">
BOOL&#x00A0;WINAPI&#x00A0;ReleaseSemaphore(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;HANDLE&#x00A0;&#x00A0;hSemaphore,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;LONG&#x00A0;&#x00A0;&#x00A0;&#x00A0;lReleaseCount,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_Out_opt_&#x00A0;&#x00A0;LPLONG&#x00A0;&#x00A0;lpPreviousCount
&#x00A0;<br />);
</div>
<!--l. 309--><p class="nopar" >
<!--l. 311--><p class="indent" >   &#x0418;&#x0437;&#x043C;&#x0435;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; &#x0432; &#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x043D;&#x043E;&#x0439; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0435;, &#x0434;&#x043B;&#x044F; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x0430;&#x043C;&#x0438;:
   <!--l. 313--><div class="lstinputlisting">
<a 
 id="x1-14001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0413;&#x043B;&#x043E;&#x0431;&#x0430;&#x043B;&#x044C;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[])</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateSemaphore</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x7</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadReaderExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">isFull</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ReleaseSemaphore</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">isFull</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ReleaseSemaphore</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">}</span>
   </div>
                                                                                               
                                                                                               
<!--l. 317--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x0430;&#x043C;&#x0438; &#x043F;&#x0440;&#x0438; &#x0440;&#x0430;&#x0437;&#x043B;&#x0438;&#x0447;&#x043D;&#x044B;&#x0445; &#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x044B;&#x0445;
&#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x0430;&#x0445;:
<!--l. 319--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-140705"></a>
                                                                                               
                                                                                               
<!--l. 321--><p class="noindent" ><img 
src="../images/p1_3_1.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.5: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-140705 -->
                                                                                               
                                                                                               
<!--l. 325--><p class="indent" >   </div><hr class="endfigure">
<!--l. 327--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-140716"></a>
                                                                                               
                                                                                               
<!--l. 329--><p class="noindent" ><img 
src="../images/p1_3_2.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.6: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-140716 -->
                                                                                               
                                                                                               
<!--l. 333--><p class="indent" >   </div><hr class="endfigure">
<h5 class="subsubsectionHead"><a 
 id="x1-150001"></a>4. &#x0421;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; &#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0438;&#x043C;&#x0438; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x044F;&#x043C;&#x0438;</h5>
<!--l. 338--><p class="noindent" >&#x041A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0430;&#x044F; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x044F; &#8212; &#x043D;&#x0435;&#x0431;&#x043E;&#x043B;&#x044C;&#x0448;&#x043E;&#x0439; &#x0443;&#x0447;&#x0430;&#x0441;&#x0442;&#x043E;&#x043A; &#x043A;&#x043E;&#x0434;&#x0430;, &#x0442;&#x0440;&#x0435;&#x0431;&#x0443;&#x044E;&#x0449;&#x0438;&#x0439; &#x043C;&#x043E;&#x043D;&#x043E;&#x043F;&#x043E;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0430; &#x043A; &#x043A;&#x0430;&#x043A;&#x0438;&#x043C;-&#x0442;&#x043E; &#x043E;&#x0431;&#x0449;&#x0438;&#x043C; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x043C;. &#x041E;&#x043D;&#x0430;
&#x043F;&#x043E;&#x0437;&#x0432;&#x043E;&#x043B;&#x044F;&#x0435;&#x0442; &#x0441;&#x0434;&#x0435;&#x043B;&#x0430;&#x0442;&#x044C; &#x0442;&#x0430;&#x043A;, &#x0447;&#x0442;&#x043E;&#x0431;&#x044B; &#x0435;&#x0434;&#x0438;&#x043D;&#x043E;&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x043E;&#x0434;&#x0438;&#x043D; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x043B; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F; &#x043A; &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043D;&#x043E;&#x043C;&#x0443;
&#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x0443;.
<!--l. 340--><p class="indent" >   &#x0412;&#x0430;&#x0436;&#x043D;&#x043E;&#x0435; &#x043F;&#x0440;&#x0435;&#x0438;&#x043C;&#x0443;&#x0449;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E; &#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x043E;&#x0439; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434; &#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x0430;&#x043C;&#x0438; &#x0438; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x0430;&#x043C;&#x0438; &#x0437;&#x0430;&#x043A;&#x043B;&#x044E;&#x0447;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432; &#x0442;&#x043E;&#x043C;, &#x0447;&#x0442;&#x043E; &#x043E;&#x043D;&#x0430;
&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x0435;&#x0442; &#x043D;&#x0430;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0431;&#x044B;&#x0441;&#x0442;&#x0440;&#x0435;&#x0435;, &#x0432;&#x0432;&#x0438;&#x0434;&#x0443; &#x0442;&#x043E;&#x0433;&#x043E; &#x0447;&#x0442;&#x043E; &#x043D;&#x0435; &#x044F;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x043E;&#x043C; &#x044F;&#x0434;&#x0440;&#x0430;.
<!--l. 342--><p class="indent" >   &#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; &#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x043E;&#x0439; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439;
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-8">
void&#x00A0;WINAPI&#x00A0;InitializeCriticalSection(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_Out_&#x00A0;&#x00A0;LPCRITICAL_SECTION&#x00A0;&#x00A0;lpCriticalSection
&#x00A0;<br />);
</div>
<!--l. 348--><p class="nopar" >
<!--l. 350--><p class="indent" >   &#x0417;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439; EnterCriticalSection:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-9">
void&#x00A0;WINAPI&#x00A0;EnterCriticalSection(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_Inout_&#x00A0;&#x00A0;LPCRITICAL_SECTION&#x00A0;&#x00A0;lpCriticalSection
&#x00A0;<br />);
</div>
<!--l. 356--><p class="nopar" >
<!--l. 358--><p class="indent" >   &#x041E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x0435; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439; LeaveCriticalSection:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-10">
void&#x00A0;WINAPI&#x00A0;LeaveCriticalSection(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_Inout_&#x00A0;&#x00A0;LPCRITICAL_SECTION&#x00A0;&#x00A0;lpCriticalSection
&#x00A0;<br />);
</div>
<!--l. 364--><p class="nopar" >
<!--l. 366--><p class="indent" >   &#x0423;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435; &#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x043E;&#x0439; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439; DeleteCriticalSection:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-11">
void&#x00A0;WINAPI&#x00A0;DeleteCriticalSection(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_Inout_&#x00A0;&#x00A0;LPCRITICAL_SECTION&#x00A0;&#x00A0;lpCriticalSection
&#x00A0;<br />);
</div>
<!--l. 372--><p class="nopar" >
<!--l. 374--><p class="indent" >   &#x0418;&#x0437;&#x043C;&#x0435;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; &#x0432; &#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x043D;&#x043E;&#x0439; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0435;, &#x0434;&#x043B;&#x044F; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0438;&#x043C;&#x0438; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x044F;&#x043C;&#x0438;:
   <!--l. 376--><div class="lstinputlisting">
<a 
 id="x1-15001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0413;&#x043B;&#x043E;&#x0431;&#x0430;&#x043B;&#x044C;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">CRITICAL_SECTION</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[])</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x044E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">InitializeCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0434;&#x0430;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x044E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DeleteCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadReaderExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EnterCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">isFull</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LeaveCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EnterCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">isFull</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LeaveCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 378--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0438;&#x043C;&#x0438; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x044F;&#x043C;&#x0438; &#x043F;&#x0440;&#x0438; &#x0440;&#x0430;&#x0437;&#x043B;&#x0438;&#x0447;&#x043D;&#x044B;&#x0445; &#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x044B;&#x0445;
&#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x0430;&#x0445;:
<!--l. 380--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-150667"></a>
                                                                                               
                                                                                               
<!--l. 382--><p class="noindent" ><img 
src="../images/p1_4_1.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.7: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-150667 -->
                                                                                               
                                                                                               
<!--l. 386--><p class="indent" >   </div><hr class="endfigure">
<!--l. 388--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-150678"></a>
                                                                                               
                                                                                               
<!--l. 390--><p class="noindent" ><img 
src="../images/p1_4_2.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.8: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-150678 -->
                                                                                               
                                                                                               
<!--l. 394--><p class="indent" >   </div><hr class="endfigure">
<h5 class="subsubsectionHead"><a 
 id="x1-160001"></a>5. &#x0421;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; &#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F;&#x043C;&#x0438;</h5>
<!--l. 398--><p class="noindent" >&#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F; - &#x0441;&#x0430;&#x043C;&#x0430;&#x044F; &#x043F;&#x0440;&#x0438;&#x043C;&#x0438;&#x0442;&#x0438;&#x0432;&#x043D;&#x0430;&#x044F; &#x0440;&#x0430;&#x0437;&#x043D;&#x043E;&#x0432;&#x0438;&#x0434;&#x043D;&#x043E;&#x0441;&#x0442;&#x044C; &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x043E;&#x0432; &#x044F;&#x0434;&#x0440;&#x0430;. &#x041E;&#x043D;&#x0438; &#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0430;&#x0442; &#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A; &#x0447;&#x0438;&#x0441;&#x043B;&#x0430; &#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439; (&#x043A;&#x0430;&#x043A; &#x0438; &#x0432;&#x0441;&#x0435;
&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x044B; &#x044F;&#x0434;&#x0440;&#x0430;) &#x0438; &#x0434;&#x0432;&#x0435; &#x0431;&#x0443;&#x043B;&#x0435;&#x0432;&#x044B; &#x043F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x044B;&#x0435;: &#x043E;&#x0434;&#x043D;&#x0430; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0430;&#x0435;&#x0442; &#x0442;&#x0438;&#x043F; &#x0434;&#x0430;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E; &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;-&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F;, &#x0434;&#x0440;&#x0443;&#x0433;&#x0430;&#x044F; &#8212; &#x0435;&#x0433;&#x043E; &#x0441;&#x043E;&#x0441;&#x0442;&#x043E;&#x044F;&#x043D;&#x0438;&#x0435;
(&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0434;&#x0435;&#x043D; &#x0438;&#x043B;&#x0438; &#x0437;&#x0430;&#x043D;&#x044F;&#x0442;). &#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F; &#x043F;&#x0440;&#x043E;&#x0441;&#x0442;&#x043E; &#x0443;&#x0432;&#x0435;&#x0434;&#x043E;&#x043C;&#x043B;&#x044F;&#x044E;&#x0442; &#x043E;&#x0431; &#x043E;&#x043A;&#x043E;&#x043D;&#x0447;&#x0430;&#x043D;&#x0438;&#x0438; &#x043A;&#x0430;&#x043A;&#x043E;&#x0439;-&#x043B;&#x0438;&#x0431;&#x043E; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;. &#x041E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x044B;-&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F; &#x0431;&#x044B;&#x0432;&#x0430;&#x044E;&#x0442;
&#x0434;&#x0432;&#x0443;&#x0445; &#x0442;&#x0438;&#x043F;&#x043E;&#x0432;: &#x0441;&#x043E; &#x0441;&#x0431;&#x0440;&#x043E;&#x0441;&#x043E;&#x043C; &#x0432;&#x0440;&#x0443;&#x0447;&#x043D;&#x0443;&#x044E; &#x0438; &#x0441; &#x0430;&#x0432;&#x0442;&#x043E;&#x0441;&#x0431;&#x0440;&#x043E;&#x0441;&#x043E;&#x043C;. &#x041F;&#x0435;&#x0440;&#x0432;&#x044B;&#x0435; &#x043F;&#x043E;&#x0437;&#x0432;&#x043E;&#x043B;&#x044F;&#x044E;&#x0442; &#x0432;&#x043E;&#x0437;&#x043E;&#x0431;&#x043D;&#x043E;&#x0432;&#x043B;&#x044F;&#x0442;&#x044C; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x0435; &#x0441;&#x0440;&#x0430;&#x0437;&#x0443; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x0438;&#x0445;
&#x0436;&#x0434;&#x0443;&#x0449;&#x0438;&#x0445; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;, &#x0432;&#x0442;&#x043E;&#x0440;&#x044B;&#x0435; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x043E;&#x0434;&#x043D;&#x043E;&#x0433;&#x043E;.
<!--l. 400--><p class="indent" >   &#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x043E;&#x043C; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; CreateEvent:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-12">
HANDLE&#x00A0;WINAPI&#x00A0;CreateEvent(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;LPSECURITY_ATTRIBUTES&#x00A0;&#x00A0;lpEventAttributes,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;BOOL&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;bManualReset,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;BOOL&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;bInitialState,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;lpName
&#x00A0;<br />);
</div>
<!--l. 409--><p class="nopar" >
<!--l. 411--><p class="indent" >   &#x0414;&#x043B;&#x044F; &#x0437;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442;&#x0430; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x0430; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044E;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; &#x0441;&#x0435;&#x043C;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0430; Wait: WaitForSingleObject, WaitForMultipleObjects &#x0438;
&#x0434;&#x0440;.
<!--l. 413--><p class="indent" >   &#x041E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x0435; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439; SetEvent:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-13">
BOOL&#x00A0;WINAPI&#x00A0;SetEvent(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;HANDLE&#x00A0;&#x00A0;hEvent
&#x00A0;<br />);
</div>
<!--l. 419--><p class="nopar" >
<!--l. 421--><p class="indent" >   &#x0418;&#x0437;&#x043C;&#x0435;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; &#x0432; &#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x043D;&#x043E;&#x0439; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0435;, &#x0434;&#x043B;&#x044F; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F;&#x043C;&#x0438;:
   <!--l. 423--><div class="lstinputlisting">
<a 
 id="x1-16001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0413;&#x043B;&#x043E;&#x0431;&#x0430;&#x043B;&#x044C;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">event</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[])</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">event</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">event</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">event</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x7</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">event</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadReaderExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">event</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">isFull</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">event</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">event</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">isFull</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">event</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">}</span>
   </div>
                                                                                               
                                                                                               
<!--l. 427--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F;&#x043C;&#x0438; &#x043F;&#x0440;&#x0438; &#x0440;&#x0430;&#x0437;&#x043B;&#x0438;&#x0447;&#x043D;&#x044B;&#x0445; &#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x044B;&#x0445;
&#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x0430;&#x0445;:
<!--l. 429--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-160709"></a>
                                                                                               
                                                                                               
<!--l. 431--><p class="noindent" ><img 
src="../images/p1_5_1.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.9: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-160709 -->
                                                                                               
                                                                                               
<!--l. 435--><p class="indent" >   </div><hr class="endfigure">
<!--l. 437--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-1607110"></a>
                                                                                               
                                                                                               
<!--l. 439--><p class="noindent" ><img 
src="../images/p1_5_2.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.10: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-1607110 -->
                                                                                               
                                                                                               
<!--l. 443--><p class="indent" >   </div><hr class="endfigure">
<h5 class="subsubsectionHead"><a 
 id="x1-170001"></a>6. &#x0421;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; &#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0438;&#x043C;&#x0438; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x044F;&#x043C;&#x0438; &#x0441; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;&#x043C; &#x0443;&#x0441;&#x043B;&#x043E;&#x0432;&#x043D;&#x044B;&#x0445; &#x043F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x044B;&#x0445;</h5>
<!--l. 447--><p class="noindent" >&#x0421;&#x0430;&#x043C;&#x0438; &#x043F;&#x043E; &#x0441;&#x0435;&#x0431;&#x0435; &#x0443;&#x0441;&#x043B;&#x043E;&#x0432;&#x043D;&#x044B;&#x0435; &#x043F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x044B;&#x0435; &#x043D;&#x0435; &#x043C;&#x043E;&#x0433;&#x0443;&#x0442; &#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x044F;&#x0442;&#x044C;&#x0441;&#x044F;, &#x0430; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x0432; &#x0441;&#x043E;&#x0447;&#x0435;&#x0442;&#x0430;&#x043D;&#x0438;&#x0438; &#x0441; &#x0434;&#x0440;&#x0443;&#x0433;&#x0438;&#x043C;&#x0438; &#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x0430;&#x043C;&#x0438;
&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; (&#x043D;&#x0430;&#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x0440;, &#x0441; &#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0438;&#x043C;&#x0438; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x044F;&#x043C;&#x0438;). &#x0423;&#x0441;&#x043B;&#x043E;&#x0432;&#x043D;&#x044B;&#x0435; &#x043F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x044B;&#x0435; &#x043E;&#x0442;&#x0441;&#x0443;&#x0442;&#x0441;&#x0442;&#x0432;&#x0443;&#x044E;&#x0442; &#x0432; Windows 2003 &#x0438;
XP.
<!--l. 449--><p class="indent" >   &#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; &#x0443;&#x0441;&#x043B;&#x043E;&#x0432;&#x043D;&#x043E;&#x0439; &#x043F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E;&#x0439; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439; InitializeConditionVariable:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-14">
VOID&#x00A0;WINAPI&#x00A0;InitializeConditionVariable(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_Out_&#x00A0;&#x00A0;PCONDITION_VARIABLE&#x00A0;&#x00A0;ConditionVariable
&#x00A0;<br />);
</div>
<!--l. 455--><p class="nopar" >
<!--l. 457--><p class="indent" >   &#x0414;&#x043B;&#x044F; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F; &#x0432;&#x043E;&#x0441;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x044F; &#x0443;&#x0441;&#x043B;&#x043E;&#x0432;&#x043D;&#x043E;&#x0439; &#x043F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E;&#x0439; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; SleepConditionVariableCS:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-15">
BOOL&#x00A0;WINAPI&#x00A0;SleepConditionVariableCS(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_Inout_&#x00A0;&#x00A0;PCONDITION_VARIABLE&#x00A0;&#x00A0;ConditionVariable,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_Inout_&#x00A0;&#x00A0;PCRITICAL_SECTION&#x00A0;&#x00A0;&#x00A0;&#x00A0;CriticalSection,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;dwMilliseconds
&#x00A0;<br />);
</div>
<!--l. 465--><p class="nopar" >
<!--l. 467--><p class="indent" >   &#x0414;&#x043B;&#x044F; &#x043F;&#x0440;&#x043E;&#x0431;&#x0443;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x044F; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;, &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x044E;&#x0449;&#x0438;&#x0445; &#x0443;&#x0441;&#x043B;&#x043E;&#x0432;&#x043D;&#x043E;&#x0439; &#x043F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E;&#x0439; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044E;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-16">
VOID&#x00A0;WINAPI&#x00A0;WakeConditionVariable(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_Inout_&#x00A0;&#x00A0;PCONDITION_VARIABLE&#x00A0;&#x00A0;ConditionVariable
&#x00A0;<br />);
</div>
<!--l. 473--><p class="nopar" >
<!--l. 475--><p class="indent" >   &#x0418;&#x0437;&#x043C;&#x0435;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; &#x0432; &#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x043D;&#x043E;&#x0439; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0435;, &#x0434;&#x043B;&#x044F; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0438;&#x043C;&#x0438; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x044F;&#x043C;&#x0438; &#x0441; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;&#x043C; &#x0443;&#x0441;&#x043B;&#x043E;&#x0432;&#x043D;&#x044B;&#x0445;
&#x043F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x044B;&#x0445;:
   <!--l. 477--><div class="lstinputlisting">
<a 
 id="x1-17001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TIMEOUT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5000;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">CRITICAL_SECTION</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">CONDITION_VARIABLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readConditionVariable</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">CONDITION_VARIABLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writeConditionVariable</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[])</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x0441;&#x043B;&#x043E;&#x0432;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x044B;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">InitializeCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">InitializeConditionVariable</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">readConditionVariable</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">InitializeConditionVariable</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">writeConditionVariable</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForMultipleObjects</span><span 
class="lass-0900">(</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">.</span><span 
class="lass-0900">size</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;(</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">[0])</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TRUE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TIMEOUT</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0434;&#x0430;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x044E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DeleteCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadReaderExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EnterCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x0435;&#x0441;&#x0442;&#x043E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!(</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">isFull</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SleepConditionVariableCS</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">readConditionVariable</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0415;&#x0441;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0435;&#x0441;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Get</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">data</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">position</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">[</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">],</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0411;&#x0435;&#x0440;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">[]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">[</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">[</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">isFull</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0412;&#x044B;&#x0447;&#x0438;&#x0441;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043D;&#x0434;&#x0435;&#x043A;&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x0441;&#x044B;&#x043B;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;&#x043C;&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;&#x043C;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WakeConditionVariable</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">writeConditionVariable</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LeaveCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messageIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EnterCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x0435;&#x0441;&#x0442;&#x043E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!(</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">isFull</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SleepConditionVariableCS</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">writeConditionVariable</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x0438;&#x0441;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">to_string</span><span 
class="lass-0900">(</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">to_string</span><span 
class="lass-0900">(</span><span 
class="lass-0900">messageIndex</span><span 
class="lass-0900">++)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">[</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">_strdup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17085r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17086r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Put</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">data</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">position</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">[</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">],</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17087r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17088r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0412;&#x044B;&#x0447;&#x0438;&#x0441;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043D;&#x0434;&#x0435;&#x043A;&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17089r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writeIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17090r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17091r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalQueue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">isFull</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17092r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Queue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">is</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">full</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17093r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17094r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x0441;&#x044B;&#x043B;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;&#x043C;&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;&#x043C;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17095r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WakeConditionVariable</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">readConditionVariable</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17096r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17097r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LeaveCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17098r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17099r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17100r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17101r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17102r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17103r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17104r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 479--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0438;&#x043C;&#x0438; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x044F;&#x043C;&#x0438; &#x0441; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;&#x043C; &#x0443;&#x0441;&#x043B;&#x043E;&#x0432;&#x043D;&#x044B;&#x0445;
&#x043F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x044B;&#x0445; &#x043F;&#x0440;&#x0438; &#x0440;&#x0430;&#x0437;&#x043B;&#x0438;&#x0447;&#x043D;&#x044B;&#x0445; &#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x044B;&#x0445; &#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x0430;&#x0445;:
<!--l. 481--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-1710511"></a>
                                                                                               
                                                                                               
<!--l. 483--><p class="noindent" ><img 
src="../images/p1_6_1.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.11: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-1710511 -->
                                                                                               
                                                                                               
<!--l. 487--><p class="indent" >   </div><hr class="endfigure">
<!--l. 489--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-1710612"></a>
                                                                                               
                                                                                               
<!--l. 491--><p class="noindent" ><img 
src="../images/p1_6_2.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.12: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-1710612 -->
                                                                                               
                                                                                               
<!--l. 495--><p class="indent" >   </div><hr class="endfigure">
<a 
 id="x1-17107r14"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.2   </span> <a 
 id="x1-180002"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 2. &#x0417;&#x0430;&#x0434;&#x0430;&#x0447;&#x0430; «&#x0427;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438; &#x0438; &#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438;»</h4>
<!--l. 499--><p class="noindent" >&#x0417;&#x0430;&#x0434;&#x0430;&#x0447;&#x0430; &#x0437;&#x0430;&#x043A;&#x043B;&#x044E;&#x0447;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432; &#x0440;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x043E;&#x0434;&#x043D;&#x043E;&#x0433;&#x043E; &#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F; &#x0438; &#x043C;&#x043D;&#x043E;&#x0436;&#x0435;&#x0441;&#x0442;&#x0432;&#x0430; &#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;. &#x041F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C; &#x043F;&#x0438;&#x0448;&#x0435;&#x0442; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435; &#x0438; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x0442;
&#x043F;&#x043E;&#x043A;&#x0430; &#x0432;&#x0441;&#x0435; &#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438; &#x0435;&#x0433;&#x043E; &#x043D;&#x0435; &#x043F;&#x0440;&#x043E;&#x0447;&#x0442;&#x0443;&#x0442;.
<h5 class="subsubsectionHead"><a 
 id="x1-190002"></a>1. &#x0418;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435; &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x043E;&#x0439; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438; &#x0438; &#x043E;&#x0434;&#x043D;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430; &#x0434;&#x043B;&#x044F; &#x0440;&#x0435;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F; &#x0437;&#x0430;&#x0434;&#x0430;&#x0447;&#x0438;</h5>
<!--l. 503--><p class="noindent" >&#x0421;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0430; &#x043C;&#x043E;&#x0436;&#x0435;&#x0442; &#x043F;&#x0440;&#x043E;&#x0435;&#x0446;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x043D;&#x0430; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0442;&#x0438;&#x0432;&#x043D;&#x0443;&#x044E; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C; &#x043D;&#x0435; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x0444;&#x0430;&#x0439;&#x043B; &#x0440;&#x0430;&#x0437;&#x043C;&#x0435;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;, &#x043D;&#x043E; &#x0438; &#x043B;&#x044E;&#x0431;&#x043E;&#x0439; &#x0434;&#x0440;&#x0443;&#x0433;&#x043E;&#x0439; &#x0444;&#x0430;&#x0439;&#x043B;.
&#x041F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F; &#x043C;&#x043E;&#x0433;&#x0443;&#x0442; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x044D;&#x0442;&#x0443; &#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;&#x0441;&#x0442;&#x044C;. &#x042D;&#x0442;&#x043E; &#x043C;&#x043E;&#x0436;&#x0435;&#x0442; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C;&#x0441;&#x044F; &#x0434;&#x043B;&#x044F; &#x043E;&#x0431;&#x0435;&#x0441;&#x043F;&#x0435;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F; &#x0431;&#x043E;&#x043B;&#x0435;&#x0435; &#x0431;&#x044B;&#x0441;&#x0442;&#x0440;&#x043E;&#x0433;&#x043E;
&#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0430; &#x043A; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430;&#x043C;, &#x0430; &#x0442;&#x0430;&#x043A;&#x0436;&#x0435; &#x0434;&#x043B;&#x044F; &#x0441;&#x043E;&#x0432;&#x043C;&#x0435;&#x0441;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438;.
<!--l. 505--><p class="indent" >   &#x0422;&#x0430;&#x043A;&#x0438;&#x0435; &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x044B; &#x043D;&#x0430;&#x0437;&#x044B;&#x0432;&#x0430;&#x044E;&#x0442;&#x0441;&#x044F; &#x043F;&#x0440;&#x043E;&#x0435;&#x043A;&#x0446;&#x0438;&#x044F;&#x043C;&#x0438; &#x0444;&#x0430;&#x0439;&#x043B;&#x043E;&#x0432; &#x043D;&#x0430; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0442;&#x0438;&#x0432;&#x043D;&#x0443;&#x044E; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;. &#x0414;&#x043B;&#x044F; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F; &#x043F;&#x0440;&#x043E;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430;
&#x0432;&#x044B;&#x0437;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; CreateFileMapping:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-17">
HANDLE&#x00A0;WINAPI&#x00A0;CreateFileMapping(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;HANDLE&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;hFile,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;LPSECURITY_ATTRIBUTES&#x00A0;&#x00A0;lpAttributes,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;flProtect,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;dwMaximumSizeHigh,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;dwMaximumSizeLow,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_opt_&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;lpName
&#x00A0;<br />);
</div>
<!--l. 516--><p class="nopar" >
<!--l. 518--><p class="indent" >   &#x0414;&#x043B;&#x044F; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F; &#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x0430; &#x0443;&#x0436;&#x0435; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E; &#x043E;&#x0442;&#x043E;&#x0431;&#x0440;&#x0430;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; OpenFileMapping:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-18">
HANDLE&#x00A0;WINAPI&#x00A0;OpenFileMapping(
&#x00A0;<br />&#x00A0;_In_&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;&#x00A0;dwDesiredAccess,
&#x00A0;<br />&#x00A0;_In_&#x00A0;&#x00A0;BOOL&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;bInheritHandle,
&#x00A0;<br />&#x00A0;_In_&#x00A0;&#x00A0;LPCTSTR&#x00A0;&#x00A0;lpName
&#x00A0;<br />);
</div>
<!--l. 526--><p class="nopar" >
<!--l. 528--><p class="indent" >   &#x041E;&#x0442;&#x043E;&#x0431;&#x0440;&#x0430;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430; &#x043D;&#x0430; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430; &#x043E;&#x0441;&#x0443;&#x0449;&#x0435;&#x0441;&#x0442;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x0441; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; MapViewOfFile:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-19">
LPVOID&#x00A0;WINAPI&#x00A0;MapViewOfFile(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;HANDLE&#x00A0;&#x00A0;hFileMappingObject,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;dwDesiredAccess,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;dwFileOffsetHigh,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;DWORD&#x00A0;&#x00A0;&#x00A0;dwFileOffsetLow,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;SIZE_T&#x00A0;&#x00A0;dwNumberOfBytesToMap
&#x00A0;<br />);
</div>
<!--l. 538--><p class="nopar" >
<!--l. 540--><p class="indent" >   &#x0414;&#x043B;&#x044F; &#x043E;&#x0447;&#x0438;&#x0441;&#x0442;&#x043A;&#x0438; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; UnmapViewOfFile:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-20">
BOOL&#x00A0;WINAPI&#x00A0;UnmapViewOfFile(
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;_In_&#x00A0;&#x00A0;LPCVOID&#x00A0;&#x00A0;lpBaseAddress
&#x00A0;<br />);
</div>
<!--l. 546--><p class="nopar" >
<!--l. 548--><p class="indent" >   &#x0414;&#x043B;&#x044F; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432; &#x043F;&#x043E;&#x0442;&#x0440;&#x0435;&#x0431;&#x043E;&#x0432;&#x0430;&#x043B;&#x043E;&#x0441;&#x044C; &#x043F;&#x044F;&#x0442;&#x044C; &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x043E;&#x0432;-&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0439;:
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-19002x1"><span 
class="lati-1000">eventCanRead  </span>&#8211;  &#x043E;&#x0437;&#x043D;&#x0430;&#x0447;&#x0430;&#x0435;&#x0442;,  &#x0447;&#x0442;&#x043E;  &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;-&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;  &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0430;&#x043B;  &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;  &#x0432;  &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;,  &#x0438;  &#x0435;&#x0433;&#x043E;  &#x043C;&#x043E;&#x0433;&#x0443;&#x0442;  &#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x044C;
     &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0438;-&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438; (&#x0440;&#x0443;&#x0447;&#x043D;&#x043E;&#x0439; &#x0441;&#x0431;&#x0440;&#x043E;&#x0441;);
     </li>
     <li 
  class="enumerate" id="x1-19004x2"><span 
class="lati-1000">eventCanWrite </span>&#8211; &#x043E;&#x0437;&#x043D;&#x0430;&#x0447;&#x0430;&#x0435;&#x0442;, &#x0447;&#x0442;&#x043E; &#x0432;&#x0441;&#x0435; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0438;-&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0438;&#x043B;&#x0438; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435; &#x0438; &#x0433;&#x043E;&#x0442;&#x043E;&#x0432;&#x044B; &#x043A; &#x043F;&#x0440;&#x0438;&#x0435;&#x043C;&#x0443; &#x0441;&#x043B;&#x0435;&#x0434;&#x0443;&#x044E;&#x0449;&#x0435;&#x0433;&#x043E;
     (&#x0430;&#x0432;&#x0442;&#x043E;&#x0441;&#x0431;&#x0440;&#x043E;&#x0441;);
     </li>
     <li 
  class="enumerate" id="x1-19006x3"><span 
class="lati-1000">eventAllRead </span>&#8211; &#x0442;&#x0440;&#x0435;&#x0431;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; &#x0434;&#x043B;&#x044F; &#x043F;&#x0440;&#x0438;&#x0432;&#x0435;&#x0434;&#x0435;&#x043D;&#x0438;&#x044F; &#x0432; &#x0433;&#x043E;&#x0442;&#x043E;&#x0432;&#x043D;&#x043E;&#x0441;&#x0442;&#x044C; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;-&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439; (&#x0440;&#x0443;&#x0447;&#x043D;&#x043E;&#x0439; &#x0441;&#x0431;&#x0440;&#x043E;&#x0441;);
     </li>
     <li 
  class="enumerate" id="x1-19008x4"><span 
class="lati-1000">eventChangeCount  </span>&#8211; &#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435; &#x0434;&#x043B;&#x044F; &#x0440;&#x0430;&#x0437;&#x0440;&#x0435;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0441;&#x043E; &#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A;&#x043E;&#x043C; (&#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;- &#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;,
     &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0435; &#x043F;&#x0440;&#x043E;&#x0448;&#x043B;&#x0438; &#x0437;&#x0430;&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439; &#x0443;&#x0447;&#x0430;&#x0441;&#x0442;&#x043E;&#x043A; &#x043A;&#x043E;&#x0434;&#x0430;) (&#x0430;&#x0432;&#x0442;&#x043E;&#x0441;&#x0431;&#x0440;&#x043E;&#x0441;);
     </li>
     <li 
  class="enumerate" id="x1-19010x5"><span 
class="lati-1000">eventExit </span>&#8211; &#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x0430;&#x0432;&#x043B;&#x0438;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x043C;-&#x043F;&#x043B;&#x0430;&#x043D;&#x0438;&#x0440;&#x043E;&#x0432;&#x0449;&#x0438;&#x043A;&#x043E;&#x043C; (&#x0440;&#x0443;&#x0447;&#x043D;&#x043E;&#x0439; &#x0441;&#x0431;&#x0440;&#x043E;&#x0441;).</li></ol>
<!--l. 562--><p class="indent" >   &#x041F;&#x043E;&#x0442;&#x043E;&#x043A;-&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C; &#x0436;&#x0434;&#x0435;&#x0442;, &#x043F;&#x043E;&#x043A;&#x0430; &#x0432;&#x0441;&#x0435; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0438;-&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438; &#x043F;&#x0440;&#x043E;&#x0447;&#x0438;&#x0442;&#x0430;&#x044E;&#x0442; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;, &#x0430; &#x0437;&#x0430;&#x0442;&#x0435;&#x043C; &#x043F;&#x0438;&#x0448;&#x0435;&#x0442; &#x043D;&#x043E;&#x0432;&#x043E;&#x0435; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;. &#x041F;&#x043E;&#x0441;&#x043B;&#x0435;
&#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438; &#x043E;&#x043D; &#x0440;&#x0430;&#x0437;&#x0440;&#x0435;&#x0448;&#x0430;&#x0435;&#x0442; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x0435;.
                                                                                               
                                                                                               
<!--l. 566--><p class="indent" >   &#x0420;&#x0435;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435; &#x0437;&#x0430;&#x0434;&#x0430;&#x0447;&#x0438; «&#x0427;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438; &#x0438; &#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438;»:
   <!--l. 568--><div class="lstinputlisting">
<a 
 id="x1-19011"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19012r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19013r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19014r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19015r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">fstream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19016r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19017r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">vector</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19018r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19019r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0447;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19020r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Configuration</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19021r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19022r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19023r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19024r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19025r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19026r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19027r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x0438;&#x043B;&#x043B;&#x0438;&#x0441;&#x0435;&#x043A;&#x0443;&#x043D;&#x0434;&#x0430;&#x0445;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19028r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19029r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x0438;&#x043B;&#x043B;&#x0438;&#x0441;&#x0435;&#x043A;&#x0443;&#x043D;&#x0434;&#x0430;&#x0445;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19030r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19031r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0412;&#x0440;&#x0435;&#x043C;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0436;&#x0438;&#x0437;&#x043D;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19032r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19033r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19034r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19035r24"></a><span 
class="larm-0500">24</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CONFIG_PATH</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">config</span><span 
class="lass-0900">.</span><span 
class="lass-0900">ini</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19036r25"></a><span 
class="larm-0500">25</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__int64</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TIMER_CONSTANT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">10000000;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19037r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_MESSAGE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">q</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19038r27"></a><span 
class="larm-0500">27</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SHARE_MEMORY_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$SharedMemory$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19039r28"></a><span 
class="larm-0500">28</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19040r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19041r30"></a><span 
class="larm-0500">30</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0413;&#x043B;&#x043E;&#x0431;&#x0430;&#x043B;&#x044C;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19042r31"></a><span 
class="larm-0500">31</span></span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Configuration</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19043r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19044r33"></a><span 
class="larm-0500">33</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041C;&#x0430;&#x0441;&#x0441;&#x0438;&#x0432;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0430;&#x0449;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19045r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">vector</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19046r35"></a><span 
class="larm-0500">35</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x0430;&#x044F;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19047r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">bool</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19048r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19049r38"></a><span 
class="larm-0500">38</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19050r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19051r40"></a><span 
class="larm-0500">40</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19052r41"></a><span 
class="larm-0500">41</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readyReadersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19053r42"></a><span 
class="larm-0500">42</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043E;&#x0431;&#x0440;&#x0430;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19054r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19055r44"></a><span 
class="larm-0500">44</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x043A;&#x0430;&#x0437;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043E;&#x0431;&#x0440;&#x0430;&#x0436;&#x0430;&#x0435;&#x043C;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19056r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersMap</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19057r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19058r47"></a><span 
class="larm-0500">47</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19059r48"></a><span 
class="larm-0500">48</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">setConfig</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Configuration</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19060r49"></a><span 
class="larm-0500">49</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19061r50"></a><span 
class="larm-0500">50</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">parametr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">istream</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19062r51"></a><span 
class="larm-0500">51</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0438;&#x0440;&#x0443;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x0439;&#x043C;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19063r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAndStartWaitableTimer</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">unsigned</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">secondsCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19064r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19065r54"></a><span 
class="larm-0500">54</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19066r55"></a><span 
class="larm-0500">55</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAllThreads</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Configuration</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19067r56"></a><span 
class="larm-0500">56</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19068r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadReaderExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19069r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19070r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadTimeManagerExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19071r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19072r61"></a><span 
class="larm-0500">61</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[])</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19073r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0437;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19074r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">configFilename</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19075r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">configFilename</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">?</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CONFIG_PATH</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19076r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">setConfig</span><span 
class="lass-0900">(</span><span 
class="lass-0900">configFilename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19077r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19078r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19079r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAllThreads</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19080r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19081r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043E;&#x0431;&#x0440;&#x0430;&#x0436;&#x0430;&#x0435;&#x043C;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19082r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateFileMapping</span><span 
class="lass-0900">(</span><span 
class="lass-0900">INVALID_HANDLE_VALUE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PAGE_READWRITE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SHARE_MEMORY_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19083r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19084r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shared</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19085r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x7</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19086r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19087r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19088r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043E;&#x0431;&#x0440;&#x0430;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0441;&#x0442;&#x0440;&#x0430;&#x043D;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19089r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MapViewOfFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FILE_MAP_WRITE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19090r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersMap</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MapViewOfFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FILE_MAP_READ</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19091r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">readersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19092r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">view</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">map</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19093r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x8</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19094r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19095r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19096r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19097r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19098r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19099r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19100r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19101r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19102r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19103r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">event</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19104r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x9</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19105r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19106r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19107r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0430;&#x0440;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19108r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19109r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ResumeThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">current</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19110r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19111r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19112r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForMultipleObjects</span><span 
class="lass-0900">(</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">.</span><span 
class="lass-0900">size</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;(</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">[0])</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TRUE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19113r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19114r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19115r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19116r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">current</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19117r106"></a><span 
class="larm-0500">106</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19118r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19119r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19120r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19121r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19122r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19123r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19124r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19125r114"></a><span 
class="larm-0500">114</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0434;&#x0430;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19126r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">UnmapViewOfFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19127r116"></a><span 
class="larm-0500">116</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">UnmapViewOfFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19128r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19129r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19130r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19131r120"></a><span 
class="larm-0500">120</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Press</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">Enter</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19132r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getchar</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19133r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19134r123"></a><span 
class="larm-0500">123</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19135r124"></a><span 
class="larm-0500">124</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19136r125"></a><span 
class="larm-0500">125</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19137r126"></a><span 
class="larm-0500">126</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">parametr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">istream</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19138r127"></a><span 
class="larm-0500">127</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19139r128"></a><span 
class="larm-0500">128</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19140r129"></a><span 
class="larm-0500">129</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">line</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19141r130"></a><span 
class="larm-0500">130</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19142r131"></a><span 
class="larm-0500">131</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">.</span><span 
class="lass-0900">eof</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19143r132"></a><span 
class="larm-0500">132</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">throw</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">exception</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19144r133"></a><span 
class="larm-0500">133</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19145r134"></a><span 
class="larm-0500">134</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getline</span><span 
class="lass-0900">(</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">line</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19146r135"></a><span 
class="larm-0500">135</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">parametr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">stoi</span><span 
class="lass-0900">(</span><span 
class="lass-0900">line</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19147r136"></a><span 
class="larm-0500">136</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19148r137"></a><span 
class="larm-0500">137</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19149r138"></a><span 
class="larm-0500">138</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">setConfig</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">configFilename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Configuration</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lass-0900">&#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19150r139"></a><span 
class="larm-0500">139</span></span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19151r140"></a><span 
class="larm-0500">140</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19152r141"></a><span 
class="larm-0500">141</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">ifstream</span><span 
class="lass-0900">(</span><span 
class="lass-0900">configFilename</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19153r142"></a><span 
class="larm-0500">142</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">.</span><span 
class="lass-0900">is_open</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19154r143"></a><span 
class="larm-0500">143</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19155r144"></a><span 
class="larm-0500">144</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19156r145"></a><span 
class="larm-0500">145</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19157r146"></a><span 
class="larm-0500">146</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19158r147"></a><span 
class="larm-0500">147</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19159r148"></a><span 
class="larm-0500">148</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">line</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19160r149"></a><span 
class="larm-0500">149</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19161r150"></a><span 
class="larm-0500">150</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19162r151"></a><span 
class="larm-0500">151</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19163r152"></a><span 
class="larm-0500">152</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19164r153"></a><span 
class="larm-0500">153</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19165r154"></a><span 
class="larm-0500">154</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19166r155"></a><span 
class="larm-0500">155</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19167r156"></a><span 
class="larm-0500">156</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19168r157"></a><span 
class="larm-0500">157</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">catch</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">exception</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exception</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19169r158"></a><span 
class="larm-0500">158</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">parse</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19170r159"></a><span 
class="larm-0500">159</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">.</span><span 
class="lass-0900">close</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19171r160"></a><span 
class="larm-0500">160</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19172r161"></a><span 
class="larm-0500">161</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19173r162"></a><span 
class="larm-0500">162</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19174r163"></a><span 
class="larm-0500">163</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x043E;&#x0432;&#x0435;&#x0440;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0441;&#x0442;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x043D;&#x044B;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19175r164"></a><span 
class="larm-0500">164</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19176r165"></a><span 
class="larm-0500">165</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19177r166"></a><span 
class="larm-0500">166</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19178r167"></a><span 
class="larm-0500">167</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19179r168"></a><span 
class="larm-0500">168</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19180r169"></a><span 
class="larm-0500">169</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Wrong</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">values</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19181r170"></a><span 
class="larm-0500">170</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">.</span><span 
class="lass-0900">close</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19182r171"></a><span 
class="larm-0500">171</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19183r172"></a><span 
class="larm-0500">172</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19184r173"></a><span 
class="larm-0500">173</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19185r174"></a><span 
class="larm-0500">174</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">.</span><span 
class="lass-0900">close</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19186r175"></a><span 
class="larm-0500">175</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19187r176"></a><span 
class="larm-0500">176</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19188r177"></a><span 
class="larm-0500">177</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Readers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">count</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19189r178"></a><span 
class="larm-0500">178</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Readers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delay</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19190r179"></a><span 
class="larm-0500">179</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">count</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19191r180"></a><span 
class="larm-0500">180</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delay</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19192r181"></a><span 
class="larm-0500">181</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Queue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">size</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19193r182"></a><span 
class="larm-0500">182</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">live</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19194r183"></a><span 
class="larm-0500">183</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19195r184"></a><span 
class="larm-0500">184</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19196r185"></a><span 
class="larm-0500">185</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAllThreads</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Configuration</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19197r186"></a><span 
class="larm-0500">186</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19198r187"></a><span 
class="larm-0500">187</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">readerIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19199r188"></a><span 
class="larm-0500">188</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadReaderExecutor</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readerIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CREATE_SUSPENDED</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19200r189"></a><span 
class="larm-0500">189</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19201r190"></a><span 
class="larm-0500">190</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19202r191"></a><span 
class="larm-0500">191</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19203r192"></a><span 
class="larm-0500">192</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19204r193"></a><span 
class="larm-0500">193</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19205r194"></a><span 
class="larm-0500">194</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">.</span><span 
class="lass-0900">push_back</span><span 
class="lass-0900">(</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19206r195"></a><span 
class="larm-0500">195</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19207r196"></a><span 
class="larm-0500">196</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19208r197"></a><span 
class="larm-0500">197</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Readers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">have</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19209r198"></a><span 
class="larm-0500">198</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19210r199"></a><span 
class="larm-0500">199</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19211r200"></a><span 
class="larm-0500">200</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19212r201"></a><span 
class="larm-0500">201</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">writerIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19213r202"></a><span 
class="larm-0500">202</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writerIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CREATE_SUSPENDED</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19214r203"></a><span 
class="larm-0500">203</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19215r204"></a><span 
class="larm-0500">204</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19216r205"></a><span 
class="larm-0500">205</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x5</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19217r206"></a><span 
class="larm-0500">206</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19218r207"></a><span 
class="larm-0500">207</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19219r208"></a><span 
class="larm-0500">208</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">.</span><span 
class="lass-0900">push_back</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19220r209"></a><span 
class="larm-0500">209</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19221r210"></a><span 
class="larm-0500">210</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19222r211"></a><span 
class="larm-0500">211</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">have</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19223r212"></a><span 
class="larm-0500">212</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19224r213"></a><span 
class="larm-0500">213</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19225r214"></a><span 
class="larm-0500">214</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19226r215"></a><span 
class="larm-0500">215</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timeManager</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadTimeManagerExecutor</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CREATE_SUSPENDED</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19227r216"></a><span 
class="larm-0500">216</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">timeManager</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19228r217"></a><span 
class="larm-0500">217</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">manager</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19229r218"></a><span 
class="larm-0500">218</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x6</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19230r219"></a><span 
class="larm-0500">219</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19231r220"></a><span 
class="larm-0500">220</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19232r221"></a><span 
class="larm-0500">221</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">.</span><span 
class="lass-0900">push_back</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timeManager</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19233r222"></a><span 
class="larm-0500">222</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19234r223"></a><span 
class="larm-0500">223</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">manager</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19235r224"></a><span 
class="larm-0500">224</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19236r225"></a><span 
class="larm-0500">225</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19237r226"></a><span 
class="larm-0500">226</span></span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAndStartWaitableTimer</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">unsigned</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">secondsCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x0439;&#x043C;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19238r227"></a><span 
class="larm-0500">227</span></span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19239r228"></a><span 
class="larm-0500">228</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0412;&#x044B;&#x0447;&#x0438;&#x0441;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0445;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x0439;&#x043C;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19240r229"></a><span 
class="larm-0500">229</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__int64</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">endTimeValue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TIMER_CONSTANT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">secondsCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19241r230"></a><span 
class="larm-0500">230</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LARGE_INTEGER</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">endTimeStruct</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19242r231"></a><span 
class="larm-0500">231</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">endTimeStruct</span><span 
class="lass-0900">.</span><span 
class="lass-0900">LowPart</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">(</span><span 
class="lass-0900">endTimeValue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">xFFFFFFFF</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19243r232"></a><span 
class="larm-0500">232</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">endTimeStruct</span><span 
class="lass-0900">.</span><span 
class="lass-0900">HighPart</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LONG</span><span 
class="lass-0900">(</span><span 
class="lass-0900">endTimeValue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x20</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19244r233"></a><span 
class="larm-0500">233</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19245r234"></a><span 
class="larm-0500">234</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x0439;&#x043C;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19246r235"></a><span 
class="larm-0500">235</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateWaitableTimer</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19247r236"></a><span 
class="larm-0500">236</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetWaitableTimer</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">endTimeStruct</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19248r237"></a><span 
class="larm-0500">237</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19249r238"></a><span 
class="larm-0500">238</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19250r239"></a><span 
class="larm-0500">239</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19251r240"></a><span 
class="larm-0500">240</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadTimeManagerExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19252r241"></a><span 
class="larm-0500">241</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19253r242"></a><span 
class="larm-0500">242</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19254r243"></a><span 
class="larm-0500">243</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19255r244"></a><span 
class="larm-0500">244</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0415;&#x0441;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0440;&#x0435;&#x043C;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0436;&#x0438;&#x0437;&#x043D;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x0440;&#x0438;&#x0446;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0432;&#x0435;&#x0434;&#x0435;&#x043D;&#x043D;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19256r245"></a><span 
class="larm-0500">245</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19257r246"></a><span 
class="larm-0500">246</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19258r247"></a><span 
class="larm-0500">247</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">clear</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19259r248"></a><span 
class="larm-0500">248</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getline</span><span 
class="lass-0900">(</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cin</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19260r249"></a><span 
class="larm-0500">249</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19261r250"></a><span 
class="larm-0500">250</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_MESSAGE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19262r251"></a><span 
class="larm-0500">251</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19263r252"></a><span 
class="larm-0500">252</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19264r253"></a><span 
class="larm-0500">253</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19265r254"></a><span 
class="larm-0500">254</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19266r255"></a><span 
class="larm-0500">255</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0415;&#x0441;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0440;&#x0435;&#x043C;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0436;&#x0438;&#x0437;&#x043D;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043B;&#x043E;&#x0436;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x0439;&#x043C;&#x0435;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19267r256"></a><span 
class="larm-0500">256</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19268r257"></a><span 
class="larm-0500">257</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAndStartWaitableTimer</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19269r258"></a><span 
class="larm-0500">258</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19270r259"></a><span 
class="larm-0500">259</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19271r260"></a><span 
class="larm-0500">260</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19272r261"></a><span 
class="larm-0500">261</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19273r262"></a><span 
class="larm-0500">262</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19274r263"></a><span 
class="larm-0500">263</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19275r264"></a><span 
class="larm-0500">264</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">manager</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19276r265"></a><span 
class="larm-0500">265</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19277r266"></a><span 
class="larm-0500">266</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19278r267"></a><span 
class="larm-0500">267</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19279r268"></a><span 
class="larm-0500">268</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadReaderExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19280r269"></a><span 
class="larm-0500">269</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19281r270"></a><span 
class="larm-0500">270</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19282r271"></a><span 
class="larm-0500">271</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x0430;&#x0441;&#x0441;&#x0438;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19283r272"></a><span 
class="larm-0500">272</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerHandlers</span><span 
class="lass-0900">[2];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19284r273"></a><span 
class="larm-0500">273</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerHandlers</span><span 
class="lass-0900">[0]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19285r274"></a><span 
class="larm-0500">274</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerHandlers</span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19286r275"></a><span 
class="larm-0500">275</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19287r276"></a><span 
class="larm-0500">276</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19288r277"></a><span 
class="larm-0500">277</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0447;&#x0438;&#x0442;&#x0430;&#x044E;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19289r278"></a><span 
class="larm-0500">278</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19290r279"></a><span 
class="larm-0500">279</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0437;&#x043D;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0448;&#x043B;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0433;&#x0440;&#x0430;&#x043D;&#x0438;&#x0446;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19291r280"></a><span 
class="larm-0500">280</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19292r281"></a><span 
class="larm-0500">281</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19293r282"></a><span 
class="larm-0500">282</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">readyReadersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19294r283"></a><span 
class="larm-0500">283</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readyReadersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19295r284"></a><span 
class="larm-0500">284</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readyReadersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19296r285"></a><span 
class="larm-0500">285</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0415;&#x0441;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0448;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19297r286"></a><span 
class="larm-0500">286</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ResetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19298r287"></a><span 
class="larm-0500">287</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x0440;&#x0435;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19299r288"></a><span 
class="larm-0500">288</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19300r289"></a><span 
class="larm-0500">289</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19301r290"></a><span 
class="larm-0500">290</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19302r291"></a><span 
class="larm-0500">291</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x0440;&#x0435;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;&#x043C;&#x0435;&#x0442;&#x044F;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19303r292"></a><span 
class="larm-0500">292</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19304r293"></a><span 
class="larm-0500">293</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19305r294"></a><span 
class="larm-0500">294</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">analyzeEvent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForMultipleObjects</span><span 
class="lass-0900">(2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerHandlers</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19306r295"></a><span 
class="larm-0500">295</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">switch</span><span 
class="lass-0900">(</span><span 
class="lass-0900">analyzeEvent</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19307r296"></a><span 
class="larm-0500">296</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WAIT_OBJECT_0</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19308r297"></a><span 
class="larm-0500">297</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19309r298"></a><span 
class="larm-0500">298</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19310r299"></a><span 
class="larm-0500">299</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19311r300"></a><span 
class="larm-0500">300</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19312r301"></a><span 
class="larm-0500">301</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">WAIT_OBJECT_0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19313r302"></a><span 
class="larm-0500">302</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19314r303"></a><span 
class="larm-0500">303</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Read</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">\"\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19315r304"></a><span 
class="larm-0500">304</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19316r305"></a><span 
class="larm-0500">305</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x043C;&#x0435;&#x043D;&#x044C;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19317r306"></a><span 
class="larm-0500">306</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19318r307"></a><span 
class="larm-0500">307</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19319r308"></a><span 
class="larm-0500">308</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x043C;&#x0435;&#x043D;&#x044C;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19320r309"></a><span 
class="larm-0500">309</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19321r310"></a><span 
class="larm-0500">310</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19322r311"></a><span 
class="larm-0500">311</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x0440;&#x0435;&#x0449;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0435;&#x0441;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0447;&#x0438;&#x0442;&#x0430;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0441;&#x043B;&#x0435;&#x0434;&#x043D;&#x0438;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19323r312"></a><span 
class="larm-0500">312</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ResetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19324r313"></a><span 
class="larm-0500">313</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0433;&#x0440;&#x0430;&#x043D;&#x0438;&#x0446;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19325r314"></a><span 
class="larm-0500">314</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19326r315"></a><span 
class="larm-0500">315</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19327r316"></a><span 
class="larm-0500">316</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19328r317"></a><span 
class="larm-0500">317</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19329r318"></a><span 
class="larm-0500">318</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19330r319"></a><span 
class="larm-0500">319</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19331r320"></a><span 
class="larm-0500">320</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19332r321"></a><span 
class="larm-0500">321</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Error</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">function</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForMultipleObjects</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">executor</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19333r322"></a><span 
class="larm-0500">322</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">xA</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19334r323"></a><span 
class="larm-0500">323</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19335r324"></a><span 
class="larm-0500">324</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19336r325"></a><span 
class="larm-0500">325</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19337r326"></a><span 
class="larm-0500">326</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19338r327"></a><span 
class="larm-0500">327</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19339r328"></a><span 
class="larm-0500">328</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19340r329"></a><span 
class="larm-0500">329</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19341r330"></a><span 
class="larm-0500">330</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19342r331"></a><span 
class="larm-0500">331</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19343r332"></a><span 
class="larm-0500">332</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19344r333"></a><span 
class="larm-0500">333</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messageIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19345r334"></a><span 
class="larm-0500">334</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19346r335"></a><span 
class="larm-0500">335</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x0430;&#x0441;&#x0441;&#x0438;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19347r336"></a><span 
class="larm-0500">336</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerHandlers</span><span 
class="lass-0900">[2];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19348r337"></a><span 
class="larm-0500">337</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerHandlers</span><span 
class="lass-0900">[0]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19349r338"></a><span 
class="larm-0500">338</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerHandlers</span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19350r339"></a><span 
class="larm-0500">339</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19351r340"></a><span 
class="larm-0500">340</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19352r341"></a><span 
class="larm-0500">341</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">analyzeEvent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForMultipleObjects</span><span 
class="lass-0900">(2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerHandlers</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19353r342"></a><span 
class="larm-0500">342</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">switch</span><span 
class="lass-0900">(</span><span 
class="lass-0900">analyzeEvent</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19354r343"></a><span 
class="larm-0500">343</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WAIT_OBJECT_0</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19355r344"></a><span 
class="larm-0500">344</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19356r345"></a><span 
class="larm-0500">345</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19357r346"></a><span 
class="larm-0500">346</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19358r347"></a><span 
class="larm-0500">347</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19359r348"></a><span 
class="larm-0500">348</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WAIT_OBJECT_0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19360r349"></a><span 
class="larm-0500">349</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19361r350"></a><span 
class="larm-0500">350</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19362r351"></a><span 
class="larm-0500">351</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">messageIndex</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19363r352"></a><span 
class="larm-0500">352</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19364r353"></a><span 
class="larm-0500">353</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19365r354"></a><span 
class="larm-0500">354</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19366r355"></a><span 
class="larm-0500">355</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sprintf_s</span><span 
class="lass-0900">((</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messageIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19367r356"></a><span 
class="larm-0500">356</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19368r357"></a><span 
class="larm-0500">357</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Put</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">data</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">\".\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19369r358"></a><span 
class="larm-0500">358</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19370r359"></a><span 
class="larm-0500">359</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x0440;&#x0435;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0430;&#x0432;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043D;&#x044F;&#x0442;&#x043E;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19371r360"></a><span 
class="larm-0500">360</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19372r361"></a><span 
class="larm-0500">361</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19373r362"></a><span 
class="larm-0500">362</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19374r363"></a><span 
class="larm-0500">363</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19375r364"></a><span 
class="larm-0500">364</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Error</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">function</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForMultipleObjects</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">executor</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19376r365"></a><span 
class="larm-0500">365</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">xA</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19377r366"></a><span 
class="larm-0500">366</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19378r367"></a><span 
class="larm-0500">367</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19379r368"></a><span 
class="larm-0500">368</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19380r369"></a><span 
class="larm-0500">369</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19381r370"></a><span 
class="larm-0500">370</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19382r371"></a><span 
class="larm-0500">371</span></span><span 
class="lass-0900">}</span>
   </div>
                                                                                               
                                                                                               
<!--l. 572--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0435;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F; &#x0437;&#x0430;&#x0434;&#x0430;&#x0447;&#x0438;:
<!--l. 574--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-1938313"></a>
                                                                                               
                                                                                               
<!--l. 576--><p class="noindent" ><img 
src="../images/p2_1.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.13: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-1938313 -->
                                                                                               
                                                                                               
<!--l. 580--><p class="indent" >   </div><hr class="endfigure">
<!--l. 582--><p class="indent" >   &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0442;&#x043E;&#x0433;&#x043E;, &#x043A;&#x0430;&#x043A; &#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C; &#x043F;&#x043E;&#x043B;&#x043E;&#x0436;&#x0438;&#x043B; &#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435; &#x0432; &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0443;&#x044E; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;, &#x043D;&#x0430;&#x0447;&#x0430;&#x043B;&#x043E;&#x0441;&#x044C; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044F; &#x0432;&#x0441;&#x0435;&#x043C;&#x0438;
&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;&#x043C;&#x0438;. &#x0422;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0442;&#x043E;&#x0433;&#x043E;, &#x043A;&#x0430;&#x043A; &#x0432;&#x0441;&#x0435; &#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438; &#x043F;&#x0440;&#x043E;&#x0447;&#x0438;&#x0442;&#x0430;&#x043B;&#x0438; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x0433;&#x0435;&#x043D;&#x0435;&#x0440;&#x0438;&#x0440;&#x0443;&#x044E;&#x0442;&#x0441;&#x044F; &#x0441;&#x043B;&#x0435;&#x0434;&#x0443;&#x044E;&#x0449;&#x0438;&#x0435;.
<h5 class="subsubsectionHead"><a 
 id="x1-200002"></a>2. &#x0418;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435; &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x043E;&#x0439; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438; &#x0438; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x0438;&#x0445; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432; &#x0434;&#x043B;&#x044F; &#x0440;&#x0435;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F; &#x0437;&#x0430;&#x0434;&#x0430;&#x0447;&#x0438;</h5>
<!--l. 586--><p class="noindent" >&#x0412; &#x0434;&#x0430;&#x043D;&#x043D;&#x043E;&#x0439; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0435; &#x0433;&#x043B;&#x0430;&#x0432;&#x043D;&#x044B;&#x0439; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A; &#x0438; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;-&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C; &#x0431;&#x0443;&#x0434;&#x0443;&#x0442; &#x043F;&#x0440;&#x0438;&#x043D;&#x0430;&#x0434;&#x043B;&#x0435;&#x0436;&#x0430;&#x0442;&#x044C; &#x043E;&#x0434;&#x043D;&#x043E;&#x043C;&#x0443; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0443;, &#x0430; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0438;-&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438;
&#x0440;&#x0430;&#x0437;&#x043D;&#x044B;&#x043C;. &#x041A;&#x0430;&#x0436;&#x0434;&#x043E;&#x043C;&#x0443; &#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044E; &#x0438; &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x043E;&#x0439; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438; &#x0442;&#x0435;&#x043F;&#x0435;&#x0440;&#x044C; &#x043F;&#x0440;&#x0438;&#x043F;&#x0438;&#x0441;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0443;&#x043D;&#x0438;&#x043A;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0435; &#x0438;&#x043C;&#x044F;, &#x0434;&#x043B;&#x044F; &#x0442;&#x043E;&#x0433;&#x043E; &#x0447;&#x0442;&#x043E;&#x0431;&#x044B; &#x043A; &#x043D;&#x0438;&#x043C;
&#x043C;&#x043E;&#x0436;&#x043D;&#x043E; &#x0431;&#x044B;&#x043B;&#x043E; &#x043E;&#x0431;&#x0440;&#x0430;&#x0442;&#x0438;&#x0442;&#x044C;&#x0441;&#x044F; &#x0438;&#x0437; &#x0434;&#x0440;&#x0443;&#x0433;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;.
<!--l. 588--><p class="indent" >   &#x0420;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;-&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;:
   <!--l. 590--><div class="lstinputlisting">
<a 
 id="x1-20001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">fstream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">vector</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0447;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Configuration</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x0438;&#x043B;&#x043B;&#x0438;&#x0441;&#x0435;&#x043A;&#x0443;&#x043D;&#x0434;&#x0430;&#x0445;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x0438;&#x043B;&#x043B;&#x0438;&#x0441;&#x0435;&#x043A;&#x0443;&#x043D;&#x0434;&#x0430;&#x0445;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0412;&#x0440;&#x0435;&#x043C;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0436;&#x0438;&#x0437;&#x043D;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CONFIG_PATH</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">config</span><span 
class="lass-0900">.</span><span 
class="lass-0900">ini</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__int64</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TIMER_CONSTANT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">10000000;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_MESSAGE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">q</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SHARE_MEMORY_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$SharedMemory$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OFFSET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">constexpr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">READER_PROCESS_PATH</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">p2</span><span 
class="lass-0900">.2.</span><span 
class="lass-0900">r</span><span 
class="lass-0900">.</span><span 
class="lass-0900">exe</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CAN_READ_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventCanRead$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CAN_WRITE_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventCanWrite$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CHANGE_COUNT_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventChangeCount$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_EXIT_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventExit$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_ALL_READ_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventAllRead$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0413;&#x043B;&#x043E;&#x0431;&#x0430;&#x043B;&#x044C;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Configuration</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041C;&#x0430;&#x0441;&#x0441;&#x0438;&#x0432;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0430;&#x0449;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">vector</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x0430;&#x044F;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">bool</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043E;&#x0431;&#x0440;&#x0430;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x043A;&#x0430;&#x0437;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043E;&#x0431;&#x0440;&#x0430;&#x0436;&#x0430;&#x0435;&#x043C;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">setConfig</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Configuration</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">parametr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">istream</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0438;&#x0440;&#x0443;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x0439;&#x043C;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAndStartWaitableTimer</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">unsigned</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">secondsCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAllThreads</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Configuration</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadTimeManagerExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[])</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0437;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">configFilename</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">configFilename</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">?</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CONFIG_PATH</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">setConfig</span><span 
class="lass-0900">(</span><span 
class="lass-0900">configFilename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAllThreads</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043E;&#x0431;&#x0440;&#x0430;&#x0436;&#x0430;&#x0435;&#x043C;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateFileMapping</span><span 
class="lass-0900">(</span><span 
class="lass-0900">INVALID_HANDLE_VALUE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PAGE_READWRITE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SHARE_MEMORY_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shared</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x7</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043E;&#x0431;&#x0440;&#x0430;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0441;&#x0442;&#x0440;&#x0430;&#x043D;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MapViewOfFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FILE_MAP_WRITE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20085r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20086r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">view</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">map</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20087r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x8</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20088r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20089r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20090r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">((</span><span 
class="lasx-0900">int</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20091r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">(((</span><span 
class="lasx-0900">int</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20092r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20093r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20094r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CAN_READ_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20095r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CAN_WRITE_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20096r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_ALL_READ_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20097r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CHANGE_COUNT_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20098r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_EXIT_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20099r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20100r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">event</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20101r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x9</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20102r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20103r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20104r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0430;&#x0440;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20105r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20106r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ResumeThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">current</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20107r106"></a><span 
class="larm-0500">106</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20108r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20109r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForMultipleObjects</span><span 
class="lass-0900">(</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">.</span><span 
class="lass-0900">size</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;(</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">[0])</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TRUE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20110r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20111r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20112r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20113r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">current</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20114r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20115r114"></a><span 
class="larm-0500">114</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20116r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20117r116"></a><span 
class="larm-0500">116</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20118r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20119r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20120r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20121r120"></a><span 
class="larm-0500">120</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20122r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0434;&#x0430;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20123r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">UnmapViewOfFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20124r123"></a><span 
class="larm-0500">123</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20125r124"></a><span 
class="larm-0500">124</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20126r125"></a><span 
class="larm-0500">125</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20127r126"></a><span 
class="larm-0500">126</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Press</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">Enter</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20128r127"></a><span 
class="larm-0500">127</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getchar</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20129r128"></a><span 
class="larm-0500">128</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20130r129"></a><span 
class="larm-0500">129</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20131r130"></a><span 
class="larm-0500">130</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20132r131"></a><span 
class="larm-0500">131</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20133r132"></a><span 
class="larm-0500">132</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">parametr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">istream</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20134r133"></a><span 
class="larm-0500">133</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20135r134"></a><span 
class="larm-0500">134</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20136r135"></a><span 
class="larm-0500">135</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">line</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20137r136"></a><span 
class="larm-0500">136</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20138r137"></a><span 
class="larm-0500">137</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">.</span><span 
class="lass-0900">eof</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20139r138"></a><span 
class="larm-0500">138</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">throw</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">exception</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20140r139"></a><span 
class="larm-0500">139</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20141r140"></a><span 
class="larm-0500">140</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getline</span><span 
class="lass-0900">(</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">line</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20142r141"></a><span 
class="larm-0500">141</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">parametr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">stoi</span><span 
class="lass-0900">(</span><span 
class="lass-0900">line</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20143r142"></a><span 
class="larm-0500">142</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20144r143"></a><span 
class="larm-0500">143</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20145r144"></a><span 
class="larm-0500">144</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">setConfig</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">configFilename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Configuration</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lass-0900">&#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20146r145"></a><span 
class="larm-0500">145</span></span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20147r146"></a><span 
class="larm-0500">146</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20148r147"></a><span 
class="larm-0500">147</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">ifstream</span><span 
class="lass-0900">(</span><span 
class="lass-0900">configFilename</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20149r148"></a><span 
class="larm-0500">148</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">.</span><span 
class="lass-0900">is_open</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20150r149"></a><span 
class="larm-0500">149</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20151r150"></a><span 
class="larm-0500">150</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20152r151"></a><span 
class="larm-0500">151</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20153r152"></a><span 
class="larm-0500">152</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20154r153"></a><span 
class="larm-0500">153</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20155r154"></a><span 
class="larm-0500">154</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">line</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20156r155"></a><span 
class="larm-0500">155</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20157r156"></a><span 
class="larm-0500">156</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20158r157"></a><span 
class="larm-0500">157</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20159r158"></a><span 
class="larm-0500">158</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20160r159"></a><span 
class="larm-0500">159</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20161r160"></a><span 
class="larm-0500">160</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20162r161"></a><span 
class="larm-0500">161</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20163r162"></a><span 
class="larm-0500">162</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20164r163"></a><span 
class="larm-0500">163</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">catch</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">exception</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exception</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20165r164"></a><span 
class="larm-0500">164</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">parse</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20166r165"></a><span 
class="larm-0500">165</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">.</span><span 
class="lass-0900">close</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20167r166"></a><span 
class="larm-0500">166</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20168r167"></a><span 
class="larm-0500">167</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20169r168"></a><span 
class="larm-0500">168</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20170r169"></a><span 
class="larm-0500">169</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x043E;&#x0432;&#x0435;&#x0440;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0441;&#x0442;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x043D;&#x044B;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20171r170"></a><span 
class="larm-0500">170</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20172r171"></a><span 
class="larm-0500">171</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20173r172"></a><span 
class="larm-0500">172</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20174r173"></a><span 
class="larm-0500">173</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20175r174"></a><span 
class="larm-0500">174</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20176r175"></a><span 
class="larm-0500">175</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Wrong</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">values</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20177r176"></a><span 
class="larm-0500">176</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">.</span><span 
class="lass-0900">close</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20178r177"></a><span 
class="larm-0500">177</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20179r178"></a><span 
class="larm-0500">178</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20180r179"></a><span 
class="larm-0500">179</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20181r180"></a><span 
class="larm-0500">180</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">.</span><span 
class="lass-0900">close</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20182r181"></a><span 
class="larm-0500">181</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20183r182"></a><span 
class="larm-0500">182</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20184r183"></a><span 
class="larm-0500">183</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Readers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">count</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20185r184"></a><span 
class="larm-0500">184</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Readers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delay</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20186r185"></a><span 
class="larm-0500">185</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">count</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20187r186"></a><span 
class="larm-0500">186</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delay</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20188r187"></a><span 
class="larm-0500">187</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Queue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">size</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20189r188"></a><span 
class="larm-0500">188</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">live</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20190r189"></a><span 
class="larm-0500">189</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20191r190"></a><span 
class="larm-0500">190</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20192r191"></a><span 
class="larm-0500">191</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAllThreads</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Configuration</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20193r192"></a><span 
class="larm-0500">192</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">STARTUPINFO</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startupInformation</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20194r193"></a><span 
class="larm-0500">193</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">startupInformation</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">startupInformation</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20195r194"></a><span 
class="larm-0500">194</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startupInformation</span><span 
class="lass-0900">.</span><span 
class="lass-0900">cb</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">startupInformation</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20196r195"></a><span 
class="larm-0500">195</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20197r196"></a><span 
class="larm-0500">196</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PROCESS_INFORMATION</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">processInformation</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20198r197"></a><span 
class="larm-0500">197</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20199r198"></a><span 
class="larm-0500">198</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerPath</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20200r199"></a><span 
class="larm-0500">199</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20201r200"></a><span 
class="larm-0500">200</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">readerIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20202r201"></a><span 
class="larm-0500">201</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerPath</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">(</span><span 
class="lass-0900">READER_PROCESS_PATH</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">to_string</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readerIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20203r202"></a><span 
class="larm-0500">202</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20204r203"></a><span 
class="larm-0500">203</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BOOL</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateProcess</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">_strdup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readerPath</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FALSE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CREATE_NEW_CONSOLE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">startupInformation</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">processInformation</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20205r204"></a><span 
class="larm-0500">204</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20206r205"></a><span 
class="larm-0500">205</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20207r206"></a><span 
class="larm-0500">206</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x5</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20208r207"></a><span 
class="larm-0500">207</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20209r208"></a><span 
class="larm-0500">208</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20210r209"></a><span 
class="larm-0500">209</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20211r210"></a><span 
class="larm-0500">210</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Readers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">have</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20212r211"></a><span 
class="larm-0500">211</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20213r212"></a><span 
class="larm-0500">212</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20214r213"></a><span 
class="larm-0500">213</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20215r214"></a><span 
class="larm-0500">214</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">writerIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20216r215"></a><span 
class="larm-0500">215</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writerIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CREATE_SUSPENDED</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20217r216"></a><span 
class="larm-0500">216</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20218r217"></a><span 
class="larm-0500">217</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20219r218"></a><span 
class="larm-0500">218</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x5</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20220r219"></a><span 
class="larm-0500">219</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20221r220"></a><span 
class="larm-0500">220</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20222r221"></a><span 
class="larm-0500">221</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">.</span><span 
class="lass-0900">push_back</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20223r222"></a><span 
class="larm-0500">222</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20224r223"></a><span 
class="larm-0500">223</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20225r224"></a><span 
class="larm-0500">224</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">have</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20226r225"></a><span 
class="larm-0500">225</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20227r226"></a><span 
class="larm-0500">226</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20228r227"></a><span 
class="larm-0500">227</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20229r228"></a><span 
class="larm-0500">228</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timeManager</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadTimeManagerExecutor</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CREATE_SUSPENDED</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20230r229"></a><span 
class="larm-0500">229</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">timeManager</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20231r230"></a><span 
class="larm-0500">230</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">manager</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20232r231"></a><span 
class="larm-0500">231</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x6</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20233r232"></a><span 
class="larm-0500">232</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20234r233"></a><span 
class="larm-0500">233</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20235r234"></a><span 
class="larm-0500">234</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">.</span><span 
class="lass-0900">push_back</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timeManager</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20236r235"></a><span 
class="larm-0500">235</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20237r236"></a><span 
class="larm-0500">236</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">manager</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20238r237"></a><span 
class="larm-0500">237</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20239r238"></a><span 
class="larm-0500">238</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20240r239"></a><span 
class="larm-0500">239</span></span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAndStartWaitableTimer</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">unsigned</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">secondsCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x0439;&#x043C;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20241r240"></a><span 
class="larm-0500">240</span></span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20242r241"></a><span 
class="larm-0500">241</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0412;&#x044B;&#x0447;&#x0438;&#x0441;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0445;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x0439;&#x043C;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20243r242"></a><span 
class="larm-0500">242</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__int64</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">endTimeValue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TIMER_CONSTANT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">secondsCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20244r243"></a><span 
class="larm-0500">243</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LARGE_INTEGER</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">endTimeStruct</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20245r244"></a><span 
class="larm-0500">244</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">endTimeStruct</span><span 
class="lass-0900">.</span><span 
class="lass-0900">LowPart</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">(</span><span 
class="lass-0900">endTimeValue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">xFFFFFFFF</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20246r245"></a><span 
class="larm-0500">245</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">endTimeStruct</span><span 
class="lass-0900">.</span><span 
class="lass-0900">HighPart</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LONG</span><span 
class="lass-0900">(</span><span 
class="lass-0900">endTimeValue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x20</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20247r246"></a><span 
class="larm-0500">246</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20248r247"></a><span 
class="larm-0500">247</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x0439;&#x043C;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20249r248"></a><span 
class="larm-0500">248</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateWaitableTimer</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20250r249"></a><span 
class="larm-0500">249</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetWaitableTimer</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">endTimeStruct</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20251r250"></a><span 
class="larm-0500">250</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20252r251"></a><span 
class="larm-0500">251</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20253r252"></a><span 
class="larm-0500">252</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20254r253"></a><span 
class="larm-0500">253</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadTimeManagerExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20255r254"></a><span 
class="larm-0500">254</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20256r255"></a><span 
class="larm-0500">255</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20257r256"></a><span 
class="larm-0500">256</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20258r257"></a><span 
class="larm-0500">257</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0415;&#x0441;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0440;&#x0435;&#x043C;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0436;&#x0438;&#x0437;&#x043D;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x0440;&#x0438;&#x0446;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0432;&#x0435;&#x0434;&#x0435;&#x043D;&#x043D;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20259r258"></a><span 
class="larm-0500">258</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20260r259"></a><span 
class="larm-0500">259</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20261r260"></a><span 
class="larm-0500">260</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">clear</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20262r261"></a><span 
class="larm-0500">261</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getline</span><span 
class="lass-0900">(</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cin</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20263r262"></a><span 
class="larm-0500">262</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20264r263"></a><span 
class="larm-0500">263</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_MESSAGE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20265r264"></a><span 
class="larm-0500">264</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20266r265"></a><span 
class="larm-0500">265</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20267r266"></a><span 
class="larm-0500">266</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20268r267"></a><span 
class="larm-0500">267</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20269r268"></a><span 
class="larm-0500">268</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0415;&#x0441;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0440;&#x0435;&#x043C;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0436;&#x0438;&#x0437;&#x043D;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043B;&#x043E;&#x0436;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x0439;&#x043C;&#x0435;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20270r269"></a><span 
class="larm-0500">269</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20271r270"></a><span 
class="larm-0500">270</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAndStartWaitableTimer</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20272r271"></a><span 
class="larm-0500">271</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20273r272"></a><span 
class="larm-0500">272</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20274r273"></a><span 
class="larm-0500">273</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20275r274"></a><span 
class="larm-0500">274</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20276r275"></a><span 
class="larm-0500">275</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20277r276"></a><span 
class="larm-0500">276</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20278r277"></a><span 
class="larm-0500">277</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">manager</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20279r278"></a><span 
class="larm-0500">278</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20280r279"></a><span 
class="larm-0500">279</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20281r280"></a><span 
class="larm-0500">280</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20282r281"></a><span 
class="larm-0500">281</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20283r282"></a><span 
class="larm-0500">282</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20284r283"></a><span 
class="larm-0500">283</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20285r284"></a><span 
class="larm-0500">284</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messageIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20286r285"></a><span 
class="larm-0500">285</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20287r286"></a><span 
class="larm-0500">286</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x0430;&#x0441;&#x0441;&#x0438;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20288r287"></a><span 
class="larm-0500">287</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerHandlers</span><span 
class="lass-0900">[2];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20289r288"></a><span 
class="larm-0500">288</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerHandlers</span><span 
class="lass-0900">[0]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20290r289"></a><span 
class="larm-0500">289</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerHandlers</span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20291r290"></a><span 
class="larm-0500">290</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20292r291"></a><span 
class="larm-0500">291</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20293r292"></a><span 
class="larm-0500">292</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">analyzeEvent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForMultipleObjects</span><span 
class="lass-0900">(2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerHandlers</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20294r293"></a><span 
class="larm-0500">293</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">switch</span><span 
class="lass-0900">(</span><span 
class="lass-0900">analyzeEvent</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20295r294"></a><span 
class="larm-0500">294</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WAIT_OBJECT_0</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20296r295"></a><span 
class="larm-0500">295</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20297r296"></a><span 
class="larm-0500">296</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20298r297"></a><span 
class="larm-0500">297</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20299r298"></a><span 
class="larm-0500">298</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20300r299"></a><span 
class="larm-0500">299</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">WAIT_OBJECT_0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20301r300"></a><span 
class="larm-0500">300</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20302r301"></a><span 
class="larm-0500">301</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">messageIndex</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20303r302"></a><span 
class="larm-0500">302</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20304r303"></a><span 
class="larm-0500">303</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20305r304"></a><span 
class="larm-0500">304</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sprintf_s</span><span 
class="lass-0900">(((</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OFFSET</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messageIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20306r305"></a><span 
class="larm-0500">305</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20307r306"></a><span 
class="larm-0500">306</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Put</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">data</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">\".\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">((</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OFFSET</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20308r307"></a><span 
class="larm-0500">307</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20309r308"></a><span 
class="larm-0500">308</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20310r309"></a><span 
class="larm-0500">309</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20311r310"></a><span 
class="larm-0500">310</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">((</span><span 
class="lasx-0900">int</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20312r311"></a><span 
class="larm-0500">311</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">(((</span><span 
class="lasx-0900">int</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20313r312"></a><span 
class="larm-0500">312</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20314r313"></a><span 
class="larm-0500">313</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20315r314"></a><span 
class="larm-0500">314</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20316r315"></a><span 
class="larm-0500">315</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x0440;&#x0435;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0430;&#x0432;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043D;&#x044F;&#x0442;&#x043E;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20317r316"></a><span 
class="larm-0500">316</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20318r317"></a><span 
class="larm-0500">317</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20319r318"></a><span 
class="larm-0500">318</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20320r319"></a><span 
class="larm-0500">319</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20321r320"></a><span 
class="larm-0500">320</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Error</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">function</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForMultipleObjects</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">executor</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20322r321"></a><span 
class="larm-0500">321</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">xA</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20323r322"></a><span 
class="larm-0500">322</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20324r323"></a><span 
class="larm-0500">323</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20325r324"></a><span 
class="larm-0500">324</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20326r325"></a><span 
class="larm-0500">325</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20327r326"></a><span 
class="larm-0500">326</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20328r327"></a><span 
class="larm-0500">327</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 592--><p class="indent" >   &#x0420;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;-&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;:
   <!--l. 594--><div class="lstinputlisting">
<a 
 id="x1-20329"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20330r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20331r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20332r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20333r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20334r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20335r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OFFSET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20336r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20337r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SHARE_MEMORY_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$SharedMemory$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20338r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041D;&#x0430;&#x0437;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20339r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CAN_READ_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventCanRead$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20340r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CAN_WRITE_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventCanWrite$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20341r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CHANGE_COUNT_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventChangeCount$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20342r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_EXIT_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventExit$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20343r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_ALL_READ_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventAllRead$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20344r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20345r16"></a><span 
class="larm-0500">16</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20346r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20347r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20348r19"></a><span 
class="larm-0500">19</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[])</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20349r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20350r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Wrong</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">count</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">of</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">arguments</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20351r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20352r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20353r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20354r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0440;&#x0433;&#x0443;&#x043C;&#x0435;&#x043D;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043C;&#x0430;&#x043D;&#x0434;&#x043D;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20355r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerId</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">stoi</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20356r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20357r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerId</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">started</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20358r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20359r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20360r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OpenEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">EVENT_ALL_ACCESS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CAN_READ_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20361r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OpenEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">EVENT_ALL_ACCESS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CAN_WRITE_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20362r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OpenEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">EVENT_ALL_ACCESS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_ALL_READ_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20363r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OpenEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">EVENT_ALL_ACCESS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CHANGE_COUNT_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20364r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OpenEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">EVENT_ALL_ACCESS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_EXIT_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20365r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20366r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">event</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20367r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20368r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20369r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20370r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043E;&#x0431;&#x0440;&#x0430;&#x0436;&#x0430;&#x0435;&#x043C;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20371r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OpenFileMapping</span><span 
class="lass-0900">(</span><span 
class="lass-0900">FILE_MAP_ALL_ACCESS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SHARE_MEMORY_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20372r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20373r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shared</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20374r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20375r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20376r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20377r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersMap</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MapViewOfFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FILE_MAP_ALL_ACCESS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20378r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">readersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20379r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">view</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">map</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20380r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20381r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20382r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20383r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x0430;&#x0441;&#x0441;&#x0438;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20384r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerHandlers</span><span 
class="lass-0900">[2];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20385r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerHandlers</span><span 
class="lass-0900">[0]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20386r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerHandlers</span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20387r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20388r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20389r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0447;&#x0438;&#x0442;&#x0430;&#x044E;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20390r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20391r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0437;&#x043D;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0448;&#x043B;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0433;&#x0440;&#x0430;&#x043D;&#x0438;&#x0446;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20392r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20393r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20394r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">(((</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20395r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">(((</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20396r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0415;&#x0441;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0448;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20397r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ResetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20398r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x0440;&#x0435;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20399r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20400r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20401r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20402r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20403r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">analyzeEvent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForMultipleObjects</span><span 
class="lass-0900">(2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerHandlers</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20404r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">switch</span><span 
class="lass-0900">(</span><span 
class="lass-0900">analyzeEvent</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20405r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WAIT_OBJECT_0</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20406r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20407r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerId</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20408r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">goto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20409r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20410r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">WAIT_OBJECT_0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20411r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20412r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Get</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">data</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">\".\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerId</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">((</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OFFSET</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20413r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20414r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x043C;&#x0435;&#x043D;&#x044C;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20415r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20416r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20417r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x043C;&#x0435;&#x043D;&#x044C;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20418r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">((</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20419r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">((</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20420r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x0440;&#x0435;&#x0449;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0435;&#x0441;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0447;&#x0438;&#x0442;&#x0430;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0441;&#x043B;&#x0435;&#x0434;&#x043D;&#x0438;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20421r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ResetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20422r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0433;&#x0440;&#x0430;&#x043D;&#x0438;&#x0446;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20423r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20424r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20425r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20426r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20427r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20428r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20429r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20430r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Error</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">function</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForMultipleObjects</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">executor</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20431r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x5</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20432r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20433r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20434r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20435r106"></a><span 
class="larm-0500">106</span></span><span 
class="lass-0900">exit</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20436r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20437r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20438r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20439r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20440r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20441r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20442r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20443r114"></a><span 
class="larm-0500">114</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0434;&#x0430;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20444r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">UnmapViewOfFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20445r116"></a><span 
class="larm-0500">116</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20446r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20447r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20448r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Press</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">Enter</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20449r120"></a><span 
class="larm-0500">120</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getchar</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20450r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20451r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20452r123"></a><span 
class="larm-0500">123</span></span><span 
class="lass-0900">}</span>
   </div>
                                                                                               
                                                                                               
<!--l. 598--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0434;&#x043B;&#x044F; &#x0442;&#x0440;&#x0435;&#x0445; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432; &#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439; &#x0438; &#x0442;&#x0440;&#x0435;&#x0445; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432; &#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;:
<!--l. 600--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-2045314"></a>
                                                                                               
                                                                                               
<!--l. 602--><p class="noindent" ><img 
src="../images/p2_2.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.14: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-2045314 -->
                                                                                               
                                                                                               
<!--l. 606--><p class="indent" >   </div><hr class="endfigure">
<!--l. 608--><p class="indent" >   &#x0413;&#x043B;&#x0430;&#x0432;&#x043D;&#x044B;&#x0439; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A; &#x0436;&#x0434;&#x0435;&#x0442; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435; &#x0432;&#x0441;&#x0435;&#x0445; &#x0433;&#x043B;&#x0430;&#x0432;&#x043D;&#x044B;&#x0445; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;. &#x0422;.&#x043A;. &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0438;-&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438;, &#x043F;&#x0440;&#x0438;&#x043D;&#x0430;&#x0434;&#x043B;&#x0435;&#x0436;&#x0430;&#x0449;&#x0438;&#x0435; &#x0440;&#x0430;&#x0437;&#x043D;&#x044B;&#x043C;
&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;&#x043C;, &#x0438;&#x043C;&#x0435;&#x044E;&#x0442; &#x043A;&#x0430;&#x0436;&#x0434;&#x044B;&#x0439; &#x0441;&#x0432;&#x043E;&#x044E; &#x043A;&#x043E;&#x043D;&#x0441;&#x043E;&#x043B;&#x044C;, &#x0442;&#x043E; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x043E;&#x043A;&#x043E;&#x043D;&#x0447;&#x0430;&#x043D;&#x0438;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043E;&#x043D;&#x0438; &#x0441;&#x0440;&#x0430;&#x0437;&#x0443; &#x043D;&#x0435; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x044E;&#x0442;&#x0441;&#x044F;, &#x0430; &#x0436;&#x0434;&#x0443;&#x0442; &#x0432;&#x0432;&#x043E;&#x0434;&#x0430; &#x043B;&#x044E;&#x0431;&#x043E;&#x0439;
&#x043A;&#x043B;&#x0430;&#x0432;&#x0438;&#x0448;&#x0438;. &#x041A;&#x0430;&#x0436;&#x0434;&#x044B;&#x0439; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;-&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C; &#x0443;&#x0441;&#x043F;&#x0435;&#x0432;&#x0430;&#x0435;&#x0442; &#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x044C; &#x043A;&#x0430;&#x0436;&#x0434;&#x043E;&#x0435; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;.
<h5 class="subsubsectionHead"><a 
 id="x1-210002"></a>3. &#x041C;&#x043E;&#x0434;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0446;&#x0438;&#x044F; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B; &#x0434;&#x043B;&#x044F; &#x0442;&#x043E;&#x0433;&#x043E;, &#x0447;&#x0442;&#x043E;&#x0431;&#x044B; &#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438; &#x043D;&#x0435; &#x0438;&#x043C;&#x0435;&#x043B;&#x0438; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0430; &#x043A; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438; &#x043F;&#x043E; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438;</h5>
<!--l. 612--><p class="noindent" >&#x0414;&#x043B;&#x044F; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x0431;&#x0443;&#x0434;&#x0435;&#x043C; &#x0445;&#x0440;&#x0430;&#x043D;&#x0438;&#x0442;&#x044C; &#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A;&#x0438; &#x0432; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0435; &#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;. &#x041F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0438;-&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438; &#x0432;&#x043C;&#x0435;&#x0441;&#x0442;&#x043E; &#x0434;&#x0435;&#x043A;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0442;&#x0430; &#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x044F;&#x0442;
&#x043E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x0435; &#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0439;, &#x043F;&#x043E; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x043C; &#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C; &#x0434;&#x0435;&#x043A;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0442;&#x0438;&#x0440;&#x0443;&#x0435;&#x0442; &#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A;.
<!--l. 614--><p class="indent" >   &#x041A;&#x043E;&#x0433;&#x0434;&#x0430; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435; &#x0432; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0430;&#x043D;&#x043E; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x043C;-&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x043C;, &#x043A;&#x0430;&#x0436;&#x0434;&#x044B;&#x0439; &#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x0442; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435; &#x0438;
&#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x0430;&#x0432;&#x043B;&#x0438;&#x0432;&#x0430;&#x0435;&#x0442; &#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435; eventCount, &#x043F;&#x043E; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x043C;&#x0443; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;-&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C; &#x0434;&#x0435;&#x043A;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0442;&#x0438;&#x0440;&#x0443;&#x0435;&#x0442; &#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435; &#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430;.
&#x041A;&#x043E;&#x0433;&#x0434;&#x0430; &#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430; &#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x0438;&#x0442;&#x0441;&#x044F; &#x0440;&#x0430;&#x0432;&#x043D;&#x044B;&#x043C; &#x043D;&#x0443;&#x043B;&#x044E;, &#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x0430;&#x0432;&#x043B;&#x0438;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435; &#8211; &#x0432;&#x0441;&#x0435; &#x043F;&#x0440;&#x043E;&#x0447;&#x0438;&#x0442;&#x0430;&#x043B;&#x0438;
&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;.
<!--l. 616--><p class="indent" >   &#x0420;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;-&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;:
   <!--l. 618--><div class="lstinputlisting">
<a 
 id="x1-21001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">fstream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">vector</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0447;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Configuration</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x0438;&#x043B;&#x043B;&#x0438;&#x0441;&#x0435;&#x043A;&#x0443;&#x043D;&#x0434;&#x0430;&#x0445;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x0438;&#x043B;&#x043B;&#x0438;&#x0441;&#x0435;&#x043A;&#x0443;&#x043D;&#x0434;&#x0430;&#x0445;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0412;&#x0440;&#x0435;&#x043C;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0436;&#x0438;&#x0437;&#x043D;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CONFIG_PATH</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">config</span><span 
class="lass-0900">.</span><span 
class="lass-0900">ini</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__int64</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TIMER_CONSTANT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">10000000;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_MESSAGE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">q</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SHARE_MEMORY_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$SharedMemory$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OFFSET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">constexpr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">READER_PROCESS_PATH</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">p2</span><span 
class="lass-0900">.3.</span><span 
class="lass-0900">r</span><span 
class="lass-0900">.</span><span 
class="lass-0900">exe</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CAN_READ_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventCanRead$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CAN_WRITE_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventCanWrite$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CHANGE_COUNT_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventChangeCount$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_COUNT_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventCount$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_EXIT_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventExit$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_ALL_READ_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventAllRead$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0413;&#x043B;&#x043E;&#x0431;&#x0430;&#x043B;&#x044C;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Configuration</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041C;&#x0430;&#x0441;&#x0441;&#x0438;&#x0432;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0430;&#x0449;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">vector</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x0430;&#x044F;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">bool</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersDontReadyToRead</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersAlreadyRead</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043E;&#x0431;&#x0440;&#x0430;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x043A;&#x0430;&#x0437;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043E;&#x0431;&#x0440;&#x0430;&#x0436;&#x0430;&#x0435;&#x043C;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">setConfig</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Configuration</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">parametr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">istream</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0438;&#x0440;&#x0443;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x0439;&#x043C;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAndStartWaitableTimer</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">unsigned</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">secondsCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAllThreads</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Configuration</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadTimeManagerExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[])</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0437;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">configFilename</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">configFilename</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">?</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CONFIG_PATH</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">setConfig</span><span 
class="lass-0900">(</span><span 
class="lass-0900">configFilename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAllThreads</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043E;&#x0431;&#x0440;&#x0430;&#x0436;&#x0430;&#x0435;&#x043C;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateFileMapping</span><span 
class="lass-0900">(</span><span 
class="lass-0900">INVALID_HANDLE_VALUE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PAGE_READWRITE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SHARE_MEMORY_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shared</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x7</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21085r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043E;&#x0431;&#x0440;&#x0430;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0441;&#x0442;&#x0440;&#x0430;&#x043D;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21086r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MapViewOfFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FILE_MAP_WRITE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21087r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21088r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">view</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">map</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21089r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x8</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21090r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21091r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21092r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">((</span><span 
class="lasx-0900">int</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21093r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">(((</span><span 
class="lasx-0900">int</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21094r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21095r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21096r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CAN_READ_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21097r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CAN_WRITE_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21098r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_ALL_READ_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21099r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CHANGE_COUNT_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21100r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_EXIT_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21101r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_COUNT_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21102r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21103r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">event</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21104r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x9</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21105r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21106r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21107r106"></a><span 
class="larm-0500">106</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0430;&#x0440;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21108r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21109r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ResumeThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">current</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21110r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21111r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21112r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForMultipleObjects</span><span 
class="lass-0900">(</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">.</span><span 
class="lass-0900">size</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;(</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">[0])</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TRUE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21113r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21114r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21115r114"></a><span 
class="larm-0500">114</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21116r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">current</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21117r116"></a><span 
class="larm-0500">116</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21118r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21119r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21120r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21121r120"></a><span 
class="larm-0500">120</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21122r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21123r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21124r123"></a><span 
class="larm-0500">123</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21125r124"></a><span 
class="larm-0500">124</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21126r125"></a><span 
class="larm-0500">125</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0434;&#x0430;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21127r126"></a><span 
class="larm-0500">126</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">UnmapViewOfFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21128r127"></a><span 
class="larm-0500">127</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21129r128"></a><span 
class="larm-0500">128</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21130r129"></a><span 
class="larm-0500">129</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21131r130"></a><span 
class="larm-0500">130</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Press</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">Enter</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21132r131"></a><span 
class="larm-0500">131</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getchar</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21133r132"></a><span 
class="larm-0500">132</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21134r133"></a><span 
class="larm-0500">133</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21135r134"></a><span 
class="larm-0500">134</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21136r135"></a><span 
class="larm-0500">135</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21137r136"></a><span 
class="larm-0500">136</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">parametr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">istream</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21138r137"></a><span 
class="larm-0500">137</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21139r138"></a><span 
class="larm-0500">138</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21140r139"></a><span 
class="larm-0500">139</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">line</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21141r140"></a><span 
class="larm-0500">140</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21142r141"></a><span 
class="larm-0500">141</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">.</span><span 
class="lass-0900">eof</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21143r142"></a><span 
class="larm-0500">142</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">throw</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">exception</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21144r143"></a><span 
class="larm-0500">143</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21145r144"></a><span 
class="larm-0500">144</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getline</span><span 
class="lass-0900">(</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">line</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21146r145"></a><span 
class="larm-0500">145</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">parametr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">stoi</span><span 
class="lass-0900">(</span><span 
class="lass-0900">line</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21147r146"></a><span 
class="larm-0500">146</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21148r147"></a><span 
class="larm-0500">147</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21149r148"></a><span 
class="larm-0500">148</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">setConfig</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">configFilename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Configuration</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lass-0900">&#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21150r149"></a><span 
class="larm-0500">149</span></span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21151r150"></a><span 
class="larm-0500">150</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21152r151"></a><span 
class="larm-0500">151</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">ifstream</span><span 
class="lass-0900">(</span><span 
class="lass-0900">configFilename</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21153r152"></a><span 
class="larm-0500">152</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">.</span><span 
class="lass-0900">is_open</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21154r153"></a><span 
class="larm-0500">153</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21155r154"></a><span 
class="larm-0500">154</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21156r155"></a><span 
class="larm-0500">155</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21157r156"></a><span 
class="larm-0500">156</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21158r157"></a><span 
class="larm-0500">157</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0444;&#x0438;&#x0433;&#x0443;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21159r158"></a><span 
class="larm-0500">158</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">line</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21160r159"></a><span 
class="larm-0500">159</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21161r160"></a><span 
class="larm-0500">160</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21162r161"></a><span 
class="larm-0500">161</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21163r162"></a><span 
class="larm-0500">162</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21164r163"></a><span 
class="larm-0500">163</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21165r164"></a><span 
class="larm-0500">164</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21166r165"></a><span 
class="larm-0500">165</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getConfigParam</span><span 
class="lass-0900">(&amp;(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21167r166"></a><span 
class="larm-0500">166</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21168r167"></a><span 
class="larm-0500">167</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">catch</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">exception</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exception</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21169r168"></a><span 
class="larm-0500">168</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">parse</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21170r169"></a><span 
class="larm-0500">169</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">.</span><span 
class="lass-0900">close</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21171r170"></a><span 
class="larm-0500">170</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21172r171"></a><span 
class="larm-0500">171</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21173r172"></a><span 
class="larm-0500">172</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21174r173"></a><span 
class="larm-0500">173</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x043E;&#x0432;&#x0435;&#x0440;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0441;&#x0442;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x043D;&#x044B;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21175r174"></a><span 
class="larm-0500">174</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21176r175"></a><span 
class="larm-0500">175</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21177r176"></a><span 
class="larm-0500">176</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21178r177"></a><span 
class="larm-0500">177</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21179r178"></a><span 
class="larm-0500">178</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21180r179"></a><span 
class="larm-0500">179</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Wrong</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">values</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21181r180"></a><span 
class="larm-0500">180</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">.</span><span 
class="lass-0900">close</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21182r181"></a><span 
class="larm-0500">181</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21183r182"></a><span 
class="larm-0500">182</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21184r183"></a><span 
class="larm-0500">183</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21185r184"></a><span 
class="larm-0500">184</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stream</span><span 
class="lass-0900">.</span><span 
class="lass-0900">close</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21186r185"></a><span 
class="larm-0500">185</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21187r186"></a><span 
class="larm-0500">186</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21188r187"></a><span 
class="larm-0500">187</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Readers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">count</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21189r188"></a><span 
class="larm-0500">188</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Readers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delay</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersDelay</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21190r189"></a><span 
class="larm-0500">189</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">count</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21191r190"></a><span 
class="larm-0500">190</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delay</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21192r191"></a><span 
class="larm-0500">191</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Queue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">size</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">queueSize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21193r192"></a><span 
class="larm-0500">192</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">live</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21194r193"></a><span 
class="larm-0500">193</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21195r194"></a><span 
class="larm-0500">194</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21196r195"></a><span 
class="larm-0500">195</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAllThreads</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Configuration</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21197r196"></a><span 
class="larm-0500">196</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">STARTUPINFO</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startupInformation</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21198r197"></a><span 
class="larm-0500">197</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">startupInformation</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">startupInformation</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21199r198"></a><span 
class="larm-0500">198</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startupInformation</span><span 
class="lass-0900">.</span><span 
class="lass-0900">cb</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">startupInformation</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21200r199"></a><span 
class="larm-0500">199</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21201r200"></a><span 
class="larm-0500">200</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PROCESS_INFORMATION</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">processInformation</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21202r201"></a><span 
class="larm-0500">201</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21203r202"></a><span 
class="larm-0500">202</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerPath</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21204r203"></a><span 
class="larm-0500">203</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21205r204"></a><span 
class="larm-0500">204</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">readerIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21206r205"></a><span 
class="larm-0500">205</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerPath</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">(</span><span 
class="lass-0900">READER_PROCESS_PATH</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">to_string</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readerIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21207r206"></a><span 
class="larm-0500">206</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21208r207"></a><span 
class="larm-0500">207</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BOOL</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateProcess</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">_strdup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readerPath</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FALSE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CREATE_NEW_CONSOLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CREATE_SUSPENDED</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">startupInformation</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">processInformation</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21209r208"></a><span 
class="larm-0500">208</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21210r209"></a><span 
class="larm-0500">209</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21211r210"></a><span 
class="larm-0500">210</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x5</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21212r211"></a><span 
class="larm-0500">211</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21213r212"></a><span 
class="larm-0500">212</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21214r213"></a><span 
class="larm-0500">213</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">.</span><span 
class="lass-0900">push_back</span><span 
class="lass-0900">(</span><span 
class="lass-0900">processInformation</span><span 
class="lass-0900">.</span><span 
class="lass-0900">hThread</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21215r214"></a><span 
class="larm-0500">214</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21216r215"></a><span 
class="larm-0500">215</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21217r216"></a><span 
class="larm-0500">216</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Readers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">have</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21218r217"></a><span 
class="larm-0500">217</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21219r218"></a><span 
class="larm-0500">218</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21220r219"></a><span 
class="larm-0500">219</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21221r220"></a><span 
class="larm-0500">220</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">writerIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21222r221"></a><span 
class="larm-0500">221</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writerIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CREATE_SUSPENDED</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21223r222"></a><span 
class="larm-0500">222</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21224r223"></a><span 
class="larm-0500">223</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21225r224"></a><span 
class="larm-0500">224</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x5</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21226r225"></a><span 
class="larm-0500">225</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21227r226"></a><span 
class="larm-0500">226</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21228r227"></a><span 
class="larm-0500">227</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">.</span><span 
class="lass-0900">push_back</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21229r228"></a><span 
class="larm-0500">228</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21230r229"></a><span 
class="larm-0500">229</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21231r230"></a><span 
class="larm-0500">230</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">have</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21232r231"></a><span 
class="larm-0500">231</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21233r232"></a><span 
class="larm-0500">232</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21234r233"></a><span 
class="larm-0500">233</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21235r234"></a><span 
class="larm-0500">234</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timeManager</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadTimeManagerExecutor</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">(</span><span 
class="lass-0900">config</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CREATE_SUSPENDED</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21236r235"></a><span 
class="larm-0500">235</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">timeManager</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21237r236"></a><span 
class="larm-0500">236</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">manager</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21238r237"></a><span 
class="larm-0500">237</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x6</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21239r238"></a><span 
class="larm-0500">238</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21240r239"></a><span 
class="larm-0500">239</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21241r240"></a><span 
class="larm-0500">240</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handlers</span><span 
class="lass-0900">.</span><span 
class="lass-0900">push_back</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timeManager</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21242r241"></a><span 
class="larm-0500">241</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21243r242"></a><span 
class="larm-0500">242</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">manager</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21244r243"></a><span 
class="larm-0500">243</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21245r244"></a><span 
class="larm-0500">244</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21246r245"></a><span 
class="larm-0500">245</span></span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAndStartWaitableTimer</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">unsigned</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">secondsCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x0439;&#x043C;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21247r246"></a><span 
class="larm-0500">246</span></span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21248r247"></a><span 
class="larm-0500">247</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0412;&#x044B;&#x0447;&#x0438;&#x0441;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0445;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x0439;&#x043C;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21249r248"></a><span 
class="larm-0500">248</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__int64</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">endTimeValue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TIMER_CONSTANT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">secondsCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21250r249"></a><span 
class="larm-0500">249</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LARGE_INTEGER</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">endTimeStruct</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21251r250"></a><span 
class="larm-0500">250</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">endTimeStruct</span><span 
class="lass-0900">.</span><span 
class="lass-0900">LowPart</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">(</span><span 
class="lass-0900">endTimeValue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">xFFFFFFFF</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21252r251"></a><span 
class="larm-0500">251</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">endTimeStruct</span><span 
class="lass-0900">.</span><span 
class="lass-0900">HighPart</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LONG</span><span 
class="lass-0900">(</span><span 
class="lass-0900">endTimeValue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x20</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21253r252"></a><span 
class="larm-0500">252</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21254r253"></a><span 
class="larm-0500">253</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x0439;&#x043C;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21255r254"></a><span 
class="larm-0500">254</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateWaitableTimer</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21256r255"></a><span 
class="larm-0500">255</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetWaitableTimer</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">endTimeStruct</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21257r256"></a><span 
class="larm-0500">256</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21258r257"></a><span 
class="larm-0500">257</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21259r258"></a><span 
class="larm-0500">258</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21260r259"></a><span 
class="larm-0500">259</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadTimeManagerExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21261r260"></a><span 
class="larm-0500">260</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21262r261"></a><span 
class="larm-0500">261</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21263r262"></a><span 
class="larm-0500">262</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21264r263"></a><span 
class="larm-0500">263</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0415;&#x0441;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0440;&#x0435;&#x043C;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0436;&#x0438;&#x0437;&#x043D;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x0440;&#x0438;&#x0446;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0432;&#x0435;&#x0434;&#x0435;&#x043D;&#x043D;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21265r264"></a><span 
class="larm-0500">264</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21266r265"></a><span 
class="larm-0500">265</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21267r266"></a><span 
class="larm-0500">266</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">clear</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21268r267"></a><span 
class="larm-0500">267</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getline</span><span 
class="lass-0900">(</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cin</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21269r268"></a><span 
class="larm-0500">268</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21270r269"></a><span 
class="larm-0500">269</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EXIT_MESSAGE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21271r270"></a><span 
class="larm-0500">270</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21272r271"></a><span 
class="larm-0500">271</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21273r272"></a><span 
class="larm-0500">272</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21274r273"></a><span 
class="larm-0500">273</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21275r274"></a><span 
class="larm-0500">274</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0415;&#x0441;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0440;&#x0435;&#x043C;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0436;&#x0438;&#x0437;&#x043D;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043B;&#x043E;&#x0436;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0430;&#x0439;&#x043C;&#x0435;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21276r275"></a><span 
class="larm-0500">275</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21277r276"></a><span 
class="larm-0500">276</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">createAndStartWaitableTimer</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timeToLive</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21278r277"></a><span 
class="larm-0500">277</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21279r278"></a><span 
class="larm-0500">278</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21280r279"></a><span 
class="larm-0500">279</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21281r280"></a><span 
class="larm-0500">280</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21282r281"></a><span 
class="larm-0500">281</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21283r282"></a><span 
class="larm-0500">282</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21284r283"></a><span 
class="larm-0500">283</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">manager</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21285r284"></a><span 
class="larm-0500">284</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21286r285"></a><span 
class="larm-0500">285</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21287r286"></a><span 
class="larm-0500">286</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21288r287"></a><span 
class="larm-0500">287</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21289r288"></a><span 
class="larm-0500">288</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21290r289"></a><span 
class="larm-0500">289</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21291r290"></a><span 
class="larm-0500">290</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messageIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21292r291"></a><span 
class="larm-0500">291</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21293r292"></a><span 
class="larm-0500">292</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x0430;&#x0441;&#x0441;&#x0438;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21294r293"></a><span 
class="larm-0500">293</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerHandlers</span><span 
class="lass-0900">[2];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21295r294"></a><span 
class="larm-0500">294</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerHandlers</span><span 
class="lass-0900">[0]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21296r295"></a><span 
class="larm-0500">295</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerHandlers</span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21297r296"></a><span 
class="larm-0500">296</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21298r297"></a><span 
class="larm-0500">297</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">interrupt</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21299r298"></a><span 
class="larm-0500">298</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersDontReadyToRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21300r299"></a><span 
class="larm-0500">299</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersAlreadyRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">readersCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21301r300"></a><span 
class="larm-0500">300</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21302r301"></a><span 
class="larm-0500">301</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21303r302"></a><span 
class="larm-0500">302</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCount</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21304r303"></a><span 
class="larm-0500">303</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21305r304"></a><span 
class="larm-0500">304</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">readersDontReadyToRead</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21306r305"></a><span 
class="larm-0500">305</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readersDontReadyToRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21307r306"></a><span 
class="larm-0500">306</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ResetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21308r307"></a><span 
class="larm-0500">307</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21309r308"></a><span 
class="larm-0500">308</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ResetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21310r309"></a><span 
class="larm-0500">309</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21311r310"></a><span 
class="larm-0500">310</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21312r311"></a><span 
class="larm-0500">311</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21313r312"></a><span 
class="larm-0500">312</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21314r313"></a><span 
class="larm-0500">313</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ResetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21315r314"></a><span 
class="larm-0500">314</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21316r315"></a><span 
class="larm-0500">315</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21317r316"></a><span 
class="larm-0500">316</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21318r317"></a><span 
class="larm-0500">317</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">analyzeEvent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForMultipleObjects</span><span 
class="lass-0900">(2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerHandlers</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21319r318"></a><span 
class="larm-0500">318</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">switch</span><span 
class="lass-0900">(</span><span 
class="lass-0900">analyzeEvent</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21320r319"></a><span 
class="larm-0500">319</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WAIT_OBJECT_0</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21321r320"></a><span 
class="larm-0500">320</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21322r321"></a><span 
class="larm-0500">321</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21323r322"></a><span 
class="larm-0500">322</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21324r323"></a><span 
class="larm-0500">323</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21325r324"></a><span 
class="larm-0500">324</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">WAIT_OBJECT_0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21326r325"></a><span 
class="larm-0500">325</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21327r326"></a><span 
class="larm-0500">326</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">messageIndex</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21328r327"></a><span 
class="larm-0500">327</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21329r328"></a><span 
class="larm-0500">328</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21330r329"></a><span 
class="larm-0500">329</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sprintf_s</span><span 
class="lass-0900">(((</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OFFSET</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messageIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21331r330"></a><span 
class="larm-0500">330</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21332r331"></a><span 
class="larm-0500">331</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Put</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">data</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">\".\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">((</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OFFSET</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21333r332"></a><span 
class="larm-0500">332</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21334r333"></a><span 
class="larm-0500">333</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21335r334"></a><span 
class="larm-0500">334</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21336r335"></a><span 
class="larm-0500">335</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21337r336"></a><span 
class="larm-0500">336</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21338r337"></a><span 
class="larm-0500">337</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x0440;&#x0435;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0430;&#x0432;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043D;&#x044F;&#x0442;&#x043E;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21339r338"></a><span 
class="larm-0500">338</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21340r339"></a><span 
class="larm-0500">339</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21341r340"></a><span 
class="larm-0500">340</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21342r341"></a><span 
class="larm-0500">341</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21343r342"></a><span 
class="larm-0500">342</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Error</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">function</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForMultipleObjects</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">executor</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21344r343"></a><span 
class="larm-0500">343</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">xA</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21345r344"></a><span 
class="larm-0500">344</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21346r345"></a><span 
class="larm-0500">345</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21347r346"></a><span 
class="larm-0500">346</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21348r347"></a><span 
class="larm-0500">347</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCount</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21349r348"></a><span 
class="larm-0500">348</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21350r349"></a><span 
class="larm-0500">349</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">readersAlreadyRead</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21351r350"></a><span 
class="larm-0500">350</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readersAlreadyRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21352r351"></a><span 
class="larm-0500">351</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0415;&#x0441;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0441;&#x043B;&#x0435;&#x0434;&#x043D;&#x0435;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x0440;&#x0435;&#x0449;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21353r352"></a><span 
class="larm-0500">352</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ResetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21354r353"></a><span 
class="larm-0500">353</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21355r354"></a><span 
class="larm-0500">354</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ResetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21356r355"></a><span 
class="larm-0500">355</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21357r356"></a><span 
class="larm-0500">356</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21358r357"></a><span 
class="larm-0500">357</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21359r358"></a><span 
class="larm-0500">358</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21360r359"></a><span 
class="larm-0500">359</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ResetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21361r360"></a><span 
class="larm-0500">360</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21362r361"></a><span 
class="larm-0500">361</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21363r362"></a><span 
class="larm-0500">362</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21364r363"></a><span 
class="larm-0500">363</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">globalConfig</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writersDelay</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21365r364"></a><span 
class="larm-0500">364</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21366r365"></a><span 
class="larm-0500">365</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21367r366"></a><span 
class="larm-0500">366</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadId</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21368r367"></a><span 
class="larm-0500">367</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21369r368"></a><span 
class="larm-0500">368</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 620--><p class="indent" >   &#x0420;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;-&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;:
   <!--l. 622--><div class="lstinputlisting">
<a 
 id="x1-21370"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21371r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21372r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21373r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21374r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21375r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21376r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OFFSET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21377r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">READ_DELAY</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">200;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21378r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21379r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SHARE_MEMORY_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$SharedMemory$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21380r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041D;&#x0430;&#x0437;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21381r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CAN_READ_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventCanRead$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21382r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CAN_WRITE_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventCanWrite$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21383r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CHANGE_COUNT_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventChangeCount$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21384r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_COUNT_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventCount$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21385r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_EXIT_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventExit$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21386r16"></a><span 
class="larm-0500">16</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_ALL_READ_NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">$$EventAllRead$$</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21387r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21388r18"></a><span 
class="larm-0500">18</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21389r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21390r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21391r21"></a><span 
class="larm-0500">21</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[])</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21392r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21393r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Wrong</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">count</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">of</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">arguments</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21394r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21395r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21396r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21397r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0440;&#x0433;&#x0443;&#x043C;&#x0435;&#x043D;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043C;&#x0430;&#x043D;&#x0434;&#x043D;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21398r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerId</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">stoi</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21399r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21400r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerId</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">started</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21401r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21402r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CRITICAL_SECTION</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21403r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">InitializeCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21404r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21405r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21406r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OpenEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">EVENT_ALL_ACCESS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CAN_READ_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21407r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OpenEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">EVENT_ALL_ACCESS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CAN_WRITE_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21408r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OpenEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">EVENT_ALL_ACCESS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_ALL_READ_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21409r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OpenEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">EVENT_ALL_ACCESS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_CHANGE_COUNT_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21410r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OpenEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">EVENT_ALL_ACCESS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_EXIT_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21411r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OpenEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">EVENT_ALL_ACCESS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EVENT_COUNT_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21412r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!</span><span 
class="lass-0900">eventCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21413r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">event</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21414r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21415r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21416r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21417r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043E;&#x0431;&#x0440;&#x0430;&#x0436;&#x0430;&#x0435;&#x043C;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21418r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OpenFileMapping</span><span 
class="lass-0900">(</span><span 
class="lass-0900">FILE_MAP_ALL_ACCESS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SHARE_MEMORY_NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21419r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21420r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shared</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21421r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21422r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21423r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21424r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersMap</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MapViewOfFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FILE_MAP_READ</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21425r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">readersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21426r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">view</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">map</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21427r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21428r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21429r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21430r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x0430;&#x0441;&#x0441;&#x0438;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21431r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerHandlers</span><span 
class="lass-0900">[2];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21432r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerHandlers</span><span 
class="lass-0900">[0]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21433r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerHandlers</span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21434r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21435r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21436r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EnterCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21437r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0447;&#x0438;&#x0442;&#x0430;&#x044E;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21438r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21439r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0437;&#x043D;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0448;&#x043B;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0433;&#x0440;&#x0430;&#x043D;&#x0438;&#x0446;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21440r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21441r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21442r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21443r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21444r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">analyzeEvent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForMultipleObjects</span><span 
class="lass-0900">(2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerHandlers</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21445r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">switch</span><span 
class="lass-0900">(</span><span 
class="lass-0900">analyzeEvent</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21446r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WAIT_OBJECT_0</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21447r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21448r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerId</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21449r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">goto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21450r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21451r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">case</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">WAIT_OBJECT_0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21452r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21453r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Get</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">data</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">\".\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerId</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">((</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OFFSET</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21454r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21455r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x043C;&#x0435;&#x043D;&#x044C;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21456r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForSingleObject</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INFINITE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21457r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SetEvent</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21458r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21459r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21460r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21461r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Error</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">function</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WaitForMultipleObjects</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">executor</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21462r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x5</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21463r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21464r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21465r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LeaveCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21466r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">READ_DELAY</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21467r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21468r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21469r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">exit</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21470r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DeleteCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21471r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21472r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21473r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCanRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21474r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCanWrite</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21475r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventAllRead</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21476r106"></a><span 
class="larm-0500">106</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventChangeCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21477r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventExit</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21478r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">eventCount</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21479r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21480r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0434;&#x0430;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21481r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">UnmapViewOfFile</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readersMap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21482r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21483r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">fileMapping</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21484r114"></a><span 
class="larm-0500">114</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21485r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Press</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">Enter</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21486r116"></a><span 
class="larm-0500">116</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getchar</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21487r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21488r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21489r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">}</span>
   </div>
                                                                                               
                                                                                               
<!--l. 626--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0434;&#x043B;&#x044F; &#x0442;&#x0440;&#x0435;&#x0445; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432; &#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439; &#x0438; &#x0442;&#x0440;&#x0435;&#x0445; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432; &#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;:
<!--l. 628--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-2149015"></a>
                                                                                               
                                                                                               
<!--l. 630--><p class="noindent" ><img 
src="../images/p2_3.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.15: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-2149015 -->
                                                                                               
                                                                                               
<!--l. 634--><p class="indent" >   </div><hr class="endfigure">
<!--l. 636--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B; &#x043D;&#x0435; &#x0438;&#x0437;&#x043C;&#x0435;&#x043D;&#x0438;&#x043B;&#x0441;&#x044F;. &#x041E;&#x0434;&#x043D;&#x0430;&#x043A;&#x043E; &#x0442;&#x0435;&#x043F;&#x0435;&#x0440;&#x044C; &#x043A;&#x043E;&#x043D;&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0446;&#x0438;&#x044F; &#x0431;&#x0435;&#x0437;&#x043E;&#x043F;&#x0430;&#x0441;&#x043D;&#x0430;: &#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0438; &#x0431;&#x043E;&#x043B;&#x044C;&#x0448;&#x0435; &#x043D;&#x0435;
&#x0438;&#x0437;&#x043C;&#x0435;&#x043D;&#x044F;&#x044E;&#x0442; &#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A;&#x0438;. &#x0421;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A;&#x0438; &#x0440;&#x0430;&#x0441;&#x043F;&#x043E;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x044B; &#x043D;&#x0430; &#x0441;&#x0442;&#x043E;&#x0440;&#x043E;&#x043D;&#x0435; &#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;. &#x041E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435; &#x0441; &#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x043C; &#x043F;&#x0440;&#x043E;&#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442; &#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C;
&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0439; &#x0438; &#x0437;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442;&#x043E;&#x043C;/&#x043E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x0435;&#x043C; &#x043F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x044B;&#x0445;.
<h5 class="subsubsectionHead"><a 
 id="x1-220002"></a>4. &#x041E;&#x043F;&#x0442;&#x0438;&#x043C;&#x0438;&#x0437;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x0435; &#x0440;&#x0435;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435; &#x0437;&#x0430;&#x0434;&#x0430;&#x0447;&#x0438;</h5>
<!--l. 640--><p class="noindent" >&#x0418;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x043C; &#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0438;&#x0435; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438;. &#x041E;&#x043D;&#x0438; &#x043E;&#x0431;&#x043B;&#x0430;&#x0434;&#x0430;&#x044E;&#x0442; &#x0432;&#x044B;&#x0441;&#x043E;&#x043A;&#x0438;&#x043C; &#x0431;&#x044B;&#x0441;&#x0442;&#x0440;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0435;&#x043C; &#x043F;&#x043E; &#x0441;&#x0440;&#x0430;&#x0432;&#x043D;&#x0435;&#x043D;&#x0438;&#x044E; &#x0441; &#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x0430;&#x043C;&#x0438; &#x0438;, &#x0442;&#x0430;&#x043A; &#x043A;&#x0430;&#x043A; &#x0432;
&#x0434;&#x0430;&#x043D;&#x043D;&#x043E;&#x043C; &#x0441;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435; &#x043C;&#x044B; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x0435;&#x043C; &#x0432;&#x0441;&#x0435;&#x0433;&#x043E; &#x0441; &#x043E;&#x0434;&#x043D;&#x0438;&#x043C; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x043C;, &#x0438;&#x0445; &#x0431;&#x0443;&#x0434;&#x0435;&#x0442; &#x0434;&#x043E;&#x0441;&#x0442;&#x0430;&#x0442;&#x043E;&#x0447;&#x043D;&#x043E;. &#x041D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x043E; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C;
&#x0437;&#x0430;&#x043F;&#x0440;&#x043E;&#x0441;&#x044B; &#x043E;&#x0442; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432; &#x0432; &#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0430;&#x0445; &#x043E;&#x0434;&#x043D;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430; &#8211; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;. &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x044B; &#x043D;&#x0435; &#x0431;&#x0443;&#x0434;&#x0443;&#x0442; &#x043F;&#x043E;&#x0434;&#x043E;&#x0437;&#x0440;&#x0435;&#x0432;&#x0430;&#x0442;&#x044C; &#x043E; &#x0441;&#x0443;&#x0449;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0438; &#x0434;&#x0440;&#x0443;&#x0433;&#x0438;&#x0445;
&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;.
   <!--l. 642--><div class="lstinputlisting">
<a 
 id="x1-22001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WRITERS_COUNT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">4;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">READERS_COUNT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DataSync</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerId</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bool</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">canWrite</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">CRITICAL_SECTION</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DataSync</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dataSync</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadReaderExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dataSync</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writerId</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dataSync</span><span 
class="lass-0900">.</span><span 
class="lass-0900">canWrite</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">InitializeCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WRITERS_COUNT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">writerIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writerIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CREATE_SUSPENDED</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ResumeThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">READERS_COUNT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">readerIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadReaderExecutor</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readerIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CREATE_SUSPENDED</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ResumeThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CloseHandle</span><span 
class="lass-0900">(</span><span 
class="lass-0900">reader</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DeleteCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Press</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">Enter</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getchar</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadReaderExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerId</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EnterCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">dataSync</span><span 
class="lass-0900">.</span><span 
class="lass-0900">canWrite</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Reader</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Get</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">data</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readerId</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dataSync</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writerId</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x0440;&#x0435;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043B;&#x044C;&#x043D;&#x0435;&#x0439;&#x0448;&#x0435;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0441;&#x043B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dataSync</span><span 
class="lass-0900">.</span><span 
class="lass-0900">canWrite</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">true</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LeaveCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerId</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22085r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22086r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EnterCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22087r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22088r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">dataSync</span><span 
class="lass-0900">.</span><span 
class="lass-0900">canWrite</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22089r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22090r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dataSync</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writerId</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerId</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22091r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dataSync</span><span 
class="lass-0900">.</span><span 
class="lass-0900">canWrite</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">false</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22092r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22093r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Put</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">data</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerId</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22094r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22095r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22096r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LeaveCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22097r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22098r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 644--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043E;&#x043F;&#x0442;&#x0438;&#x043C;&#x0438;&#x0437;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x0439; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;:
<!--l. 646--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-2209916"></a>
                                                                                               
                                                                                               
<!--l. 648--><p class="noindent" ><img 
src="../images/p2_4.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.16: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-2209916 -->
                                                                                               
                                                                                               
<!--l. 652--><p class="indent" >   </div><hr class="endfigure">
<h5 class="subsubsectionHead"><a 
 id="x1-230002"></a>5. &#x0420;&#x0430;&#x0437;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F; &#x0441; &#x0441;&#x0435;&#x0442;&#x0435;&#x0432;&#x044B;&#x043C; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x043E;&#x043D;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;&#x043C;</h5>
<!--l. 656--><p class="noindent" >&#x041D;&#x0430; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0435; &#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x0442;&#x0441;&#x044F; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435;&#x0434;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x043E; &#x0438;&#x0437;&#x043C;&#x0435;&#x043D;&#x044F;&#x044E;&#x0449;&#x0435;&#x0435;&#x0441;&#x044F; &#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435; &#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430; &#x043E;&#x0442; 0 &#x0434;&#x043E; 5. &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x043F;&#x044B;&#x0442;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0443;&#x0433;&#x0430;&#x0434;&#x0430;&#x0442;&#x044C;
&#x0442;&#x0435;&#x043A;&#x0443;&#x0449;&#x0435;&#x0435; &#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435; &#x0441;&#x0447;&#x0435;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430;. &#x0415;&#x0441;&#x043B;&#x0438; &#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435; &#x0443;&#x0433;&#x0430;&#x0434;&#x0430;&#x043D;&#x043E;, &#x0442;&#x043E; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x043E;&#x0442;&#x0432;&#x0435;&#x0447;&#x0430;&#x0435;&#x0442; "Yes! &#x0435;&#x0441;&#x043B;&#x0438; &#x043D;&#x0435; &#x0443;&#x0433;&#x0430;&#x0434;&#x0430;&#x043D;&#x043E;, &#x0442;&#x043E; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x043E;&#x0442;&#x0432;&#x0435;&#x0447;&#x0430;&#x0435;&#x0442;
"No!".
<!--l. 658--><p class="indent" >   &#x0421;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0430; &#x043A; &#x043F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E;&#x0439;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x0430;&#x044F; &#x044F;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x043C;&#x0435;&#x0442;&#x0430;&#x0444;&#x043E;&#x0440;&#x043E;&#x0439; &#x0434;&#x043B;&#x044F; &#x043B;&#x044E;&#x0431;&#x044B;&#x0445; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445;, &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x0437;&#x0430;&#x0441;&#x0447;&#x0435;&#x0442;
&#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x043E;&#x0439; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438;.
<!--l. 660--><p class="indent" >   &#x0420;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0439; &#x0447;&#x0430;&#x0441;&#x0442;&#x0438;:
   <!--l. 662--><div class="lstinputlisting">
<a 
 id="x1-23001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">winsock2</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">ws2tcpip</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">vector</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">pragma</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">comment</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">lib</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Ws2_32</span><span 
class="lass-0900">.</span><span 
class="lass-0900">lib</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">65100</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BACKLOG</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NUMBER_LIMIT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SLEEP_DURATION</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">500;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SharedData</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerId</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041C;&#x0430;&#x0441;&#x0441;&#x0438;&#x0432;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;&#x043C;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;&#x043C;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">vector</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerThreads</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">vector</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSockets</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">CRITICAL_SECTION</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SharedData</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sharedData</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">counter</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[])</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0440;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0438;&#x0431;&#x043B;&#x0438;&#x043E;&#x0442;&#x0435;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSADATA</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsaData</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsaStartup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSAStartup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">MAKEWORD</span><span 
class="lass-0900">(2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">wsaData</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">wsaStartup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsa</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">addrinfo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">.</span><span 
class="lass-0900">ai_family</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">.</span><span 
class="lass-0900">ai_socktype</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCK_STREAM</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">.</span><span 
class="lass-0900">ai_protocol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPPROTO_TCP</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">.</span><span 
class="lass-0900">ai_flags</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">AI_PASSIVE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">addrinfo</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">addressInfo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getaddrinfo</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">addressInfo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">get</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_family</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_socktype</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_protocol</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_SOCKET</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0411;&#x0438;&#x043D;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverBind</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bind</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_addr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_addrlen</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverBind</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET_ERROR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bind</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23085r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23086r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23087r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">freeaddrinfo</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23088r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23089r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043B;&#x0443;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23090r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverListen</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">listen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BACKLOG</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23091r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverListen</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET_ERROR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23092r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">listen</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23093r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23094r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23095r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x5</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23096r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23097r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23098r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23099r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">InitializeCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23100r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sharedData</span><span 
class="lass-0900">.</span><span 
class="lass-0900">writerId</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23101r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23102r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Wait</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23103r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23104r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23105r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23106r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x0438;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23107r106"></a><span 
class="larm-0500">106</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">accept</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23108r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23109r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_SOCKET</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23110r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">continue</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23111r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23112r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0414;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043B;&#x043B;&#x0435;&#x043A;&#x0446;&#x0438;&#x044E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23113r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSockets</span><span 
class="lass-0900">.</span><span 
class="lass-0900">push_back</span><span 
class="lass-0900">(</span><span 
class="lass-0900">client</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23114r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23115r114"></a><span 
class="larm-0500">114</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23116r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HANDLE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">CreateThread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">(</span><span 
class="lass-0900">threadIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23117r116"></a><span 
class="larm-0500">116</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23118r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23119r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x6</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23120r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23121r120"></a><span 
class="larm-0500">120</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23122r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0414;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043B;&#x043B;&#x0435;&#x043A;&#x0446;&#x0438;&#x044E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23123r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerThreads</span><span 
class="lass-0900">.</span><span 
class="lass-0900">push_back</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23124r123"></a><span 
class="larm-0500">123</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">threadIndex</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23125r124"></a><span 
class="larm-0500">124</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23126r125"></a><span 
class="larm-0500">125</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23127r126"></a><span 
class="larm-0500">126</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23128r127"></a><span 
class="larm-0500">127</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23129r128"></a><span 
class="larm-0500">128</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23130r129"></a><span 
class="larm-0500">129</span></span><span 
class="lass-0900">DWORD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WINAPI</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadWriterExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">LPVOID</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23131r130"></a><span 
class="larm-0500">130</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerId</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argument</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23132r131"></a><span 
class="larm-0500">131</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23133r132"></a><span 
class="larm-0500">132</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writeSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSockets</span><span 
class="lass-0900">[</span><span 
class="lass-0900">writerId</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23134r133"></a><span 
class="larm-0500">133</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23135r134"></a><span 
class="larm-0500">134</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">charNumber</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23136r135"></a><span 
class="larm-0500">135</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23137r136"></a><span 
class="larm-0500">136</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23138r137"></a><span 
class="larm-0500">137</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23139r138"></a><span 
class="larm-0500">138</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23140r139"></a><span 
class="larm-0500">139</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0434;&#x0438;&#x043D;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0430;&#x0439;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23141r140"></a><span 
class="larm-0500">140</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23142r141"></a><span 
class="larm-0500">141</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">recv</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writeSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">charNumber</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23143r142"></a><span 
class="larm-0500">142</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23144r143"></a><span 
class="larm-0500">143</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23145r144"></a><span 
class="larm-0500">144</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">EnterCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23146r145"></a><span 
class="larm-0500">145</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23147r146"></a><span 
class="larm-0500">146</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x043E;&#x0440;&#x043C;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x043E;&#x0432;&#x043E;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0441;&#x043B;&#x043E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23148r147"></a><span 
class="larm-0500">147</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">counter</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23149r148"></a><span 
class="larm-0500">148</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">counter</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NUMBER_LIMIT</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23150r149"></a><span 
class="larm-0500">149</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">counter</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23151r150"></a><span 
class="larm-0500">150</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23152r151"></a><span 
class="larm-0500">151</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Get</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">c</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">counter</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writerId</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">charNumber</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">counter</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23153r152"></a><span 
class="larm-0500">152</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23154r153"></a><span 
class="larm-0500">153</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0441;&#x043B;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0430;&#x0439;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23155r154"></a><span 
class="larm-0500">154</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">charNumber</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x30</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23156r155"></a><span 
class="larm-0500">155</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">9)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23157r156"></a><span 
class="larm-0500">156</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">counter</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23158r157"></a><span 
class="larm-0500">157</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">reset</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">information</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23159r158"></a><span 
class="larm-0500">158</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23160r159"></a><span 
class="larm-0500">159</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23161r160"></a><span 
class="larm-0500">160</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x043E;&#x0440;&#x043C;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23162r161"></a><span 
class="larm-0500">161</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">counter</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23163r162"></a><span 
class="larm-0500">162</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy_s</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Yes</span><span 
class="lass-0900">!</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23164r163"></a><span 
class="larm-0500">163</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23165r164"></a><span 
class="larm-0500">164</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy_s</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">No</span><span 
class="lass-0900">!</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23166r165"></a><span 
class="larm-0500">165</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23167r166"></a><span 
class="larm-0500">166</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x044E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23168r167"></a><span 
class="larm-0500">167</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">(</span><span 
class="lass-0900">writeSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23169r168"></a><span 
class="larm-0500">168</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23170r169"></a><span 
class="larm-0500">169</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LeaveCriticalSection</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">criticalSection</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23171r170"></a><span 
class="larm-0500">170</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SLEEP_DURATION</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23172r171"></a><span 
class="larm-0500">171</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23173r172"></a><span 
class="larm-0500">172</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23174r173"></a><span 
class="larm-0500">173</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23175r174"></a><span 
class="larm-0500">174</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 664--><p class="indent" >   &#x0420;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x0439; &#x0447;&#x0430;&#x0441;&#x0442;&#x0438;:
   <!--l. 666--><div class="lstinputlisting">
<a 
 id="x1-23176"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23177r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">winsock2</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23178r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">ws2tcpip</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23179r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">windows</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23180r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23181r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23182r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23183r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">pragma</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">comment</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">lib</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Ws2_32</span><span 
class="lass-0900">.</span><span 
class="lass-0900">lib</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23184r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23185r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">65100</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23186r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">127.0.0.1</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23187r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BACKLOG</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23188r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23189r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NUMBER_LIMIT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23190r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SLEEP_DURATION</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">200;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23191r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23192r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">SOCKET</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23193r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23194r18"></a><span 
class="larm-0500">18</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[])</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23195r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0440;&#x0442;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23196r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23197r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">string</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23198r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23199r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23200r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23201r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23202r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23203r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23204r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[2];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23205r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23206r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23207r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0438;&#x0431;&#x043B;&#x0438;&#x043E;&#x0442;&#x0435;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23208r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSADATA</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsaData</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23209r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsaStartup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSAStartup</span><span 
class="lass-0900">(</span><span 
class="lass-0900">MAKEWORD</span><span 
class="lass-0900">(2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">wsaData</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23210r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">wsaStartup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23211r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">startup</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wsa</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23212r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23213r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23214r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23215r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">addrinfo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23216r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23217r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">.</span><span 
class="lass-0900">ai_family</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23218r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">.</span><span 
class="lass-0900">ai_socktype</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCK_STREAM</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23219r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">.</span><span 
class="lass-0900">ai_protocol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPPROTO_TCP</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23220r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23221r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23222r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">addrinfo</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">addressResult</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23223r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">addressInfo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getaddrinfo</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">.</span><span 
class="lass-0900">data</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">hints</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">addressResult</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23224r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">addressInfo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23225r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">get</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23226r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23227r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23228r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23229r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23230r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x043E;&#x0431;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0438;&#x0442;&#x044C;&#x0441;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23231r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">currentPtr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">addressResult</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">currentPtr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">currentPtr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">currentPtr</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_next</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23232r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">currentPtr</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_family</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">currentPtr</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_socktype</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">currentPtr</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_protocol</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23233r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_SOCKET</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23234r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23235r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23236r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23237r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23238r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23239r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverConnection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connect</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">currentPtr</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_addr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">(</span><span 
class="lass-0900">currentPtr</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ai_addrlen</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23240r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverConnection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCKET_ERROR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23241r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23242r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23243r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closesocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23244r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_SOCKET</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23245r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23246r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23247r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">freeaddrinfo</span><span 
class="lass-0900">(</span><span 
class="lass-0900">addressResult</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23248r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23249r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">INVALID_SOCKET</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23250r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connection</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23251r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WSACleanup</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23252r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23253r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23254r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23255r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23256r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Connection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">established</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23257r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23258r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23259r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(</span><span 
class="lass-0900">true</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23260r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x043E;&#x0440;&#x043C;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0441;&#x043B;&#x043E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23261r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">rand</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NUMBER_LIMIT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x30</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23262r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23263r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x0441;&#x044B;&#x043B;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0441;&#x043B;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23264r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">number</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23265r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23266r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23267r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ZeroMemory</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23268r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">recv</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23269r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Get</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">answer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">server</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23270r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23271r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SLEEP_DURATION</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23272r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23273r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 668--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x043E;&#x0442;&#x0433;&#x0430;&#x0434;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F; &#x0442;&#x0440;&#x0435;&#x043C;&#x044F; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;&#x043C;&#x0438; &#x043E;&#x0434;&#x043D;&#x043E;&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E;:
<!--l. 670--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-2327417"></a>
                                                                                               
                                                                                               
<!--l. 672--><p class="noindent" ><img 
src="../images/p2_5.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.17: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-2327417 -->
                                                                                               
                                                                                               
<!--l. 676--><p class="indent" >   </div><hr class="endfigure">
<a 
 id="x1-23275r38"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.3   </span> <a 
 id="x1-240003"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 3. &#x0417;&#x0430;&#x0434;&#x0430;&#x0447;&#x0430; «&#x041E;&#x0431;&#x0435;&#x0434;&#x0430;&#x044E;&#x0449;&#x0438;&#x0435; &#x0444;&#x0438;&#x043B;&#x043E;&#x0441;&#x043E;&#x0444;&#x044B;»</h4>
<!--l. 680--><p class="noindent" >&#x0424;&#x043E;&#x0440;&#x043C;&#x0443;&#x043B;&#x0438;&#x0440;&#x043E;&#x0432;&#x043A;&#x0430; &#x0437;&#x0430;&#x0434;&#x0430;&#x0447;&#x0438;: &#x0432; &#x043E;&#x0434;&#x043D;&#x043E;&#x043C; &#x043F;&#x0430;&#x043D;&#x0441;&#x0438;&#x043E;&#x043D;&#x0435;, &#x043E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0442;&#x043E;&#x043C; &#x0431;&#x043E;&#x0433;&#x0430;&#x0442;&#x044B;&#x043C; &#x0444;&#x0438;&#x043B;&#x0430;&#x043D;&#x0442;&#x0440;&#x043E;&#x043F;&#x043E;&#x043C;, &#x0431;&#x044B;&#x043B;&#x0438; &#x0441;&#x043E;&#x0431;&#x0440;&#x0430;&#x043D;&#x044B; &#x043F;&#x044F;&#x0442;&#x044C; &#x0437;&#x043D;&#x0430;&#x043C;&#x0435;&#x043D;&#x0438;&#x0442;&#x044B;&#x0445;
&#x0444;&#x0438;&#x043B;&#x043E;&#x0441;&#x043E;&#x0444;&#x043E;&#x0432;. &#x041F;&#x0440;&#x0435;&#x0434;&#x0430;&#x0432;&#x0430;&#x044F;&#x0441;&#x044C; &#x0440;&#x0430;&#x0437;&#x043C;&#x044B;&#x0448;&#x043B;&#x0435;&#x043D;&#x0438;&#x044F;&#x043C;, &#x043E;&#x043D;&#x0438; &#x043D;&#x0435;&#x0437;&#x0430;&#x0432;&#x0438;&#x0441;&#x0438;&#x043C;&#x043E; &#x0434;&#x0440;&#x0443;&#x0433; &#x043E;&#x0442; &#x0434;&#x0440;&#x0443;&#x0433;&#x0430; &#x0437;&#x0430;&#x0445;&#x043E;&#x0434;&#x0438;&#x043B;&#x0438; &#x043E;&#x0431;&#x0435;&#x0434;&#x0430;&#x0442;&#x044C; &#x0432; &#x043E;&#x0431;&#x0449;&#x0443;&#x044E; &#x0441;&#x0442;&#x043E;&#x043B;&#x043E;&#x0432;&#x0443;&#x044E;. &#x0412;
&#x0441;&#x0442;&#x043E;&#x043B;&#x043E;&#x0432;&#x043E;&#x0439; &#x0441;&#x0442;&#x043E;&#x044F;&#x043B; &#x0441;&#x0442;&#x043E;&#x043B;, &#x0432;&#x043E;&#x043A;&#x0440;&#x0443;&#x0433; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x0433;&#x043E; &#x0431;&#x044B;&#x043B; &#x043F;&#x043E;&#x0441;&#x0442;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x044B; &#x0441;&#x0442;&#x0443;&#x043B;&#x044C;&#x044F;. &#x041A;&#x0430;&#x0436;&#x0434;&#x043E;&#x043C;&#x0443; &#x0444;&#x0438;&#x043B;&#x043E;&#x0441;&#x043E;&#x0444;&#x0443; &#x0441;&#x0432;&#x043E;&#x0439; &#x0441;&#x0442;&#x0443;&#x043B;. &#x0421;&#x043B;&#x0435;&#x0432;&#x0430; &#x043E;&#x0442; &#x0444;&#x0438;&#x043B;&#x043E;&#x0441;&#x043E;&#x0444;&#x0430;
&#x043B;&#x0435;&#x0436;&#x0430;&#x043B;&#x043E; &#x043F;&#x043E; &#x0432;&#x0438;&#x043B;&#x043A;&#x0435;, &#x0430; &#x0432; &#x0446;&#x0435;&#x043D;&#x0442;&#x0440;&#x0435; &#x0441;&#x0442;&#x043E;&#x043B;&#x0430; &#x0441;&#x0442;&#x043E;&#x044F;&#x043B;&#x0430; &#x0431;&#x043E;&#x043B;&#x044C;&#x0448;&#x0430;&#x044F; &#x0442;&#x0430;&#x0440;&#x0435;&#x043B;&#x043A;&#x0430; &#x0441;&#x043F;&#x0430;&#x0433;&#x0435;&#x0442;&#x0442;&#x0438;. &#x0421;&#x043F;&#x0430;&#x0433;&#x0435;&#x0442;&#x0442;&#x0438; &#x043C;&#x043E;&#x0436;&#x043D;&#x043E; &#x0431;&#x044B;&#x043B;&#x043E; &#x0435;&#x0441;&#x0442;&#x044C; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x0434;&#x0432;&#x0443;&#x043C;&#x044F;
&#x0432;&#x0438;&#x043B;&#x043A;&#x0430;&#x043C;&#x0438;, &#x0430; &#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x0443;, &#x0441;&#x0435;&#x0432; &#x0437;&#x0430; &#x0441;&#x0442;&#x043E;&#x043B;, &#x0444;&#x0438;&#x043B;&#x043E;&#x0441;&#x043E;&#x0444; &#x0434;&#x043E;&#x043B;&#x0436;&#x0435;&#x043D; &#x0431;&#x044B;&#x043B; &#x0432;&#x0437;&#x044F;&#x0442;&#x044C; &#x0432;&#x0438;&#x043B;&#x043A;&#x0443; &#x0441;&#x043E;&#x0441;&#x0435;&#x0434;&#x0430; &#x0441;&#x043F;&#x0440;&#x0430;&#x0432;&#x0430; (&#x0435;&#x0441;&#x043B;&#x0438; &#x043E;&#x043D;&#x0430;, &#x043A;&#x043E;&#x043D;&#x0435;&#x0447;&#x043D;&#x043E;,
&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0434;&#x043D;&#x0430;).
<h5 class="subsubsectionHead"><a 
 id="x1-250003"></a>1. &#x0420;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; &#x043C;&#x043E;&#x0434;&#x0435;&#x043B;&#x0438; &#x0438; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;</h5>
<!--l. 684--><p class="noindent" >&#x0418;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x043C; &#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x044B;, &#x0447;&#x0442;&#x043E;&#x0431;&#x044B; &#x043E;&#x0433;&#x0440;&#x0430;&#x043D;&#x0438;&#x0447;&#x0438;&#x0442;&#x044C; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F; &#x043A; &#x0432;&#x0438;&#x043B;&#x043A;&#x0430;&#x043C;, &#x0435;&#x0441;&#x043B;&#x0438; &#x043E;&#x043D;&#x0438; &#x0437;&#x0430;&#x043D;&#x044F;&#x0442;&#x044B; &#x0434;&#x0440;&#x0443;&#x0433;&#x0438;&#x043C;&#x0438; &#x0444;&#x0438;&#x043B;&#x043E;&#x0441;&#x043E;&#x0444;&#x0430;&#x043C;&#x0438;. &#x041C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441; &#x0432;
&#x0434;&#x0430;&#x043D;&#x043D;&#x043E;&#x043C; &#x0441;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435; &#8211; &#x0441;&#x0430;&#x043C;&#x043E;&#x0435; &#x043E;&#x0447;&#x0435;&#x0432;&#x0438;&#x0434;&#x043D;&#x043E;&#x0435; &#x0438; &#x044D;&#x043B;&#x0435;&#x0433;&#x0430;&#x043D;&#x0442;&#x043D;&#x043E;&#x0435; &#x0440;&#x0435;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;, &#x043F;&#x043E;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x0443; &#x0432;&#x0438;&#x043B;&#x043A;&#x0438; &#x044F;&#x0432;&#x043B;&#x044F;&#x044E;&#x0442;&#x0441;&#x044F; &#x043C;&#x0435;&#x0442;&#x0430;&#x0444;&#x043E;&#x0440;&#x043E;&#x0439; &#x0434;&#x043B;&#x044F; &#x043E;&#x0431;&#x0449;&#x0438;&#x0445; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445;,
&#x0438;&#x0445; &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E; &#x043E;&#x0433;&#x0440;&#x0430;&#x043D;&#x0438;&#x0447;&#x0435;&#x043D;&#x043E;.
<!--l. 686--><p class="indent" >   &#x0414;&#x043B;&#x044F; &#x0438;&#x0437;&#x0431;&#x0435;&#x0436;&#x0430;&#x043D;&#x0438;&#x0435; &#x0434;&#x0435;&#x0434;&#x043B;&#x043E;&#x043A;&#x043E;&#x0432; &#x0431;&#x044B;&#x043B;&#x0430; &#x0432;&#x044B;&#x0437;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; std::lock &#x0432; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0435; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;. &#x0422;&#x0430;&#x043A;&#x0436;&#x0435; &#x0443;&#x0434;&#x043E;&#x0431;&#x043D;&#x043E; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C;
&#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; std::bind &#x0438; &#x043A;&#x043E;&#x043D;&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x043E;&#x0440; std::thread &#x0434;&#x043B;&#x044F; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0438; &#x0432; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430; &#x043C;&#x043D;&#x043E;&#x0436;&#x0435;&#x0441;&#x0442;&#x0432;&#x0430; &#x0430;&#x0440;&#x0433;&#x0443;&#x043C;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;. &#x0422;&#x0430;&#x043A;&#x0438;&#x043C;
&#x043E;&#x0431;&#x0440;&#x0430;&#x0437;&#x043E;&#x043C; &#x0440;&#x0430;&#x0441;&#x0448;&#x0438;&#x0440;&#x0435;&#x043D;&#x043D;&#x044B;&#x0435; &#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;&#x0441;&#x0442;&#x0438; &#x0441;&#x0442;&#x0430;&#x043D;&#x0434;&#x0430;&#x0440;&#x0442;&#x043D;&#x043E;&#x0439; &#x0431;&#x0438;&#x0431;&#x043B;&#x0438;&#x043E;&#x0442;&#x0435;&#x043A;&#x0438; C++ &#x044F;&#x0432;&#x043B;&#x044F;&#x044E;&#x0442;&#x0441;&#x044F; &#x0445;&#x043E;&#x0440;&#x043E;&#x0448;&#x0438;&#x043C; &#x0440;&#x0435;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;&#x043C; &#x0434;&#x043B;&#x044F; &#x0440;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;
&#x0434;&#x0430;&#x043D;&#x043D;&#x043E;&#x0439; &#x0437;&#x0430;&#x0434;&#x0430;&#x0447;&#x0438;:
   <!--l. 688--><div class="lstinputlisting">
<a 
 id="x1-25001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">algorithm</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">memory</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">vector</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PHILOSOFERS_COUNT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Fork</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">void</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadEatExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Fork</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">leftChopstick</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Fork</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">rightChopstick</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">philosopherNumber</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">leftChopstickNumber</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">rightChopstickNumber</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041C;&#x0430;&#x0441;&#x0441;&#x0438;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0438;&#x043B;&#x043A;&#x0430;&#x043C;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0435;&#x0434;&#x044B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">vector</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">unique_ptr</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">Fork</span><span 
class="lass-0900">&#x003E;&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">chopsticks</span><span 
class="lass-0900">(</span><span 
class="lass-0900">PHILOSOFERS_COUNT</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0438;&#x043B;&#x043E;&#x043A;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">chopstickIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">chopstickIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PHILOSOFERS_COUNT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">chopstickIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">chopstick</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">make_unique</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">Fork</span><span 
class="lass-0900">&#x003E;()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">chopsticks</span><span 
class="lass-0900">[</span><span 
class="lass-0900">chopstickIndex</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">move</span><span 
class="lass-0900">(</span><span 
class="lass-0900">chopstick</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043D;&#x0441;&#x0442;&#x0440;&#x0443;&#x043C;&#x0435;&#x043D;&#x0442;&#x0430;&#x043C;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0430;&#x043D;&#x0434;&#x0430;&#x0440;&#x0442;&#x043D;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0438;&#x0431;&#x043B;&#x0438;&#x043E;&#x0442;&#x0435;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">std</span><span 
class="lasi-0900">::</span><span 
class="lasi-0900">thread</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0437;&#x0432;&#x043E;&#x043B;&#x044F;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0432;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x043D;&#x043E;&#x0436;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0440;&#x0433;&#x0443;&#x043C;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x0430;&#x0441;&#x0441;&#x0438;&#x0432;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">vector</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">shared_ptr</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x003E;&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threads</span><span 
class="lass-0900">(</span><span 
class="lass-0900">PHILOSOFERS_COUNT</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0411;&#x0438;&#x043D;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0440;&#x0433;&#x0443;&#x043C;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bindThread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">bind</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">threadEatExecutor</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">placeholders</span><span 
class="lass-0900">::</span><span 
class="lass-0900">_1</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">placeholders</span><span 
class="lass-0900">::</span><span 
class="lass-0900">_2</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">placeholders</span><span 
class="lass-0900">::</span><span 
class="lass-0900">_3</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">placeholders</span><span 
class="lass-0900">::</span><span 
class="lass-0900">_4</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">placeholders</span><span 
class="lass-0900">::</span><span 
class="lass-0900">_5</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x043C;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0440;&#x0433;&#x0443;&#x043C;&#x0435;&#x043D;&#x0442;&#x0430;&#x043C;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">auto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sharedThread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">make_shared</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x003E;(</span><span 
class="lass-0900">bindThread</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">chopsticks</span><span 
class="lass-0900">.</span><span 
class="lass-0900">front</span><span 
class="lass-0900">()</span><span 
class="lass-0900">.</span><span 
class="lass-0900">get</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">chopsticks</span><span 
class="lass-0900">.</span><span 
class="lass-0900">back</span><span 
class="lass-0900">()</span><span 
class="lass-0900">.</span><span 
class="lass-0900">get</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PHILOSOFERS_COUNT</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threads</span><span 
class="lass-0900">[0]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">move</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sharedThread</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PHILOSOFERS_COUNT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">threadIndex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0411;&#x0438;&#x043D;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0440;&#x0433;&#x0443;&#x043C;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bindThread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">bind</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">threadEatExecutor</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">placeholders</span><span 
class="lass-0900">::</span><span 
class="lass-0900">_1</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">placeholders</span><span 
class="lass-0900">::</span><span 
class="lass-0900">_2</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">placeholders</span><span 
class="lass-0900">::</span><span 
class="lass-0900">_3</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">placeholders</span><span 
class="lass-0900">::</span><span 
class="lass-0900">_4</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">placeholders</span><span 
class="lass-0900">::</span><span 
class="lass-0900">_5</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x043C;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0440;&#x0433;&#x0443;&#x043C;&#x0435;&#x043D;&#x0442;&#x0430;&#x043C;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sharedThread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">make_shared</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x003E;(</span><span 
class="lass-0900">bindThread</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">chopsticks</span><span 
class="lass-0900">[</span><span 
class="lass-0900">threadIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1].</span><span 
class="lass-0900">get</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">chopsticks</span><span 
class="lass-0900">[</span><span 
class="lass-0900">threadIndex</span><span 
class="lass-0900">].</span><span 
class="lass-0900">get</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadIndex</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threads</span><span 
class="lass-0900">[</span><span 
class="lass-0900">threadIndex</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">move</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sharedThread</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">for_each</span><span 
class="lass-0900">(</span><span 
class="lass-0900">threads</span><span 
class="lass-0900">.</span><span 
class="lass-0900">begin</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threads</span><span 
class="lass-0900">.</span><span 
class="lass-0900">end</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">mem_fn</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">::</span><span 
class="lass-0900">join</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Press</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">Enter</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">getchar</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lasx-0900">void</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadEatExecutor</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Fork</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">leftChopstick</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Fork</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">rightChopstick</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">philosopherNumber</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">leftChopstickNumber</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">rightChopstickNumber</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">leftChopstick</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">rightChopstick</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cerr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Chopsticks</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">are</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">same</span><span 
class="lass-0900">.</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0414;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x043E;&#x0431;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x044B;&#x043B;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0434;&#x043B;&#x043E;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">lock</span><span 
class="lass-0900">(</span><span 
class="lass-0900">leftChopstick</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">rightChopstick</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0411;&#x043B;&#x043E;&#x043A;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0432;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0438;&#x043B;&#x043A;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">lock_guard</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">&#x003E;(</span><span 
class="lass-0900">leftChopstick</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">adopt_lock</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Philosopher</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Picked</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">chopstick</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">philosopherNumber</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">leftChopstickNumber</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0411;&#x043B;&#x043E;&#x043A;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0442;&#x043E;&#x0440;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0438;&#x043B;&#x043A;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">lock_guard</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">&#x003E;(</span><span 
class="lass-0900">rightChopstick</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">mutex</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">adopt_lock</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Philosopher</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Picked</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">chopstick</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">philosopherNumber</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">rightChopstickNumber</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Philosopher</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">eats</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">philosopherNumber</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nullptr</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 690--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0435;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F; &#x0437;&#x0430;&#x0434;&#x0430;&#x0447;&#x0438;:
<!--l. 692--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                               
                                                                                               
<a 
 id="x1-2507618"></a>
                                                                                               
                                                                                               
<!--l. 694--><p class="noindent" ><img 
src="../images/p3_1.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id">&#x0420;&#x0438;&#x0441;.&#x00A0;1.18: </span><span  
class="content"></span></div><!--tex4ht:label?: x1-2507618 -->
                                                                                               
                                                                                               
<!--l. 698--><p class="indent" >   </div><hr class="endfigure">
<!--l. 700--><p class="indent" >   &#x041A;&#x0430;&#x0436;&#x0434;&#x044B;&#x0439; &#x0444;&#x0438;&#x043B;&#x043E;&#x0441;&#x043E;&#x0432; &#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x043E; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043B; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x0441;&#x043E;&#x0431;&#x0441;&#x0442;&#x0432;&#x0435;&#x043D;&#x043D;&#x0443;&#x044E; &#x0432;&#x0438;&#x043B;&#x043A;&#x0443; &#x0438; &#x0432;&#x0438;&#x043B;&#x043A;&#x0443; &#x0441;&#x043E;&#x0441;&#x0435;&#x0434;&#x0430; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x0432; &#x0442;&#x043E; &#x0432;&#x0440;&#x0435;&#x043C;&#x044F; &#x043F;&#x043E;&#x043A;&#x0430;
&#x043E;&#x043D;&#x0438; &#x0431;&#x044B;&#x043B;&#x0438; &#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0434;&#x043D;&#x044B;.
                                                                                               
                                                                                               
<a 
 id="x1-25077r13"></a>
<h3 class="sectionHead"><span class="titlemark">1.5   </span> <a 
 id="x1-260005"></a>&#x0412;&#x044B;&#x0432;&#x043E;&#x0434;</h3>
<!--l. 706--><p class="noindent" >&#x0412; &#x0445;&#x043E;&#x0434;&#x0435; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0431;&#x044B;&#x043B;&#x0438; &#x0438;&#x0437;&#x0443;&#x0447;&#x0435;&#x043D;&#x044B; &#x0442;&#x0430;&#x043A;&#x0438;&#x0435; &#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x0430; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x0432; &#x041E;&#x0421; Windows &#x043A;&#x0430;&#x043A;: &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x044B;, &#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x044B;, &#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0438;&#x0435;
&#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438;, &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x044B;-&#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F;, &#x0443;&#x0441;&#x043B;&#x043E;&#x0432;&#x043D;&#x044B;&#x0435; &#x043F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x044B;&#x0435;. &#x0421;&#x0430;&#x043C;&#x044B;&#x043C; &#x0431;&#x044B;&#x0441;&#x0442;&#x0440;&#x044B;&#x043C; &#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x0441;&#x0447;&#x0438;&#x0442;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0430;&#x044F; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x044F;, &#x0442;.&#x043A;. &#x043E;&#x043D;&#x0430;
&#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432; &#x0440;&#x0435;&#x0436;&#x0438;&#x043C;&#x0435; &#x0437;&#x0430;&#x0434;&#x0430;&#x0447;&#x0438; &#x0438; &#x043C;&#x0430;&#x043A;&#x0441;&#x0438;&#x043C;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E; &#x0443;&#x043F;&#x0440;&#x043E;&#x0449;&#x0435;&#x043D;&#x0430;.
     <ul class="itemize1">
     <li class="itemize">&#x041C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x044B; &#x044F;&#x0432;&#x043B;&#x044F;&#x044E;&#x0442;&#x0441;&#x044F; &#x0430;&#x043D;&#x0430;&#x043B;&#x043E;&#x0433;&#x043E;&#x043C; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x0430; &#x0441; &#x0434;&#x0432;&#x0443;&#x043C;&#x044F; &#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x044B;&#x043C;&#x0438; &#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F;&#x043C;&#x0438;. &#x041E;&#x0434;&#x043D;&#x043E;&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F; &#x043A;
     &#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x0443;  &#x0438;&#x043C;&#x0435;&#x0435;&#x0442;  &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E;  &#x043E;&#x0434;&#x0438;&#x043D;  &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;.  &#x041C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x044B;  &#x043C;&#x043E;&#x0433;&#x0443;&#x0442;  &#x0431;&#x044B;&#x0442;&#x044C;  &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x044B;  &#x0434;&#x043B;&#x044F;  &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;  &#x043A;&#x0430;&#x043A;
     &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;, &#x0442;&#x0430;&#x043A; &#x0438; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432;.
     </li>
     <li class="itemize">&#x0421;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x044B;  &#x043F;&#x043E;&#x0437;&#x0432;&#x043E;&#x043B;&#x044F;&#x044E;&#x0442;  &#x0437;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442;&#x0438;&#x0442;&#x044C;  &#x0441;&#x0435;&#x0431;&#x044F;  &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x0438;&#x043C;  &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;&#x043C;,  &#x043F;&#x043E;&#x0441;&#x043B;&#x0435;  &#x0447;&#x0435;&#x0433;&#x043E;  &#x0437;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442;  &#x0431;&#x0443;&#x0434;&#x0435;&#x0442;  &#x043D;&#x0435;&#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x0435;&#x043D;,
     &#x043F;&#x043E;&#x043A;&#x0430;  &#x043E;&#x0434;&#x0438;&#x043D;  &#x0438;&#x0437;  &#x0440;&#x0430;&#x043D;&#x0435;&#x0435;  &#x0437;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442;&#x0438;&#x0432;&#x0448;&#x0438;&#x0445;  &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;  &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;  &#x043D;&#x0435;  &#x043E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0434;&#x0438;&#x0442;  &#x0435;&#x0433;&#x043E;.  &#x0421;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x044B;  &#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x044F;&#x044E;&#x0442;&#x0441;&#x044F;  &#x0434;&#x043B;&#x044F;
     &#x043E;&#x0433;&#x0440;&#x0430;&#x043D;&#x0438;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F;  &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0430;  &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;,  &#x043E;&#x0434;&#x043D;&#x043E;&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E;  &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x044E;&#x0449;&#x0438;&#x0445;  &#x0441;  &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x0430;&#x043C;&#x0438;.  &#x0412;  Windows  &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x044B;  &#x0438;
     &#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x044B; &#x043C;&#x043E;&#x0433;&#x0443;&#x0442; &#x0438;&#x043C;&#x0435;&#x0442;&#x044C; &#x0438;&#x043C;&#x044F;, &#x0447;&#x0435;&#x0440;&#x0435;&#x0437; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x0435; &#x0434;&#x0440;&#x0443;&#x0433;&#x0438;&#x0435; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x044B; &#x043C;&#x043E;&#x0433;&#x0443;&#x0442; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0438;&#x0442;&#x044C; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F; &#x043A; &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x0430;&#x043C;.
     </li>
     <li class="itemize">&#x041A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0430;&#x044F; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x044F; &#x043F;&#x043E;&#x0437;&#x0432;&#x043E;&#x043B;&#x044F;&#x0435;&#x0442; &#x0432;&#x044B;&#x0434;&#x0435;&#x043B;&#x0438;&#x0442;&#x044C; &#x0443;&#x0447;&#x0430;&#x0441;&#x0442;&#x043E;&#x043A; &#x043A;&#x043E;&#x0434;&#x0430;, &#x0433;&#x0434;&#x0435; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x0442; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F; &#x043A; &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x043E;&#x043C;&#x0443;
     &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x0443;, &#x0438; &#x043F;&#x0440;&#x0435;&#x0434;&#x043E;&#x0442;&#x0432;&#x0440;&#x0430;&#x0442;&#x0438;&#x0442;&#x044C; &#x043E;&#x0434;&#x043D;&#x043E;&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E;&#x0435; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x0430;. &#x041A; &#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x043E;&#x0439; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438; &#x043E;&#x0434;&#x043D;&#x043E;&#x043C;&#x043E;&#x043C;&#x0435;&#x043D;&#x0442;&#x043D;&#x043E;
     &#x0438;&#x043C;&#x0435;&#x0435;&#x0442;  &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;  &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E;  &#x043E;&#x0434;&#x0438;&#x043D;  &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;.  &#x0414;&#x0430;&#x043D;&#x043D;&#x043E;&#x0435;  &#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;  &#x043D;&#x0435;  &#x043C;&#x043E;&#x0436;&#x0435;&#x0442;  &#x0431;&#x044B;&#x0442;&#x044C;  &#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x0435;&#x043D;&#x043E;  &#x0434;&#x043B;&#x044F;  &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;
     &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432;. &#x041A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0430;&#x044F; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x044F; &#x043D;&#x0435; &#x044F;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x043E;&#x0431;&#x044A;&#x0435;&#x043A;&#x0442;&#x043E;&#x043C; &#x044F;&#x0434;&#x0440;&#x0430;, &#x043F;&#x043E;&#x044D;&#x0442;&#x043E;&#x043C;&#x0443; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; &#x0441;&#x0435;&#x043C;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0430;
     Wait &#x043D;&#x0435; &#x043F;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x044B;&#x043C;.
     </li>
     <li class="itemize">&#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044E;&#x0442;&#x0441;&#x044F; &#x0434;&#x043B;&#x044F; &#x0443;&#x0432;&#x0435;&#x0434;&#x043E;&#x043C;&#x043B;&#x0435;&#x043D;&#x0438;&#x044F; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x044E;&#x0449;&#x0438;&#x0445; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432; &#x043E; &#x043D;&#x0430;&#x0441;&#x0442;&#x0443;&#x043F;&#x043B;&#x0435;&#x043D;&#x0438;&#x0438; &#x043A;&#x0430;&#x043A;&#x043E;&#x0433;&#x043E;-&#x043B;&#x0438;&#x0431;&#x043E; &#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F;.
     &#x0421;&#x0443;&#x0449;&#x0435;&#x0441;&#x0442;&#x0432;&#x0443;&#x0435;&#x0442;   &#x0434;&#x0432;&#x0430;   &#x0432;&#x0438;&#x0434;&#x0430;   &#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x0439;   -   &#x0441;   &#x0440;&#x0443;&#x0447;&#x043D;&#x044B;&#x043C;   &#x0438;   &#x0430;&#x0432;&#x0442;&#x043E;&#x043C;&#x0430;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0438;&#x043C;   &#x0441;&#x0431;&#x0440;&#x043E;&#x0441;&#x043E;&#x043C;.   &#x0421;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F;   &#x0441;   &#x0440;&#x0443;&#x0447;&#x043D;&#x044B;&#x043C;
     &#x0441;&#x0431;&#x0440;&#x043E;&#x0441;&#x043E;&#x043C;  &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044E;&#x0442;&#x0441;&#x044F;  &#x0434;&#x043B;&#x044F;  &#x0443;&#x0432;&#x0435;&#x0434;&#x043E;&#x043C;&#x043B;&#x0435;&#x043D;&#x0438;&#x044F;  &#x0441;&#x0440;&#x0430;&#x0437;&#x0443;  &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x0438;&#x0445;  &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;.  &#x041F;&#x0440;&#x0438;  &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0438;  &#x0441;&#x043E;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F;  &#x0441;
     &#x0430;&#x0432;&#x0442;&#x043E;&#x043C;&#x0430;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0438;&#x043C; &#x0441;&#x0431;&#x0440;&#x043E;&#x0441;&#x043E;&#x043C; &#x0443;&#x0432;&#x0435;&#x0434;&#x043E;&#x043C;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0438;&#x0442; &#x0438; &#x043F;&#x0440;&#x043E;&#x0434;&#x043E;&#x043B;&#x0436;&#x0438;&#x0442; &#x0441;&#x0432;&#x043E;&#x0435; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x0435; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x043E;&#x0434;&#x0438;&#x043D; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x044E;&#x0449;&#x0438;&#x0439;
     &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;, &#x043E;&#x0441;&#x0442;&#x0430;&#x043B;&#x044C;&#x043D;&#x044B;&#x0435; &#x0431;&#x0443;&#x0434;&#x0443;&#x0442; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0442;&#x044C; &#x0434;&#x0430;&#x043B;&#x044C;&#x0448;&#x0435;.
     </li></ul>
<a 
 id="x1-26001r61"></a>
<h3 class="sectionHead"><span class="titlemark">1.6   </span> <a 
 id="x1-270006"></a>&#x0421;&#x043F;&#x0438;&#x0441;&#x043E;&#x043A; &#x043B;&#x0438;&#x0442;&#x0435;&#x0440;&#x0430;&#x0442;&#x0443;&#x0440;&#x044B;</h3>
     <ul class="itemize1">
     <li class="itemize">CreateMutex function [&#x042D;&#x043B;&#x0435;&#x043A;&#x0442;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;]. &#8212; URL: <a 
href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/ms682411(v=vs.85).aspx" >https://msdn.microsoft.com/ru-ru/library/windows/
     desktop/ms682411(v=vs.85).aspx</a> (&#x0434;&#x0430;&#x0442;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; 17.01.2017).
     </li>
     <li class="itemize">CreateSemaphore              function              [&#x042D;&#x043B;&#x0435;&#x043A;&#x0442;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439;              &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;].              &#8212;              URL:
     <a 
href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/ms682438(v=vs.85).aspx" >https://msdn.microsoft.com/ru-ru/library/windows/
     desktop/ms682438(v=vs.85).aspx</a> (&#x0434;&#x0430;&#x0442;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; 17.01.2017).
     </li>
     <li class="itemize">InitializeCriticalSection function [&#x042D;&#x043B;&#x0435;&#x043A;&#x0442;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;]. &#8212; URL: <a 
href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/ms683472(v=vs.85).aspx" >https://msdn.microsoft.com/ru-ru/library/
     windows/desktop/ms683472(v=vs.85).aspx</a> (&#x0434;&#x0430;&#x0442;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; 17.01.2017).
     </li>
     <li class="itemize">CreateEvent function [&#x042D;&#x043B;&#x0435;&#x043A;&#x0442;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;]. &#8212; URL: <a 
href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/ms682396(v=vs.85).aspx" >https://msdn.microsoft.com/ru-ru/library/windows/
     desktop/ms682396(v=vs.85).aspx</a> (&#x0434;&#x0430;&#x0442;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; 17.01.2017).
     </li>
     <li class="itemize">CreateEvent function [&#x042D;&#x043B;&#x0435;&#x043A;&#x0442;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;]. &#8212; URL: <a 
href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/ms682396(v=vs.85).aspx" >https://msdn.microsoft.com/ru-ru/library/windows/
     desktop/ms682396(v=vs.85).aspx</a> (&#x0434;&#x0430;&#x0442;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; 17.01.2017).
     </li>
     <li class="itemize">InitializeConditionVariable           function           [&#x042D;&#x043B;&#x0435;&#x043A;&#x0442;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439;           &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;].           &#8212;           URL:
     <a 
href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/ms683469(v=vs.85).aspx" >https://msdn.microsoft.com/ru-ru/library/
     windows/desktop/ms683469(v=vs.85).aspx</a> (&#x0434;&#x0430;&#x0442;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; 17.01.2017).
                                                                                               
                                                                                               
     </li>
     <li class="itemize">CreateFileMapping             function             [&#x042D;&#x043B;&#x0435;&#x043A;&#x0442;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439;             &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;].             &#8212;             URL:
     <a 
href="https://msdn.microsoft.com/ru-ru/library/windows/desktop/aa366537(v=vs.85).aspx" >https://msdn.microsoft.com/ru-ru/library/windows/
     desktop/aa366537(v=vs.85).aspx</a> (&#x0434;&#x0430;&#x0442;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; 17.01.2017).
     </li>
     <li class="itemize">&#x0412;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0435;  &#x043C;&#x0435;&#x0436;&#x0434;&#x0443;  &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;&#x043C;&#x0438;  [&#x042D;&#x043B;&#x0435;&#x043A;&#x0442;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439;  &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;].  &#8212;  URL:  <a 
href="http://www.cyberguru.ru/win32/windows-processes-page14.html" >http://www.cyberguru.ru/win32/
     windows-processes-page14.html</a> (&#x0434;&#x0430;&#x0442;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; 17.01.2017).</li></ul>
    
</body></html> 

                                                                                               


