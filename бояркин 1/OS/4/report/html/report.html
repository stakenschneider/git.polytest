<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html xml:lang="ru" > 
<head><title></title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-5"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- html --> 
<meta name="src" content="report.tex"> 
<meta name="date" content="2016-12-19 01:33:00"> 
<link rel="stylesheet" type="text/css" href="report.css"> 
</head><body 
>
<!--l. 59--><p class="noindent" >
                                                                                               
                                                                                               
<div class="center" 
>
<!--l. 60--><p class="noindent" >
<!--l. 63--><p class="noindent" ><span 
class="lacc-1000">&#x0421;<span 
class="small-caps">&#x0410;</span>&#x043D;&#x043A;&#x0442;-&#x041F;&#x0415;&#x0442;&#x0415;&#x0440;&#x0431;&#x0443;&#x0440;&#x0433;&#x0441;&#x043A;&#x0438;&#x0439; &#x041F;&#x043E;&#x043B;&#x0438;&#x0442;&#x0415;&#x0445;&#x043D;&#x0438;&#x0447;&#x0415;&#x0441;&#x043A;&#x0438;&#x0439; &#x0423;&#x043D;&#x0438;&#x0432;&#x0415;&#x0440;&#x0441;&#x0438;&#x0442;&#x0415;&#x0442; &#x041F;&#x0415;&#x0442;&#x0440;<span 
class="small-caps">&#x0410;</span> &#x0412;&#x0415;&#x043B;&#x0438;&#x043A;&#x043E;&#x0433;&#x043E;</span><br /><br />
<span 
class="lacc-1000">&#x041A;<span 
class="small-caps">&#x0410;</span>&#x0444;&#x0415;&#x0434;&#x0440;<span 
class="small-caps">&#x0410;</span> &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0415;&#x0440;&#x043D;&#x044B;&#x0445; &#x0441;&#x0438;&#x0441;&#x0442;&#x0415;&#x043C; &#x0438; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;<span 
class="small-caps">&#x0410;</span>&#x043C;&#x043C;&#x043D;&#x044B;&#x0445; &#x0442;&#x0415;&#x0445;&#x043D;&#x043E;&#x043B;&#x043E;&#x0433;&#x0438;&#x0439;</span>
<!--l. 70--><p class="noindent" ><span 
class="labx-1000">&#x041E;&#x0442;&#x0447;&#x0451;&#x0442; &#x043F;&#x043E; &#x043B;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430;&#x0442;&#x043E;&#x0440;&#x043D;&#x043E;&#x0439; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0435; &#x2116;4</span><br /><br />
<span 
class="labx-1000">&#x041A;&#x0443;&#x0440;&#x0441;: «&#x041E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x044B;&#x0435; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B;»</span><br /><br />
<span 
class="labx-1000">&#x0422;&#x0435;&#x043C;&#x0430;: «&#x0421;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x0435; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435; UNIX»</span><br /><br />
</div>
<!--l. 73--><p class="indent" >                         <div class="minipage">&#x0412;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0438;&#x043B; &#x0441;&#x0442;&#x0443;&#x0434;&#x0435;&#x043D;&#x0442;:<br 
class="newline" /> &#x0411;&#x043E;&#x044F;&#x0440;&#x043A;&#x0438;&#x043D; &#x041D;&#x0438;&#x043A;&#x0438;&#x0442;&#x0430; &#x0421;&#x0435;&#x0440;&#x0433;&#x0435;&#x0435;&#x0432;&#x0438;&#x0447;<br 
class="newline" />&#x0413;&#x0440;&#x0443;&#x043F;&#x043F;&#x0430;: 43501/3<br 
class="newline" />
<!--l. 79--><p class="noindent" >&#x041F;&#x0440;&#x043E;&#x0432;&#x0435;&#x0440;&#x0438;&#x043B;:<br 
class="newline" /> &#x0414;&#x0443;&#x0448;&#x0443;&#x0442;&#x0438;&#x043D;&#x0430; &#x0415;&#x043B;&#x0435;&#x043D;&#x0430; &#x0412;&#x043B;&#x0430;&#x0434;&#x0438;&#x043C;&#x0438;&#x0440;&#x043E;&#x0432;&#x043D;&#x0430;
</div>
<div class="center" 
>
<!--l. 83--><p class="noindent" >
<!--l. 84--><p class="noindent" >&#x0421;&#x0430;&#x043D;&#x043A;&#x0442;-&#x041F;&#x0435;&#x0442;&#x0435;&#x0440;&#x0431;&#x0443;&#x0440;&#x0433;<br />
2016&#x00A0;&#x0433;.</div>
                                                                                               
                                                                                               
                                                                                               
                                                                                               
<a 
 id="x1-1000"></a>
   <h2 class="likechapterHead"><a 
 id="x1-2000"></a>&#x0421;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0430;&#x043D;&#x0438;&#x0435;</h2> <div class="tableofcontents">
   <span class="chapterToc" >1 <a 
href="#x1-30001" id="QQ2-1-3">&#x041B;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430;&#x0442;&#x043E;&#x0440;&#x043D;&#x0430;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430; &#x2116;4</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.1 <a 
href="#x1-40001" id="QQ2-1-4">&#x0426;&#x0435;&#x043B;&#x044C; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.2 <a 
href="#x1-50002" id="QQ2-1-5">&#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.3 <a 
href="#x1-140003" id="QQ2-1-14">&#x0425;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B;</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.4 <a 
href="#x1-150004" id="QQ2-1-17">&#x0425;&#x043E;&#x0434; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.4.1 <a 
href="#x1-160001" id="QQ2-1-18">&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 1. &#x041D;&#x0435;&#x043D;&#x0430;&#x0434;&#x0435;&#x0436;&#x043D;&#x044B;&#x0435; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B;</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.4.2 <a 
href="#x1-190002" id="QQ2-1-34">&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 2. &#x041D;&#x0430;&#x0434;&#x0435;&#x0436;&#x043D;&#x044B;&#x0435; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B;</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.4.3 <a 
href="#x1-230003" id="QQ2-1-42">&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 3. &#x0421;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B; POSIX &#x0440;&#x0435;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438;</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.4.4 <a 
href="#x1-250004" id="QQ2-1-46">&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 4. &#x041D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.4.5 <a 
href="#x1-270005" id="QQ2-1-52">&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 5. &#x0418;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.4.6 <a 
href="#x1-290006" id="QQ2-1-58">&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 6. &#x041E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.4.7 <a 
href="#x1-310007" id="QQ2-1-65">&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 7. &#x0421;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x044B; &#x0438; &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0430;&#x044F; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.4.8 <a 
href="#x1-350008" id="QQ2-1-78">&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 8. &#x0421;&#x043E;&#x043A;&#x0435;&#x0442;&#x044B;</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.5 <a 
href="#x1-410005" id="QQ2-1-103">&#x0412;&#x044B;&#x0432;&#x043E;&#x0434;</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.6 <a 
href="#x1-420006" id="QQ2-1-104">&#x0421;&#x043F;&#x0438;&#x0441;&#x043E;&#x043A; &#x043B;&#x0438;&#x0442;&#x0435;&#x0440;&#x0430;&#x0442;&#x0443;&#x0440;&#x044B;</a></span>
   </div>
                                                                                               
                                                                                               
                                                                                               
                                                                                               
   <h2 class="chapterHead"><span class="titlemark">&#x0413;&#x043B;&#x0430;&#x0432;&#x0430;&#x00A0;1</span><br /><a 
 id="x1-30001"></a>&#x041B;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430;&#x0442;&#x043E;&#x0440;&#x043D;&#x0430;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430; &#x2116;4</h2>
<a 
 id="x1-3001r1"></a>
<h3 class="sectionHead"><span class="titlemark">1.1   </span> <a 
 id="x1-40001"></a>&#x0426;&#x0435;&#x043B;&#x044C; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</h3>
<!--l. 96--><p class="noindent" >&#x0418;&#x0437;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435; &#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432; &#x043C;&#x0435;&#x0436;&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0440;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x044F; (IPC) &#x0432; &#x041E;&#x0421; Linux, &#x0442;&#x0430;&#x043A;&#x0438;&#x0445; &#x043A;&#x0430;&#x043A;: &#x043D;&#x0430;&#x0434;&#x0435;&#x0436;&#x043D;&#x044B;&#x0435; &#x0438; &#x043D;&#x0435;&#x043D;&#x0430;&#x0434;&#x0435;&#x0436;&#x043D;&#x044B;&#x0435;
&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B;, &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x0438; &#x043D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;, &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;, &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x044B; &#x0438; &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0430;&#x044F; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;,
&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x044B;.
<a 
 id="x1-4001r4"></a>
<h3 class="sectionHead"><span class="titlemark">1.2   </span> <a 
 id="x1-50002"></a>&#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</h3>
<h5 class="subsubsectionHead"><a 
 id="x1-60002"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 1. &#x041D;&#x0435;&#x043D;&#x0430;&#x0434;&#x0435;&#x0436;&#x043D;&#x044B;&#x0435; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B;</h5>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-6002x1">&#x0421;&#x043E;&#x0441;&#x0442;&#x0430;&#x0432;&#x044C;&#x0442;&#x0435; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443;, &#x043F;&#x043E;&#x0437;&#x0432;&#x043E;&#x043B;&#x044F;&#x044E;&#x0449;&#x0443;&#x044E; &#x0438;&#x0437;&#x043C;&#x0435;&#x043D;&#x0438;&#x0442;&#x044C; &#x0434;&#x0438;&#x0441;&#x043F;&#x043E;&#x0437;&#x0438;&#x0446;&#x0438;&#x044E; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;, &#x0430; &#x0438;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E;, &#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x0438;&#x0442;&#x044C;: &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;
     &#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;&#x0441;&#x043A;&#x0438;&#x0445;  &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;  SIGUSR1  &#x0438;  SIGUSR2,  &#x0440;&#x0435;&#x0430;&#x043A;&#x0446;&#x0438;&#x044E;  &#x043F;&#x043E;  &#x0443;&#x043C;&#x043E;&#x043B;&#x0447;&#x0430;&#x043D;&#x0438;&#x044E;  &#x043D;&#x0430;  &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;  SIGINT,
     &#x0438;&#x0433;&#x043D;&#x043E;&#x0440;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;  &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;  SIGCHLD.  &#x041F;&#x043E;&#x0440;&#x043E;&#x0434;&#x0438;&#x0442;&#x044C;  &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;  &#x043A;&#x043E;&#x043F;&#x0438;&#x044E;  &#x0438;  &#x0443;&#x0439;&#x0442;&#x0438;  &#x0432;  &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;.  &#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;
     &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;  &#x0434;&#x043E;&#x043B;&#x0436;&#x0435;&#x043D;  &#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0430;&#x0442;&#x044C;  &#x0432;&#x043E;&#x0441;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435;  &#x0434;&#x0438;&#x0441;&#x043F;&#x043E;&#x0437;&#x0438;&#x0446;&#x0438;&#x0438;  &#x0438;  &#x043E;&#x043F;&#x043E;&#x0432;&#x0435;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;  &#x043D;&#x0430;  &#x044D;&#x043A;&#x0440;&#x0430;&#x043D;&#x0435;  &#x043E;  (&#x0443;&#x0434;&#x0430;&#x0447;&#x043D;&#x043E;  &#x0438;&#x043B;&#x0438;
     &#x043D;&#x0435;&#x0443;&#x0434;&#x0430;&#x0447;&#x043D;&#x043E;) &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x043D;&#x043E;&#x043C; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0435; &#x0438; &#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440;&#x0435; &#x0440;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x0441;&#x043A;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;. &#x041F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;-&#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x043E;&#x043A;, &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0438;&#x0432;
     &#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440; &#x0440;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x0441;&#x043A;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;, &#x043F;&#x043E;&#x0441;&#x044B;&#x043B;&#x0430;&#x0435;&#x0442; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0443;-&#x0440;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044E; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B; SIGUSR1 &#x0438; &#x0438;&#x0437;&#x0432;&#x0435;&#x0449;&#x0430;&#x0435;&#x0442; &#x043E;&#x0431;
     &#x0443;&#x0434;&#x0430;&#x0447;&#x043D;&#x043E;&#x0439; &#x0438;&#x043B;&#x0438; &#x043D;&#x0435;&#x0443;&#x0434;&#x0430;&#x0447;&#x043D;&#x043E;&#x0439; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0435; &#x0443;&#x043A;&#x0430;&#x0437;&#x0430;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;. &#x041E;&#x0441;&#x0442;&#x0430;&#x043B;&#x044C;&#x043D;&#x044B;&#x0435; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B; &#x0433;&#x0435;&#x043D;&#x0435;&#x0440;&#x0438;&#x0440;&#x0443;&#x044E;&#x0442;&#x044F; &#x0438;&#x0437; &#x043A;&#x043E;&#x043C;&#x0430;&#x043D;&#x0434;&#x043D;&#x043E;&#x0439;
     &#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;.
     </li>
     <li 
  class="enumerate" id="x1-6004x2">&#x041F;&#x043E;&#x0432;&#x0442;&#x043E;&#x0440;&#x0438;&#x0442;&#x044C; &#x044D;&#x043A;&#x0441;&#x043F;&#x0435;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x0442; &#x0434;&#x043B;&#x044F; &#x0434;&#x0440;&#x0443;&#x0433;&#x0438;&#x0445; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;, &#x043F;&#x043E;&#x0440;&#x043E;&#x0436;&#x0434;&#x0430;&#x0435;&#x043C;&#x044B;&#x0445; &#x0432; &#x0440;&#x0430;&#x0437;&#x043D;&#x044B;&#x0445; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430;&#x0445;, &#x0430; &#x0442;&#x0430;&#x043A; &#x0436;&#x0435; &#x0434;&#x043B;&#x044F; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;
     &#x043E;&#x0434;&#x043D;&#x043E;&#x0433;&#x043E; &#x0438; &#x0440;&#x0430;&#x0437;&#x043D;&#x044B;&#x0445; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432;.</li></ol>
<h5 class="subsubsectionHead"><a 
 id="x1-70002"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 2. &#x041D;&#x0430;&#x0434;&#x0435;&#x0436;&#x043D;&#x044B;&#x0435; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B;</h5>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-7002x1">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0442;&#x044C;   &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443;,   &#x043F;&#x043E;&#x0437;&#x0432;&#x043E;&#x043B;&#x044F;&#x044E;&#x0449;&#x0443;&#x044E;   &#x043F;&#x0440;&#x043E;&#x0434;&#x0435;&#x043C;&#x043E;&#x043D;&#x0441;&#x0442;&#x0440;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C;   &#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;&#x0441;&#x0442;&#x044C;   &#x043E;&#x0442;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x043D;&#x043E;&#x0439;   &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0438;
     (&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E; &#x0431;&#x043B;&#x043E;&#x043A;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;) &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;.
     </li>
     <li 
  class="enumerate" id="x1-7004x2">&#x0418;&#x0437;&#x043C;&#x0435;&#x043D;&#x0438;&#x0442;&#x044C; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A; &#x0442;&#x0430;&#x043A;, &#x0447;&#x0442;&#x043E;&#x0431;&#x044B; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0430; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; SIGINT &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x043B;&#x0430;&#x0441;&#x044C; &#x0438;&#x0437; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439;
     kill.
     </li>
     <li 
  class="enumerate" id="x1-7006x3">&#x0421;&#x0440;&#x0430;&#x0432;&#x043D;&#x0438;&#x0442;&#x0435; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0438; &#x043D;&#x0430;&#x0434;&#x0435;&#x0436;&#x043D;&#x044B;&#x0445; &#x0438; &#x043D;&#x0435;&#x043D;&#x0430;&#x0434;&#x0435;&#x0436;&#x043D;&#x044B;&#x0445; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;.</li></ol>
<h5 class="subsubsectionHead"><a 
 id="x1-80002"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 3. &#x0421;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B; POSIX &#x0440;&#x0435;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438;</h5>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-8002x1">&#x041F;&#x0440;&#x043E;&#x0432;&#x0435;&#x0441;&#x0442;&#x0438; &#x044D;&#x043A;&#x0441;&#x043F;&#x0435;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x0442;, &#x043F;&#x043E;&#x0437;&#x0432;&#x043E;&#x043B;&#x044F;&#x044E;&#x0449;&#x0438;&#x0439; &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0438;&#x0442;&#x044C; &#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;&#x0441;&#x0442;&#x044C; &#x043E;&#x0440;&#x0433;&#x0430;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438; &#x0434;&#x043B;&#x044F; &#x0440;&#x0430;&#x0437;&#x043B;&#x0438;&#x0447;&#x043D;&#x044B;&#x0445;
     &#x0442;&#x0438;&#x043F;&#x043E;&#x0432; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;, &#x043E;&#x0431;&#x044B;&#x0447;&#x043D;&#x044B;&#x0445; &#x0438; &#x0440;&#x0435;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438;.
     </li>
     <li 
  class="enumerate" id="x1-8004x2">&#x042D;&#x043A;&#x0441;&#x043F;&#x0435;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x0442;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;  &#x043F;&#x043E;&#x0434;&#x0442;&#x0432;&#x0435;&#x0440;&#x0434;&#x0438;&#x0442;&#x044C;,  &#x0447;&#x0442;&#x043E;  &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430;  &#x0440;&#x0430;&#x0432;&#x043D;&#x043E;&#x043F;&#x0440;&#x0438;&#x043E;&#x0440;&#x0438;&#x0442;&#x0435;&#x0442;&#x043D;&#x044B;&#x0445;  &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;  &#x0440;&#x0435;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E;  &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438;
     &#x043F;&#x0440;&#x043E;&#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442; &#x0432; &#x043F;&#x043E;&#x0440;&#x044F;&#x0434;&#x043A;&#x0435; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;.
     </li>
     <li 
  class="enumerate" id="x1-8006x3">&#x041E;&#x043F;&#x044B;&#x0442;&#x043D;&#x044B;&#x043C; &#x043F;&#x0443;&#x0442;&#x0435;&#x043C; &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0438;&#x0442;&#x044C; &#x043D;&#x0430;&#x043B;&#x0438;&#x0447;&#x0438;&#x0435; &#x043F;&#x0440;&#x0438;&#x043E;&#x0440;&#x0438;&#x0442;&#x0435;&#x0442;&#x043E;&#x0432; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432; &#x0440;&#x0435;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438;.</li></ol>
<h5 class="subsubsectionHead"><a 
 id="x1-90002"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 4. &#x041D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;</h5>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-9002x1">&#x041E;&#x0440;&#x0433;&#x0430;&#x043D;&#x0438;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C;  &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443;  &#x0442;&#x0430;&#x043A;,  &#x0447;&#x0442;&#x043E;&#x0431;&#x044B;  &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;-&#x0440;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;  &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0432;&#x0430;&#x043B;  &#x043D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439;  &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;,  &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0432;&#x0430;&#x043B;
     &#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x043A;&#x0430;,  &#x0437;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x043B;  &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;  &#x043D;&#x0430;  &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C;  &#x0438;  &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044B;&#x0432;&#x0430;&#x043B;  &#x0432;  &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x043B;&#x044C;&#x043D;&#x044B;&#x0439;  &#x0442;&#x0435;&#x043A;&#x0441;&#x0442;&#x043E;&#x0432;&#x044B;&#x0439;  &#x0444;&#x0430;&#x0439;&#x043B;  &#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;&#x0443;&#x044E;
     &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x044E;. &#x0412; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0435;-&#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x043A;&#x0435; &#x0431;&#x0443;&#x0434;&#x0435;&#x0442; &#x043F;&#x0440;&#x043E;&#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442;&#x044C; &#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0438;&#x0437; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430; &#x0438; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C; &#x0432; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;.</li></ol>
<h5 class="subsubsectionHead"><a 
 id="x1-100002"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 5. &#x0418;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;</h5>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-10002x1">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0442;&#x044C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0435; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435;, &#x0434;&#x0435;&#x043C;&#x043E;&#x043D;&#x0441;&#x0442;&#x0440;&#x0438;&#x0440;&#x0443;&#x044E;&#x0449;&#x0435;&#x0435; &#x0434;&#x0443;&#x043F;&#x043B;&#x0435;&#x043A;&#x0441;&#x043D;&#x0443;&#x044E; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0443; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x0438; &#x0434;&#x0432;&#x0443;&#x043C;&#x044F;
     &#x043E;&#x0434;&#x043D;&#x043E;&#x043D;&#x0430;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x043C;&#x0438; &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x043C;&#x0438; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;&#x043C;&#x0438; &#x043C;&#x0435;&#x0436;&#x0434;&#x0443; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x043C; &#x0438; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043E;&#x043C;.</li></ol>
                                                                                               
                                                                                               
<h5 class="subsubsectionHead"><a 
 id="x1-110002"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 6. &#x041E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;</h5>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-11002x1">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0442;&#x044C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0435; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435;, &#x0434;&#x0435;&#x043C;&#x043E;&#x043D;&#x0441;&#x0442;&#x0440;&#x0438;&#x0440;&#x0443;&#x044E;&#x0449;&#x0435;&#x0435; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0443; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x0438; &#x043C;&#x0435;&#x0436;&#x0434;&#x0443; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;&#x043C;&#x0438;
     &#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;.</li></ol>
<h5 class="subsubsectionHead"><a 
 id="x1-120002"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 7. &#x0421;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x044B; &#x0438; &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0430;&#x044F; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</h5>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-12002x1">&#x0415;&#x0441;&#x0442;&#x044C;  &#x043E;&#x0434;&#x0438;&#x043D;  &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;,  &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x044E;&#x0449;&#x0438;&#x0439;  &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C;  &#x0432;  &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0443;&#x044E;  &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;  &#x0438;  &#x043E;&#x0434;&#x0438;&#x043D;  &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;,  &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x044E;&#x0449;&#x0438;&#x0439;
     &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x0435; &#x0438;&#x0437; &#x043D;&#x0435;&#x0435;. &#x041F;&#x043E;&#x0434; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x0435;&#x043C; &#x043F;&#x043E;&#x043D;&#x0438;&#x043C;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0438;&#x0437;&#x0432;&#x043B;&#x0435;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0438;&#x0437; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438;. &#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x0434;&#x043E;&#x043B;&#x0436;&#x043D;&#x0430; &#x043E;&#x0431;&#x0435;&#x0441;&#x043F;&#x0435;&#x0447;&#x0438;&#x0442;&#x044C;
     &#x043D;&#x0435;&#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;&#x0441;&#x0442;&#x044C; &#x043F;&#x043E;&#x0432;&#x0442;&#x043E;&#x0440;&#x043D;&#x043E;&#x0433;&#x043E; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044F; &#x043E;&#x0434;&#x043D;&#x0438;&#x0445; &#x0438; &#x0442;&#x0435;&#x0445; &#x0436;&#x0435; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0438; &#x043D;&#x0435;&#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;&#x0441;&#x0442;&#x044C; &#x043F;&#x0435;&#x0440;&#x0435;&#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445;, &#x0442;.&#x0435;.
     &#x043D;&#x043E;&#x0432;&#x043E;&#x0439; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438;, &#x0434;&#x043E; &#x0442;&#x0435;&#x0445; &#x043F;&#x043E;&#x0440;, &#x043F;&#x043E;&#x043A;&#x0430; &#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C; &#x043D;&#x0435; &#x043F;&#x0440;&#x043E;&#x0447;&#x0438;&#x0442;&#x0430;&#x0435;&#x0442; &#x043F;&#x0440;&#x0435;&#x0434;&#x044B;&#x0434;&#x0443;&#x0449;&#x0443;&#x044E;. &#x0412; &#x0442;&#x0430;&#x043A;&#x043E;&#x043C; &#x0432;&#x0430;&#x0440;&#x0438;&#x0430;&#x043D;&#x0442;&#x0435; &#x0437;&#x0430;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F; &#x0434;&#x043B;&#x044F;
     &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432; &#x0434;&#x043E;&#x0441;&#x0442;&#x0430;&#x0442;&#x043E;&#x0447;&#x043D;&#x043E; &#x0434;&#x0432;&#x0443;&#x0445; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x043E;&#x0432;.
     </li>
     <li 
  class="enumerate" id="x1-12004x2">&#x0414;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435; &#x0443;&#x0441;&#x043B;&#x043E;&#x0432;&#x0438;&#x044F; &#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0439; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x0438;&#x0445; &#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439; &#x0438; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x0438;&#x0445; &#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439; &#x043E;&#x0434;&#x043D;&#x043E;&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E;.
     </li>
     <li 
  class="enumerate" id="x1-12006x3">&#x0414;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435; &#x043D;&#x0435; &#x0435;&#x0434;&#x0438;&#x043D;&#x0438;&#x0447;&#x043D;&#x043E;&#x0433;&#x043E; &#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430;, &#x0430; &#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430; &#x043D;&#x0435;&#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x0433;&#x043E; &#x0440;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;&#x0430;. &#x0422;&#x0438;&#x043F; &#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430; &#x043D;&#x0435; &#x0438;&#x043C;&#x0435;&#x0435;&#x0442; &#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F;.</li></ol>
<h5 class="subsubsectionHead"><a 
 id="x1-130002"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 8. &#x0421;&#x043E;&#x043A;&#x0435;&#x0442;&#x044B;</h5>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-13002x1">&#x0420;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C;  TCP  &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;,  &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0439;  &#x043F;&#x0440;&#x043E;&#x0441;&#x043B;&#x0443;&#x0448;&#x0438;&#x0432;&#x0430;&#x0435;&#x0442;  &#x0437;&#x0430;&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439;  &#x043F;&#x043E;&#x0440;&#x0442;.  &#x041F;&#x0440;&#x0438;  &#x043F;&#x0440;&#x0438;&#x0445;&#x043E;&#x0434;&#x0435;  &#x043D;&#x043E;&#x0432;&#x043E;&#x0433;&#x043E;  &#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F;
     &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x043D;&#x043E;&#x0432;&#x044B;&#x0439; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A; &#x0434;&#x043B;&#x044F; &#x0435;&#x0433;&#x043E; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0438;. &#x0420;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430; &#x0441; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x043C; &#x043E;&#x0440;&#x0433;&#x0430;&#x043D;&#x0438;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0430; &#x043A;&#x0430;&#x043A; &#x0431;&#x0435;&#x0441;&#x043A;&#x043E;&#x043D;&#x0435;&#x0447;&#x043D;&#x044B;&#x0439; &#x0446;&#x0438;&#x043A;&#x043B;, &#x0432;
     &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x043C; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x043F;&#x0440;&#x0438;&#x0435;&#x043C; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439; &#x043E;&#x0442; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;, &#x0432;&#x044B;&#x0432;&#x043E;&#x0434; &#x0435;&#x0433;&#x043E; &#x043D;&#x0430; &#x044D;&#x043A;&#x0440;&#x0430;&#x043D; &#x0438; &#x043F;&#x0435;&#x0440;&#x0435;&#x0441;&#x044B;&#x043B;&#x043A;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0442;&#x043D;&#x043E; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0443;.
     &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0430;&#x044F; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x044F; &#x0441; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043E;&#x043C; &#x0442;&#x0430;&#x043A; &#x0436;&#x0435; &#x0432; &#x0431;&#x0435;&#x0441;&#x043A;&#x043E;&#x043D;&#x0435;&#x0447;&#x043D;&#x043E;&#x043C; &#x0446;&#x0438;&#x043A;&#x043B;&#x0435; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x0435;&#x0442; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x0435;
     &#x0432;&#x0432;&#x043E;&#x0434;&#x0430; &#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;, &#x043F;&#x0435;&#x0440;&#x0435;&#x0441;&#x044B;&#x043B;&#x043A;&#x0443; &#x0435;&#x0433;&#x043E; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443; &#x0438; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;. &#x0415;&#x0441;&#x043B;&#x0438; &#x0431;&#x044B;&#x043B;&#x0430; &#x0432;&#x0432;&#x0435;&#x0434;&#x0435;&#x043D;&#x0430; &#x043F;&#x0443;&#x0441;&#x0442;&#x0430;&#x044F; &#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0430;,
     &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;.
     </li>
     <li 
  class="enumerate" id="x1-13004x2">&#x041C;&#x043E;&#x0434;&#x0438;&#x0444;&#x0438;&#x0446;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x043F;&#x0440;&#x0435;&#x0434;&#x044B;&#x0434;&#x0443;&#x0449;&#x0443;&#x044E; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443; &#x0434;&#x043B;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0441; &#x0431;&#x043E;&#x043B;&#x044C;&#x0448;&#x0438;&#x043C; &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;. &#x041F;&#x0440;&#x043E;&#x0432;&#x0435;&#x0441;&#x0442;&#x0438;
     &#x044D;&#x043A;&#x0441;&#x043F;&#x0435;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x0442;,  &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x044F;&#x044E;&#x0449;&#x0438;&#x0439;  &#x043F;&#x0440;&#x0438;  &#x043A;&#x0430;&#x043A;&#x043E;&#x043C;  &#x043C;&#x0430;&#x043A;&#x0441;&#x0438;&#x043C;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0432;  &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0435;  &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;  TCP  &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;  &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442;
     &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;.
     </li>
     <li 
  class="enumerate" id="x1-13006x3">&#x0412;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0438;&#x0442;&#x044C; &#x0430;&#x043D;&#x0430;&#x043B;&#x043E;&#x0433;&#x0438;&#x0447;&#x043D;&#x044B;&#x0435; &#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x044F; &#x043D;&#x0430; &#x043E;&#x0441;&#x043D;&#x043E;&#x0432;&#x0435; &#x043F;&#x0440;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x043B;&#x0430; UDP, &#x0441;&#x0440;&#x0430;&#x0432;&#x043D;&#x0438;&#x0442;&#x044C; &#x0441; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044F;&#x043C;&#x0438; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;.
     </li>
     <li 
  class="enumerate" id="x1-13008x4">&#x041F;&#x0440;&#x043E;&#x0432;&#x0435;&#x0441;&#x0442;&#x0438;  &#x044D;&#x043A;&#x0441;&#x043F;&#x0435;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x0442;,  &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x044F;&#x044E;&#x0449;&#x0438;&#x0439;  &#x043F;&#x0440;&#x0438;  &#x043A;&#x0430;&#x043A;&#x043E;&#x043C;  &#x043C;&#x0430;&#x043A;&#x0441;&#x0438;&#x043C;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0432;  &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0435;  &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;  UDP  &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;
     &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;.
     </li>
     <li 
  class="enumerate" id="x1-13010x5">&#x0417;&#x0430;&#x043F;&#x0443;&#x0441;&#x0442;&#x0438;&#x0442;&#x044C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x044B;&#x0435; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F; &#x043D;&#x0430; &#x043B;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430;&#x0442;&#x043E;&#x0440;&#x043D;&#x044B;&#x0445; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x0430;&#x0445;.</li></ol>
<a 
 id="x1-13011r5"></a>
<h3 class="sectionHead"><span class="titlemark">1.3   </span> <a 
 id="x1-140003"></a>&#x0425;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B;</h3>
<!--l. 161--><p class="noindent" >&#x041D;&#x0435;&#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x0430;&#x044F; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x044F; &#x043E;&#x0431; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x043E;&#x0439; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0435; &#x0438; &#x0442;&#x0435;&#x043A;&#x0443;&#x0449;&#x0435;&#x043C; &#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;:
   <!--l. 163--><div class="lstinputlisting">
<a 
 id="x1-14001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~</span><span 
class="lass-0900">$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">who</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">tty7</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2016</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">11</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">01</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">10:08</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(:0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~</span><span 
class="lass-0900">$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cat</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">proc</span><span 
class="lass-0900">/</span><span 
class="lass-0900">version</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">Linux</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">version</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">4.4.0</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">31</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">generic</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buildd@lgw01</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">16)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">gcc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">version</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5.3.1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">20160413</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Ubuntu</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5.3.1</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">14</span><span 
class="lass-0900">ubuntu2</span><span 
class="lass-0900">.1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#50</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">Ubuntu</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SMP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Wed</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Jul</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">13</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">00:07:12</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">UTC</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2016</span>
   </div>
<!--l. 165--><p class="indent" >   &#x0418;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x044F; &#x043E;&#x0431; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x043E;&#x0439; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0435; &#x0438; &#x0442;&#x0435;&#x043A;&#x0443;&#x0449;&#x0435;&#x043C; &#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x0430; &#x0432; &#x043B;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430;&#x0442;&#x043E;&#x0440;&#x0438;&#x0438;:
   <!--l. 167--><div class="lstinputlisting">
<a 
 id="x1-14008"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14009r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">g4081_12@SPOComp7</span><span 
class="lass-0900">:~</span><span 
class="lass-0900">$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">who</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14010r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">g4081_12</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">tty7</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2016</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">11</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">18</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">12:10</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(:0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14011r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">g4081_12@SPOComp7</span><span 
class="lass-0900">:~</span><span 
class="lass-0900">$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cat</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">proc</span><span 
class="lass-0900">/</span><span 
class="lass-0900">version</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14012r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">Linux</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">version</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2.6.35</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">30</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">generic</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pae</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buildd@vernadsky</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">gcc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">version</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">4.4.5</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Ubuntu</span><span 
class="lass-0900">/</span><span 
class="lass-0900">Linaro</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">4.4.4</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">14</span><span 
class="lass-0900">ubuntu5</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#56</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">Ubuntu</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SMP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Mon</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Jul</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">11</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">21:51:12</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">UTC</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2011</span>
   </div>
<!--l. 169--><p class="indent" >   &#x041D;&#x0430; &#x0434;&#x043E;&#x043C;&#x0430;&#x0448;&#x043D;&#x0435;&#x043C; &#x0438; &#x043B;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430;&#x0442;&#x043E;&#x0440;&#x043D;&#x043E;&#x043C; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x0430;&#x0445; &#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043B;&#x0435;&#x043D;&#x044B; &#x0440;&#x0435;&#x0430;&#x043B;&#x044C;&#x043D;&#x044B;&#x0435; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B;.
                                                                                               
                                                                                               
<a 
 id="x1-14015r14"></a>
<h3 class="sectionHead"><span class="titlemark">1.4   </span> <a 
 id="x1-150004"></a>&#x0425;&#x043E;&#x0434; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</h3>
<a 
 id="x1-15001r1"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.1   </span> <a 
 id="x1-160001"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 1. &#x041D;&#x0435;&#x043D;&#x0430;&#x0434;&#x0435;&#x0436;&#x043D;&#x044B;&#x0435; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B;</h4>
<h5 class="subsubsectionHead"><a 
 id="x1-170001"></a>1. &#x0421;&#x043E;&#x0441;&#x0442;&#x0430;&#x0432;&#x044C;&#x0442;&#x0435; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443;, &#x043F;&#x043E;&#x0437;&#x0432;&#x043E;&#x043B;&#x044F;&#x044E;&#x0449;&#x0443;&#x044E; &#x0438;&#x0437;&#x043C;&#x0435;&#x043D;&#x0438;&#x0442;&#x044C; &#x0434;&#x0438;&#x0441;&#x043F;&#x043E;&#x0437;&#x0438;&#x0446;&#x0438;&#x044E; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;, &#x0430; &#x0438;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E;, &#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x0438;&#x0442;&#x044C;: &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;
&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;&#x0441;&#x043A;&#x0438;&#x0445; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432; SIGUSR1 &#x0438; SIGUSR2, &#x0440;&#x0435;&#x0430;&#x043A;&#x0446;&#x0438;&#x044E; &#x043F;&#x043E; &#x0443;&#x043C;&#x043E;&#x043B;&#x0447;&#x0430;&#x043D;&#x0438;&#x044E; &#x043D;&#x0430; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B; SIGINT, &#x0438;&#x0433;&#x043D;&#x043E;&#x0440;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;
SIGCHLD. &#x041F;&#x043E;&#x0440;&#x043E;&#x0434;&#x0438;&#x0442;&#x044C; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441; &#x043A;&#x043E;&#x043F;&#x0438;&#x044E; &#x0438; &#x0443;&#x0439;&#x0442;&#x0438; &#x0432; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;.</h5>
<!--l. 179--><p class="noindent" >&#x0420;&#x0430;&#x0437;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x0435;&#x043C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443;, &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x044E;&#x0449;&#x0443;&#x044E; &#x044D;&#x0442;&#x0438; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;:
   <!--l. 181--><div class="lstinputlisting">
<a 
 id="x1-17001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Parent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getpid</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getppid</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">SIGUSR1</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">SIGUSR2</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0434;&#x0438;&#x043D;&#x0430;&#x043A;&#x043E;&#x0432;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGUSR1</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGUSR2</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x043C;&#x043E;&#x043B;&#x0447;&#x0430;&#x043D;&#x0438;&#x044E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIG_DFL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0433;&#x043D;&#x043E;&#x0440;&#x0438;&#x0440;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGCHLD</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIG_IGN</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">fork</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Child</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getpid</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getppid</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x0441;&#x043A;&#x043E;&#x043C;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">kill</span><span 
class="lass-0900">(</span><span 
class="lass-0900">getppid</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGUSR1</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGUSR1</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sent</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(1)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pause</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Exit</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handle</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getpid</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getppid</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0412;&#x043E;&#x0437;&#x0432;&#x0440;&#x0430;&#x0449;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x043C;&#x043E;&#x043B;&#x0447;&#x0430;&#x043D;&#x0438;&#x044E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIG_DFL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 183--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;:
   <!--l. 185--><div class="lstinputlisting">
<a 
 id="x1-17048"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17049r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gcc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">c</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17050r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sudo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17051r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Parent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2100,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2099.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17052r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">Child</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2101,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2100.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17053r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sent</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17054r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handle</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2100,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2099.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17055r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">(</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">)</span>
   </div>
<!--l. 187--><p class="indent" >   &#x041F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;-&#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x043E;&#x043A; &#x0443;&#x0441;&#x043F;&#x0435;&#x0448;&#x043D;&#x043E; &#x043F;&#x043E;&#x0441;&#x043B;&#x0430;&#x043B; &#x0440;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x0441;&#x043A;&#x043E;&#x043C;&#x0443; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0443; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B; <span 
class="lati-1000">SIGUSR1</span>, &#x0447;&#x0442;&#x043E; &#x0432;&#x0438;&#x0434;&#x043D;&#x043E; &#x0438;&#x0437; &#x0440;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442;&#x043E;&#x0432;
&#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;. &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B; &#x0431;&#x044B;&#x043B; &#x0443;&#x0441;&#x043F;&#x0435;&#x0448;&#x043D;&#x043E; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x043D;.
<!--l. 189--><p class="indent" >   &#x0422;&#x0435;&#x043F;&#x0435;&#x0440;&#x044C; &#x0438;&#x0437; &#x0434;&#x0440;&#x0443;&#x0433;&#x043E;&#x0433;&#x043E; &#x0442;&#x0435;&#x0440;&#x043C;&#x0438;&#x043D;&#x0430;&#x043B;&#x0430; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x0438;&#x043C; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B; <span 
class="lati-1000">SIGUSR2</span>:
   <!--l. 191--><div class="lstinputlisting">
<a 
 id="x1-17056"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17057r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17058r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sudo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17059r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Parent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2100,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2099.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17060r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">Child</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2101,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2100.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17061r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sent</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17062r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handle</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2100,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2099.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17063r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">(</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17064r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17065r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17066r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~</span><span 
class="lass-0900">$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sudo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kill</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">SIGUSR2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2326</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17067r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17068r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17069r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sudo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17070r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">Parent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2326,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2325.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17071r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">Child</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2327,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2326.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17072r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sent</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17073r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handle</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2326,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2325.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17074r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handle</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2326,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2325.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17075r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">(</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">)</span>
   </div>
<!--l. 193--><p class="indent" >   &#x041A;&#x0440;&#x043E;&#x043C;&#x0435; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; <span 
class="lati-1000">SIGUSR1</span>, &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x043C;-&#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x043A;&#x043E;&#x043C;, &#x0431;&#x044B;&#x043B; &#x043F;&#x0440;&#x0438;&#x043D;&#x044F;&#x0442; &#x0442;&#x0430;&#x043A;&#x0436;&#x0435; &#x0438; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B; <span 
class="lati-1000">SIGUSR2</span>,
&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x0439; &#x0441; &#x0442;&#x0435;&#x0440;&#x043C;&#x0438;&#x043D;&#x0430;&#x043B;&#x0430;, &#x043E; &#x0447;&#x0435;&#x043C; &#x0441;&#x0432;&#x0438;&#x0434;&#x0435;&#x0442;&#x0435;&#x043B;&#x044C;&#x0441;&#x0442;&#x0432;&#x0443;&#x0435;&#x0442; &#x0434;&#x0432;&#x0430; &#x0432;&#x044B;&#x0432;&#x043E;&#x0434;&#x0430; "Signal handle ...".
<!--l. 195--><p class="indent" >   &#x0423;&#x0431;&#x0435;&#x0434;&#x0438;&#x043C;&#x0441;&#x044F;, &#x0447;&#x0442;&#x043E; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B; <span 
class="lati-1000">SIGCHLD </span>&#x0438;&#x0433;&#x043D;&#x043E;&#x0440;&#x0438;&#x0440;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F;:
   <!--l. 197--><div class="lstinputlisting">
<a 
 id="x1-17078"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17079r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17080r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sudo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17081r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Parent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2458,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2457.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17082r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">Child</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2459,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2458.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17083r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sent</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17084r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handle</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2458,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2457.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17085r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">(</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17086r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17087r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17088r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~</span><span 
class="lass-0900">$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sudo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kill</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">SIGCHLD</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2458</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17089r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17090r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17091r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sudo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17092r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">Parent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2458,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2457.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17093r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">Child</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2459,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2458.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17094r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sent</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17095r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handle</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2458,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2457.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17096r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">(</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">)</span>
   </div>
<!--l. 199--><p class="indent" >   &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0438; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; <span 
class="lati-1000">SIGCHLD </span>&#x0441;&#x043E; &#x0432;&#x0442;&#x043E;&#x0440;&#x043E;&#x0433;&#x043E; &#x0442;&#x0435;&#x0440;&#x043C;&#x0438;&#x043D;&#x0430;&#x043B;&#x0430;, &#x043D;&#x0430; &#x043F;&#x0435;&#x0440;&#x0432;&#x043E;&#x043C; &#x0442;&#x0435;&#x0440;&#x043C;&#x0438;&#x043D;&#x0430;&#x043B;&#x0435; &#x043D;&#x0438;&#x0447;&#x0435;&#x0433;&#x043E; &#x043D;&#x0435; &#x0438;&#x0437;&#x043C;&#x0435;&#x043D;&#x0438;&#x043B;&#x043E;&#x0441;&#x044C;, &#x0447;&#x0442;&#x043E;
&#x043E;&#x0437;&#x043D;&#x0430;&#x0447;&#x0430;&#x0435;&#x0442; &#x0438;&#x0433;&#x043D;&#x043E;&#x0440;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;.
<!--l. 201--><p class="indent" >   &#x0423;&#x0431;&#x0435;&#x0434;&#x0438;&#x043C;&#x0441;&#x044F;, &#x0447;&#x0442;&#x043E; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B; <span 
class="lati-1000">SIGINT </span>&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443;:
   <!--l. 203--><div class="lstinputlisting">
<a 
 id="x1-17097"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17098r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17099r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sudo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17100r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Parent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2480,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2479.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17101r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">Child</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2481,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2480.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17102r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sent</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17103r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handle</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2480,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2479.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17104r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">(</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17105r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17106r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17107r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~</span><span 
class="lass-0900">$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sudo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kill</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2480</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17108r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17109r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17110r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sudo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17111r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">Parent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2480,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2479.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17112r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">Child</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2481,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2480.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17113r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sent</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17114r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handle</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2480,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2479.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17115r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span>
   </div>
<!--l. 205--><p class="indent" >   &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0438; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; <span 
class="lati-1000">SIGINT </span>&#x0441;&#x043E; &#x0432;&#x0442;&#x043E;&#x0440;&#x043E;&#x0433;&#x043E; &#x0442;&#x0435;&#x0440;&#x043C;&#x0438;&#x043D;&#x0430;&#x043B;&#x0430;, &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0438;&#x043B;&#x043E;&#x0441;&#x044C;, &#x0447;&#x0442;&#x043E; &#x0441;&#x043E;&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;&#x0441;&#x0442;&#x0432;&#x0443;&#x0435;&#x0442; &#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x044E;
&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; &#x043F;&#x043E; &#x0443;&#x043C;&#x043E;&#x043B;&#x0447;&#x0430;&#x043D;&#x0438;&#x044E;.
<!--l. 207--><p class="indent" >   &#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x0438;&#x043C; &#x0434;&#x0432;&#x0430; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; <span 
class="lati-1000">SIGUSR2</span>:
   <!--l. 209--><div class="lstinputlisting">
<a 
 id="x1-17119"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17120r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sudo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17121r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2661</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17122r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Parent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2662,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2661.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17123r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">Child</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2663,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2662.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17124r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sent</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17125r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handle</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2662,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2661.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17126r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17127r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">jobs</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17128r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">[1]+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Running</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sudo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17129r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sudo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kill</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">SIGUSR2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2662</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17130r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handle</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2662,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2661.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17131r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sudo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kill</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">SIGUSR2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2662</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17132r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">[1]+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Done</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sudo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.1</span>
                                                                                               
                                                                                               
   </div>
<!--l. 211--><p class="indent" >   &#x0412; &#x0440;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442;&#x0435; &#x0432;&#x0438;&#x0434;&#x043D;&#x043E;, &#x0447;&#x0442;&#x043E; &#x043F;&#x0435;&#x0440;&#x0432;&#x044B;&#x0439; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B; &#x0431;&#x044B;&#x043B; &#x043F;&#x0435;&#x0440;&#x0435;&#x0445;&#x0432;&#x0430;&#x0447;&#x0435;&#x043D; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x043E;&#x0432;, &#x0430; &#x0432;&#x0442;&#x043E;&#x0440;&#x043E;&#x0439; - &#x043D;&#x0435;&#x0442;. &#x042D;&#x0442;&#x043E; &#x0441;&#x0432;&#x044F;&#x0437;&#x0430;&#x043D;&#x043E; &#x0441; &#x0442;&#x0435;&#x043C;, &#x0447;&#x0442;&#x043E;
&#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x043F;&#x0435;&#x0440;&#x0432;&#x043E;&#x0433;&#x043E; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; &#x0431;&#x044B;&#x043B; &#x0432;&#x043E;&#x0441;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043B;&#x0435;&#x043D; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A; &#x043F;&#x043E; &#x0443;&#x043C;&#x043E;&#x043B;&#x0447;&#x0430;&#x043D;&#x0438;&#x044E;.
<h5 class="subsubsectionHead"><a 
 id="x1-180001"></a>2. &#x041F;&#x043E;&#x0432;&#x0442;&#x043E;&#x0440;&#x0438;&#x0442;&#x044C; &#x044D;&#x043A;&#x0441;&#x043F;&#x0435;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x0442; &#x0434;&#x043B;&#x044F; &#x0434;&#x0440;&#x0443;&#x0433;&#x0438;&#x0445; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;, &#x043F;&#x043E;&#x0440;&#x043E;&#x0436;&#x0434;&#x0430;&#x0435;&#x043C;&#x044B;&#x0445; &#x0432; &#x0440;&#x0430;&#x0437;&#x043D;&#x044B;&#x0445; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430;&#x0445;, &#x0430; &#x0442;&#x0430;&#x043A; &#x0436;&#x0435; &#x0434;&#x043B;&#x044F; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432; &#x043E;&#x0434;&#x043D;&#x043E;&#x0433;&#x043E; &#x0438;
&#x0440;&#x0430;&#x0437;&#x043D;&#x044B;&#x0445; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432;.</h5>
<!--l. 215--><p class="noindent" >&#x0411;&#x044B;&#x043B;&#x0430; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0430; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430;, &#x043F;&#x043E;&#x0440;&#x043E;&#x0436;&#x0434;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;, &#x0432; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x043C; &#x0431;&#x044B;&#x043B; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; <span 
class="lati-1000">SIGUSR2</span>. &#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;
&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; &#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x0442; &#x043A;&#x043E;&#x0434;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0439; &#x0434;&#x043E;&#x043B;&#x0436;&#x0435;&#x043D; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0442;&#x044C; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;:
   <!--l. 217--><div class="lstinputlisting">
<a 
 id="x1-18001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">pthread</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WHILE_DELAY</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">KILL_DELAY</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">void</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">void</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pthread_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x043E;&#x0432;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pthread_create</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">threadHandler</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Main</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">WHILE_DELAY</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handle</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0435;&#x043A;&#x0443;&#x0449;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pthread_exit</span><span 
class="lass-0900">(0)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lasx-0900">void</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">void</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGUSR2</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">KILL_DELAY</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kill</span><span 
class="lass-0900">(</span><span 
class="lass-0900">getpid</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGUSR2</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Thread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handler</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">WHILE_DELAY</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 219--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;:
   <!--l. 221--><div class="lstinputlisting">
<a 
 id="x1-18049"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18050r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gcc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pthread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.2.1.</span><span 
class="lass-0900">c</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.2.1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18051r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.2.1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18052r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Main</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18053r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">Main</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18054r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handle</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18055r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">Thread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handler</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18056r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">Thread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handler</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18057r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">Thread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handler</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span>
   </div>
<!--l. 223--><p class="indent" >   &#x0425;&#x043E;&#x0442;&#x044C; &#x043F;&#x0440;&#x0438;&#x0432;&#x044F;&#x0437;&#x043A;&#x0430; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; &#x043A; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0443; &#x0438; &#x043F;&#x0440;&#x043E;&#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442; &#x0432; &#x043F;&#x043E;&#x0431;&#x043E;&#x0447;&#x043D;&#x043E;&#x043C; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0435;, &#x043F;&#x0440;&#x0438;&#x0448;&#x0435;&#x0434;&#x0448;&#x0438;&#x0439; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0438;&#x043B; &#x043E;&#x0441;&#x043D;&#x043E;&#x0432;&#x043D;&#x043E;&#x0439;
&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;. &#x0414;&#x043B;&#x044F; &#x043A;&#x043E;&#x043D;&#x0442;&#x0440;&#x043E;&#x043B;&#x044F; &#x043F;&#x043E;&#x0431;&#x043E;&#x0447;&#x043D;&#x043E;&#x0433;&#x043E; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x043E; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0439; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432; <span 
class="lati-1000">pthread_kill</span>.
<!--l. 225--><p class="indent" >   &#x0418;&#x0441;&#x043F;&#x0440;&#x0430;&#x0432;&#x0438;&#x043C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443;, &#x0437;&#x0430;&#x043C;&#x0435;&#x043D;&#x0438;&#x0432; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044E; <span 
class="lati-1000">kill </span>&#x043D;&#x0430; <span 
class="lati-1000">pthread_kill</span>:
   <!--l. 227--><div class="lstinputlisting">
<a 
 id="x1-18060"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18061r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18062r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">pthread</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18063r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18064r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18065r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18066r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WHILE_DELAY</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18067r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">KILL_DELAY</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18068r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18069r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18070r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18071r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18072r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">void</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">void</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18073r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18074r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18075r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pthread_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18076r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18077r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x043E;&#x0432;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18078r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pthread_create</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">threadHandler</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18079r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18080r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">KILL_DELAY</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18081r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18082r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18083r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pthread_kill</span><span 
class="lass-0900">(</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGUSR2</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18084r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18085r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18086r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Main</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18087r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">WHILE_DELAY</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18088r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18089r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18090r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18091r31"></a><span 
class="larm-0500">31</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18092r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handle</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18093r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18094r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0435;&#x043A;&#x0443;&#x0449;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18095r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pthread_exit</span><span 
class="lass-0900">(0)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18096r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18097r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18098r38"></a><span 
class="larm-0500">38</span></span><span 
class="lasx-0900">void</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threadHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">void</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ptr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18099r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18100r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGUSR2</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18101r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18102r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18103r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Thread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handler</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18104r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">WHILE_DELAY</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18105r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18106r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18107r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 229--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;:
   <!--l. 231--><div class="lstinputlisting">
<a 
 id="x1-18108"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18109r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gcc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pthread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.2.2.</span><span 
class="lass-0900">c</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.2.2</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18110r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.2.2</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18111r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Thread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handler</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18112r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">Main</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18113r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handle</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18114r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">Main</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18115r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">Main</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18116r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">Main</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span>
   </div>
<!--l. 233--><p class="indent" >   &#x0422;&#x0435;&#x043F;&#x0435;&#x0440;&#x044C;, &#x043A;&#x0430;&#x043A; &#x0438; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043B;&#x043E;&#x0441;&#x044C;, &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x043F;&#x043E;&#x0431;&#x043E;&#x0447;&#x043D;&#x044B;&#x0439; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;, &#x0430; &#x043E;&#x0441;&#x043D;&#x043E;&#x0432;&#x043D;&#x043E;&#x0439; &#x043F;&#x0440;&#x043E;&#x0434;&#x043E;&#x043B;&#x0436;&#x0430;&#x0435;&#x0442; &#x0441;&#x0432;&#x043E;&#x044E; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;.
<!--l. 235--><p class="indent" >   &#x041D;&#x0430;&#x043F;&#x0438;&#x0448;&#x0435;&#x043C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443;-&#x0440;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C; &#x0438; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443;-&#x043F;&#x0440;&#x0435;&#x0434;&#x043E;&#x043A;, &#x0441; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0439; &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0438;&#x0442;&#x044C; &#x0437;&#x0430;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x0443; &#x043C;&#x0435;&#x0436;&#x0434;&#x0443; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x043E;&#x0439;
&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; &#x043E;&#x0434;&#x043D;&#x0438;&#x043C; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x043C; &#x0438; &#x043F;&#x0440;&#x0438;&#x0435;&#x043C;&#x043E;&#x043C; &#x0435;&#x0433;&#x043E; &#x0434;&#x0440;&#x0443;&#x0433;&#x0438;&#x043C; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x043C;.
<!--l. 237--><p class="indent" >   &#x0420;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x0441;&#x043A;&#x0438;&#x0439; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441; &#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x0442; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; &#x0441; &#x0432;&#x044B;&#x0432;&#x043E;&#x0434;&#x043E;&#x043C; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438;:
   <!--l. 239--><div class="lstinputlisting">
<a 
 id="x1-18117"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18118r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18119r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18120r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18121r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18122r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">time</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18123r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">time</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18124r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18125r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18126r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handler</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18127r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0412;&#x044B;&#x0432;&#x043E;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0435;&#x043A;&#x0443;&#x0449;&#x0435;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18128r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[100];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18129r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timeval</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timeV</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18130r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gettimeofday</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">timeV</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18131r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">time_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">currentTime</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timeV</span><span 
class="lass-0900">.</span><span 
class="lass-0900">tv_sec</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18132r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strftime</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">100,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">%</span><span 
class="lass-0900">T</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">localtime</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">currentTime</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18133r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18134r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">.%.3</span><span 
class="lass-0900">ld</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handle</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timeV</span><span 
class="lass-0900">.</span><span 
class="lass-0900">tv_usec</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18135r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18136r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18137r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18138r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18139r22"></a><span 
class="larm-0500">22</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18140r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Parent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getpid</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getppid</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18141r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18142r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18143r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGUSR1</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18144r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(1)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18145r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 241--><p class="indent" >   &#x0412;&#x0442;&#x043E;&#x0440;&#x043E;&#x0439; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441; &#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x0442; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0443; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; &#x0441; &#x0444;&#x0438;&#x043A;&#x0441;&#x0430;&#x0446;&#x0438;&#x0435;&#x0439; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438; (<span 
class="lati-1000">PID </span>&#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0447;&#x0435;&#x0440;&#x0435;&#x0437; &#x0430;&#x0440;&#x0433;&#x0443;&#x043C;&#x0435;&#x043D;&#x0442; &#x043A;&#x043E;&#x043C;&#x0430;&#x043D;&#x0434;&#x043D;&#x043E;&#x0439;
&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;):
   <!--l. 243--><div class="lstinputlisting">
<a 
 id="x1-18146"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18147r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18148r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18149r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18150r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18151r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">time</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18152r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">time</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18153r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18154r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18155r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0412;&#x044B;&#x0432;&#x043E;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0435;&#x043A;&#x0443;&#x0449;&#x0435;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18156r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[100];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18157r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timeval</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timeV</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18158r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gettimeofday</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">timeV</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18159r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">time_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">currentTime</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timeV</span><span 
class="lass-0900">.</span><span 
class="lass-0900">tv_sec</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18160r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strftime</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">100,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">%</span><span 
class="lass-0900">T</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">localtime</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">currentTime</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18161r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18162r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">.%.3</span><span 
class="lass-0900">ld</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sent</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timeV</span><span 
class="lass-0900">.</span><span 
class="lass-0900">tv_usec</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18163r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18164r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x0441;&#x044B;&#x043B;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0443;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0435;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">pid</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0434;&#x0430;&#x043D;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;&#x0432;&#x043D;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18165r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kill</span><span 
class="lass-0900">(</span><span 
class="lass-0900">atoi</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1])</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGUSR1</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18166r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 245--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;:
   <!--l. 247--><div class="lstinputlisting">
<a 
 id="x1-18167"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18168r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18169r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gcc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pthread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.2.3.</span><span 
class="lass-0900">c</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.2.3</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18170r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gcc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pthread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.2.3.</span><span 
class="lass-0900">pr</span><span 
class="lass-0900">.</span><span 
class="lass-0900">c</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.2.3.</span><span 
class="lass-0900">pr</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18171r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.2.3</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18172r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Parent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3594,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1987.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18173r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">(</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18174r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18175r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18176r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.2.3.</span><span 
class="lass-0900">pr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3594</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18177r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">13:41:32.563475</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sent</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18178r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18179r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18180r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p1</span><span 
class="lass-0900">.2.3</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18181r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">Parent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3594,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ppid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1987.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18182r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">13:41:32.563895</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handle</span><span 
class="lass-0900">.</span>
                                                                                               
                                                                                               
   </div>
<!--l. 249--><p class="indent" >   &#x0424;&#x0438;&#x043A;&#x0441;&#x0430;&#x0446;&#x0438;&#x044F; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x044F; &#x0438; &#x0434;&#x043E;&#x0441;&#x0442;&#x0430;&#x0432;&#x043A;&#x0438; &#x0431;&#x044B;&#x043B;&#x0430; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x0435;&#x0434;&#x0435;&#x043D;&#x0430; &#x0441; &#x0442;&#x043E;&#x0447;&#x043D;&#x043E;&#x0441;&#x0442;&#x044E; &#x0434;&#x043E; &#x0448;&#x0435;&#x0441;&#x0442;&#x0438; &#x0437;&#x043D;&#x0430;&#x043A;&#x043E;&#x0432; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0437;&#x0430;&#x043F;&#x044F;&#x0442;&#x043E;&#x0439;.
&#x0417;&#x0430;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x0430; &#x043C;&#x0435;&#x0436;&#x0434;&#x0443; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435;&#x043C; &#x0438; &#x043F;&#x0440;&#x0438;&#x0435;&#x043C;&#x043E;&#x043C; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; &#x0441;&#x043E;&#x0441;&#x0442;&#x0430;&#x0432;&#x0438;&#x043B;&#x0430; 0.42 &#x043C;&#x0438;&#x043B;&#x043B;&#x0438;&#x0441;&#x0435;&#x043A;&#x0443;&#x043D;&#x0434;&#x044B;, &#x0447;&#x0442;&#x043E; &#x044F;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x0434;&#x043E;&#x0441;&#x0442;&#x0430;&#x0442;&#x043E;&#x0447;&#x043D;&#x043E;
&#x0445;&#x043E;&#x0440;&#x043E;&#x0448;&#x0438;&#x043C; &#x0440;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442;&#x043E;&#x043C; &#x043F;&#x043E; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x043E;&#x0441;&#x0442;&#x0438;. &#x0418;&#x0437; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x043C;&#x043E;&#x0436;&#x043D;&#x043E; &#x0441;&#x0434;&#x0435;&#x043B;&#x0430;&#x0442;&#x044C; &#x0432;&#x044B;&#x0432;&#x043E;&#x0434;, &#x0447;&#x0442;&#x043E; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x043C;&#x0438;
&#x043C;&#x0435;&#x0436;&#x0434;&#x0443; &#x0434;&#x0432;&#x0443;&#x043C;&#x044F; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;&#x043C;&#x0438; &#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432; - &#x044D;&#x0442;&#x043E; &#x0431;&#x044B;&#x0441;&#x0442;&#x0440;&#x0430;&#x044F; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x044F;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x0443;&#x044E; &#x043C;&#x043E;&#x0436;&#x043D;&#x043E; &#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x044F;&#x0442;&#x044C; &#x043D;&#x0430;
&#x043F;&#x0440;&#x0430;&#x043A;&#x0442;&#x0438;&#x043A;&#x0435;.
<a 
 id="x1-18186r18"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.2   </span> <a 
 id="x1-190002"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 2. &#x041D;&#x0430;&#x0434;&#x0435;&#x0436;&#x043D;&#x044B;&#x0435; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B;</h4>
<h5 class="subsubsectionHead"><a 
 id="x1-200002"></a>1. &#x041F;&#x0440;&#x043E;&#x0432;&#x0435;&#x0441;&#x0442;&#x0438; &#x044D;&#x043A;&#x0441;&#x043F;&#x0435;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x0442;, &#x043F;&#x043E;&#x0437;&#x0432;&#x043E;&#x043B;&#x044F;&#x044E;&#x0449;&#x0438;&#x0439; &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0438;&#x0442;&#x044C; &#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;&#x0441;&#x0442;&#x044C; &#x043E;&#x0440;&#x0433;&#x0430;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438; &#x0434;&#x043B;&#x044F; &#x0440;&#x0430;&#x0437;&#x043B;&#x0438;&#x0447;&#x043D;&#x044B;&#x0445; &#x0442;&#x0438;&#x043F;&#x043E;&#x0432;
&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;, &#x043E;&#x0431;&#x044B;&#x0447;&#x043D;&#x044B;&#x0445; &#x0438; &#x0440;&#x0435;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438;.</h5>
<!--l. 255--><p class="noindent" >&#x0420;&#x0430;&#x0437;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x0435;&#x043C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x0430;&#x044F; &#x043E;&#x0440;&#x0433;&#x0430;&#x043D;&#x0438;&#x0437;&#x0443;&#x0435;&#x0442; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C; &#x0438;&#x0437; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;, &#x0441; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E; &#x0441;&#x043B;&#x0435;&#x0434;&#x0443;&#x044E;&#x0449;&#x0438;&#x0445; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0439;:
                                                                                               
                                                                                               
   <div class="verbatim" id="verbatim-1">
int&#x00A0;sigemptyset(sigset_t&#x00A0;*set);
&#x00A0;<br />int&#x00A0;sigaddset(sigset_t&#x00A0;*set,&#x00A0;int&#x00A0;signum);
&#x00A0;<br />int&#x00A0;sigaction(int&#x00A0;signum,&#x00A0;const&#x00A0;struct&#x00A0;sigaction&#x00A0;*act,&#x00A0;struct&#x00A0;sigaction&#x00A0;*oldact);
</div>
<!--l. 261--><p class="nopar" >
<!--l. 263--><p class="indent" >   &#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; <span 
class="lati-1000">sigemptyset </span>&#x0438;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0438;&#x0440;&#x0443;&#x0435;&#x0442; &#x043D;&#x0430;&#x0431;&#x043E;&#x0440; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;, &#x0443;&#x043A;&#x0430;&#x0437;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439; &#x0432; <span 
class="lati-1000">set</span>, &#x0438; &#x043E;&#x0447;&#x0438;&#x0449;&#x0430;&#x0435;&#x0442; &#x0435;&#x0433;&#x043E; &#x043E;&#x0442; &#x0432;&#x0441;&#x0435;&#x0445; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;. &#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;
<span 
class="lati-1000">sigaddset </span>&#x0434;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B; <span 
class="lati-1000">signum </span>&#x043A; <span 
class="lati-1000">set</span>.
<!--l. 265--><p class="indent" >   &#x0421;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0439; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432; <span 
class="lati-1000">sigaction </span>&#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; &#x0434;&#x043B;&#x044F; &#x0438;&#x0437;&#x043C;&#x0435;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; &#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0439; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430; &#x043F;&#x0440;&#x0438; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0438; &#x0441;&#x043E;&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;&#x0441;&#x0442;&#x0432;&#x0443;&#x044E;&#x0449;&#x0435;&#x0433;&#x043E;
&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;. &#x041F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440; <span 
class="lati-1000">signum </span>&#x0437;&#x0430;&#x0434;&#x0430;&#x0435;&#x0442; &#x043D;&#x043E;&#x043C;&#x0435;&#x0440; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; &#x0438; &#x043C;&#x043E;&#x0436;&#x0435;&#x0442; &#x0431;&#x044B;&#x0442;&#x044C; &#x0440;&#x0430;&#x0432;&#x0435;&#x043D; &#x043B;&#x044E;&#x0431;&#x043E;&#x043C;&#x0443; &#x043D;&#x043E;&#x043C;&#x0435;&#x0440;&#x0443;, &#x043A;&#x0440;&#x043E;&#x043C;&#x0435; <span 
class="lati-1000">SIGKILL </span>&#x0438; <span 
class="lati-1000">SIGSTOP</span>.
&#x0415;&#x0441;&#x043B;&#x0438; &#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440; <span 
class="lati-1000">act </span>&#x043D;&#x0435; &#x0440;&#x0430;&#x0432;&#x0435;&#x043D; &#x043D;&#x0443;&#x043B;&#x044E;, &#x0442;&#x043E; &#x043D;&#x043E;&#x0432;&#x043E;&#x0435; &#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0435;, &#x0441;&#x0432;&#x044F;&#x0437;&#x044F;&#x043D;&#x043D;&#x043E;&#x0435; &#x0441; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x043C; <span 
class="lati-1000">signum</span>, &#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x0430;&#x0432;&#x043B;&#x0438;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0441;&#x043E;&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;&#x0441;&#x0442;&#x0432;&#x0435;&#x043D;&#x043D;&#x043E;
<span 
class="lati-1000">act</span>. &#x0415;&#x0441;&#x043B;&#x0438; <span 
class="lati-1000">oldact </span>&#x043D;&#x0435; &#x0440;&#x0430;&#x0432;&#x0435;&#x043D; &#x043D;&#x0443;&#x043B;&#x044E;, &#x0442;&#x043E; &#x043F;&#x0440;&#x0435;&#x0434;&#x044B;&#x0434;&#x0443;&#x0449;&#x0435;&#x0435; &#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0435; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432; <span 
class="lati-1000">oldact</span>.
   <!--l. 267--><div class="lstinputlisting">
<a 
 id="x1-20001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">types</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">stat</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">fcntl</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043B;&#x0435;&#x0434;&#x0443;&#x044E;&#x0449;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x043C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DELAY</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">10</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;&#x043C;&#x0435;&#x043D;&#x044F;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0431;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">specialSignal</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">handler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">userHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">specialSignal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGUSR1</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">userHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(1)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pause</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">specialSignal</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">handler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sigaction</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">action</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">action</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sa_handler</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handler</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0431;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sigemptyset</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">action</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sa_mask</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0414;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">SIGINT</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0431;&#x043E;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sigaddset</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">action</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sa_mask</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x043B;&#x0430;&#x0433;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0443;&#x043B;&#x0435;&#x043C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">action</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sa_flags</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x0437;&#x043C;&#x0435;&#x043D;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sigaction</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">action</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIG_ERR</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">action</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sa_handler</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">userHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x0430;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0415;&#x0441;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x043E;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGUSR1</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Wrong</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">type</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">of</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">SIGUSR</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">catched</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0441;&#x0442;&#x0430;&#x043D;&#x0430;&#x0432;&#x043B;&#x0438;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043B;&#x0435;&#x0434;&#x0443;&#x044E;&#x0449;&#x0435;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">DELAY</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 269--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;:
   <!--l. 271--><div class="lstinputlisting">
<a 
 id="x1-20061"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20062r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p2</span><span 
class="lass-0900">.1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20063r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3133</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20064r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">jobs</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20065r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">[1]+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Running</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p2</span><span 
class="lass-0900">.1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20066r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kill</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">sigusr1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20067r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">SIGUSR</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">catched</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20068r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">jobs</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20069r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">[1]+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Running</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p2</span><span 
class="lass-0900">.1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20070r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kill</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">sigint</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20071r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">jobs</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20072r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">[1]+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Running</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p2</span><span 
class="lass-0900">.1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20073r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">jobs</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20074r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">[1]+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Running</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p2</span><span 
class="lass-0900">.1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20075r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">jobs</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20076r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">[1]+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Interrupt</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p2</span><span 
class="lass-0900">.1</span>
   </div>
<!--l. 273--><p class="indent" >   &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0438; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; <span 
class="lati-1000">SIGUSR1 </span>&#x0432;&#x044B;&#x0432;&#x0435;&#x043B;&#x043E;&#x0441;&#x044C; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435; &#x0438; &#x043D;&#x0430;&#x0447;&#x0430;&#x043B;&#x0430;&#x0441;&#x044C; &#x0434;&#x0435;&#x0441;&#x044F;&#x0442;&#x0438;&#x0441;&#x0435;&#x043A;&#x0443;&#x043D;&#x0434;&#x043D;&#x0430;&#x044F; &#x0437;&#x0430;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x0430;. &#x0414;&#x0430;&#x043B;&#x0435;&#x0435; &#x0431;&#x044B;&#x043B;
&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B; &#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F; <span 
class="lati-1000">SIGINT</span>, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0439; &#x0431;&#x044B;&#x043B; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D; &#x0432; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C; &#x0434;&#x043E; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F; &#x0434;&#x0435;&#x0441;&#x044F;&#x0442;&#x0438;&#x0441;&#x0435;&#x043A;&#x0443;&#x043D;&#x0434;&#x043D;&#x043E;&#x0439;
&#x0437;&#x0430;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x0438;.
<h5 class="subsubsectionHead"><a 
 id="x1-210002"></a>2. &#x0418;&#x0437;&#x043C;&#x0435;&#x043D;&#x0438;&#x0442;&#x044C; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A; &#x0442;&#x0430;&#x043A;, &#x0447;&#x0442;&#x043E;&#x0431;&#x044B; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0430; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; SIGINT &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x043B;&#x0430;&#x0441;&#x044C; &#x0438;&#x0437; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439;
kill.</h5>
<!--l. 277--><p class="noindent" >&#x0418;&#x0437;&#x043C;&#x0435;&#x043D;&#x0438;&#x043C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443; &#x0442;&#x0430;&#x043A;&#x0438;&#x043C; &#x043E;&#x0431;&#x0440;&#x0430;&#x0437;&#x043E;&#x043C;, &#x0447;&#x0442;&#x043E;&#x0431;&#x044B; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0430; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; SIGINT &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x043B;&#x0430;&#x0441;&#x044C; &#x0438;&#x0437; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439;
kill:
   <!--l. 279--><div class="lstinputlisting">
<a 
 id="x1-21001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">types</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">stat</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">fcntl</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043B;&#x0435;&#x0434;&#x0443;&#x044E;&#x0449;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x043C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DELAY</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">10</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;&#x043C;&#x0435;&#x043D;&#x044F;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0431;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">specialSignal</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">handler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">userHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">specialSignal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGUSR1</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">userHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(1)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pause</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">specialSignal</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">handler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sigaction</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">action</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">action</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sa_handler</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">handler</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0431;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sigemptyset</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">action</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sa_mask</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0414;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">SIGINT</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0431;&#x043E;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sigaddset</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">action</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sa_mask</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x043B;&#x0430;&#x0433;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0443;&#x043B;&#x0435;&#x043C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">action</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sa_flags</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x0437;&#x043C;&#x0435;&#x043D;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sigaction</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">action</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIG_ERR</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">action</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sa_handler</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">userHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x0430;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0415;&#x0441;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x043E;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGUSR1</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Wrong</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">type</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">of</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">SIGUSR</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">catched</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kill</span><span 
class="lass-0900">(</span><span 
class="lass-0900">getpid</span><span 
class="lass-0900">()</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0441;&#x0442;&#x0430;&#x043D;&#x0430;&#x0432;&#x043B;&#x0438;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0434;&#x0435;&#x0440;&#x0436;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043B;&#x0435;&#x0434;&#x0443;&#x044E;&#x0449;&#x0435;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">DELAY</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 281--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;:
   <!--l. 283--><div class="lstinputlisting">
<a 
 id="x1-21064"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21065r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gcc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p2</span><span 
class="lass-0900">.2.</span><span 
class="lass-0900">c</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p2</span><span 
class="lass-0900">.2</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21066r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p2</span><span 
class="lass-0900">.2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21067r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3202</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21068r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kill</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">sigusr1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21069r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">SIGUSR</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">catched</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21070r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">jobs</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21071r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">[1]+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Running</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p2</span><span 
class="lass-0900">.2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21072r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">jobs</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21073r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">[1]+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Running</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p2</span><span 
class="lass-0900">.2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21074r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">jobs</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21075r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">[1]+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Running</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p2</span><span 
class="lass-0900">.2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21076r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">jobs</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-21077r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">[1]+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Interrupt</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p2</span><span 
class="lass-0900">.2</span>
   </div>
<!--l. 285--><p class="indent" >   &#x041A;&#x0430;&#x043A; &#x0438; &#x0432; &#x043F;&#x0440;&#x0435;&#x0434;&#x044B;&#x0434;&#x0443;&#x0449;&#x0435;&#x043C; &#x0441;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435; <span 
class="lati-1000">SIGINT </span>&#x043F;&#x043E;&#x043F;&#x0430;&#x0434;&#x0430;&#x0435;&#x0442; &#x0432; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C; &#x0438; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x0442; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F; &#x0442;&#x0435;&#x043A;&#x0443;&#x0449;&#x0435;&#x0433;&#x043E; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430;.
<h5 class="subsubsectionHead"><a 
 id="x1-220002"></a>3. &#x0421;&#x0440;&#x0430;&#x0432;&#x043D;&#x0438;&#x0442;&#x0435; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0438; &#x043D;&#x0430;&#x0434;&#x0435;&#x0436;&#x043D;&#x044B;&#x0445; &#x0438; &#x043D;&#x0435;&#x043D;&#x0430;&#x0434;&#x0435;&#x0436;&#x043D;&#x044B;&#x0445; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;.</h5>
<!--l. 289--><p class="noindent" >&#x041E;&#x0442;&#x043B;&#x0438;&#x0447;&#x0438;&#x0435; &#x043D;&#x0430;&#x0434;&#x0435;&#x0436;&#x043D;&#x044B;&#x0445; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432; &#x043E;&#x0442; &#x043D;&#x0435;&#x043D;&#x0430;&#x0434;&#x0435;&#x0436;&#x043D;&#x044B;&#x0445; &#x0441;&#x043E;&#x0441;&#x0442;&#x043E;&#x0438;&#x0442; &#x0432; &#x0442;&#x043E;&#x043C;, &#x0447;&#x0442;&#x043E; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A; &#x043D;&#x0435;&#x043D;&#x0430;&#x0434;&#x0435;&#x0436;&#x043D;&#x043E;&#x0433;&#x043E; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; &#x0441;&#x0440;&#x0430;&#x0431;&#x0430;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;
&#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x043E;&#x0434;&#x0438;&#x043D; &#x0440;&#x0430;&#x0437;, &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0447;&#x0435;&#x0433;&#x043E; &#x0435;&#x0433;&#x043E; &#x043D;&#x0443;&#x0436;&#x043D;&#x043E; &#x0437;&#x0430;&#x043D;&#x043E;&#x0432;&#x043E; &#x043F;&#x0435;&#x0440;&#x0435;&#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x0442;&#x0438;&#x0442;&#x044C; &#x0432;&#x043D;&#x0443;&#x0442;&#x0440;&#x0438; &#x0441;&#x0430;&#x043C;&#x043E;&#x0433;&#x043E; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430;. &#x0415;&#x0441;&#x043B;&#x0438; &#x0432; &#x044D;&#x0442;&#x043E;&#x0442; &#x043C;&#x043E;&#x043C;&#x0435;&#x043D;&#x0442; &#x043F;&#x0440;&#x0438;&#x0434;&#x0435;&#x0442;
&#x043D;&#x043E;&#x0432;&#x044B;&#x0439; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;, &#x0442;&#x043E; &#x043E;&#x043D; &#x0431;&#x0443;&#x0434;&#x0435;&#x0442; &#x043F;&#x043E;&#x0442;&#x0435;&#x0440;&#x044F;&#x043D;, &#x0442;.&#x043A;. &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A; &#x043D;&#x0435; &#x043F;&#x0435;&#x0440;&#x0435;&#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x0442;&#x0438;&#x043B;&#x0441;&#x044F; &#x0438; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B; &#x043D;&#x0435; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x043B;&#x0441;&#x044F;. &#x0412; &#x0442;&#x043E;
&#x0432;&#x0440;&#x0435;&#x043C;&#x044F; &#x043A;&#x0430;&#x043A; &#x0432; &#x043D;&#x0430;&#x0434;&#x0435;&#x0436;&#x043D;&#x044B;&#x0445; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;&#x0445; &#x043D;&#x0435;&#x0442; &#x044D;&#x0442;&#x043E;&#x0439; &#x043F;&#x0440;&#x043E;&#x0431;&#x043B;&#x0435;&#x043C;&#x044B;, &#x0438; &#x043E;&#x043D;&#x0438; &#x043C;&#x043E;&#x0433;&#x0443;&#x0442; &#x0431;&#x044B;&#x0442;&#x044C; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x043D;&#x044B; &#x0432; &#x043B;&#x044E;&#x0431;&#x043E;&#x0439; &#x043C;&#x043E;&#x043C;&#x0435;&#x043D;&#x0442;
&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438;.
<a 
 id="x1-22001r34"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.3   </span> <a 
 id="x1-230003"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 3. &#x0421;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B; POSIX &#x0440;&#x0435;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438;</h4>
<!--l. 293--><p class="noindent" >&#x0412; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;&#x0445;, &#x0441;&#x0442;&#x0430;&#x043D;&#x0434;&#x0430;&#x0440;&#x0442;&#x0438;&#x0437;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0432; POSIX, &#x0441;&#x0443;&#x0449;&#x0435;&#x0441;&#x0442;&#x0432;&#x0443;&#x044E;&#x0442; &#x0441;&#x0432;&#x043E;&#x0438;, &#x043E;&#x0442;&#x0447;&#x0430;&#x0441;&#x0442;&#x0438; &#x0434;&#x043E;&#x0441;&#x0430;&#x0434;&#x043D;&#x044B;&#x0435;, &#x043E;&#x0433;&#x0440;&#x0430;&#x043D;&#x0438;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F;. &#x041D;&#x0430;&#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x0440;, &#x043D;&#x0435;&#x043B;&#x044C;&#x0437;&#x044F;
&#x0431;&#x044B;&#x0442;&#x044C; &#x0443;&#x0432;&#x0435;&#x0440;&#x0435;&#x043D;&#x043D;&#x044B;&#x043C; &#x0432; &#x0442;&#x043E;&#x043C;, &#x0447;&#x0442;&#x043E; &#x043C;&#x043D;&#x043E;&#x0436;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;, &#x043F;&#x043E;&#x0441;&#x043B;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x043F;&#x043E;&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x043D;&#x043E;, &#x043D;&#x0435; &#x0431;&#x0443;&#x0434;&#x0443;&#x0442; &#x0441;&#x043B;&#x0438;&#x0442;&#x044B; &#x0432;&#x043C;&#x0435;&#x0441;&#x0442;&#x0435;.
                                                                                               
                                                                                               
<!--l. 295--><p class="indent" >   &#x0414;&#x043B;&#x044F; &#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0430; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x0438; &#x0434;&#x0440;&#x0443;&#x0433;&#x0438;&#x0445; &#x043E;&#x0433;&#x0440;&#x0430;&#x043D;&#x0438;&#x0447;&#x0435;&#x043D;&#x0438;&#x0439; &#x0431;&#x044B;&#x043B;&#x0438; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x044B; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B; &#x0440;&#x0435;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438;. &#x0421;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0435;
&#x043F;&#x043E;&#x0434;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x0432;&#x0430;&#x044E;&#x0442; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B; &#x0440;&#x0435;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438;, &#x043F;&#x043E;&#x0434;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x0432;&#x0430;&#x044E;&#x0442; &#x0438; &#x0441;&#x0442;&#x0430;&#x043D;&#x0434;&#x0430;&#x0440;&#x0442;&#x043D;&#x044B;&#x0439; &#x043C;&#x0435;&#x0445;&#x0430;&#x043D;&#x0438;&#x0437;&#x043C; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432; POSIX. &#x0421;&#x043B;&#x0435;&#x0434;&#x0443;&#x0435;&#x0442;
&#x0443;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0442;&#x044C;, &#x0447;&#x0442;&#x043E; &#x0434;&#x043B;&#x044F; &#x0434;&#x043E;&#x0441;&#x0442;&#x0438;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F; &#x043C;&#x0430;&#x043A;&#x0441;&#x0438;&#x043C;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0439; &#x043F;&#x0435;&#x0440;&#x0435;&#x043D;&#x043E;&#x0441;&#x0438;&#x043C;&#x043E;&#x0441;&#x0442;&#x0438; &#x0436;&#x0435;&#x043B;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x043E; &#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x044F;&#x0442;&#x044C; POSIX-&#x0440;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044E;
&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;, &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044F; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B; &#x0440;&#x0435;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438; &#x043B;&#x0438;&#x0448;&#x044C; &#x0442;&#x0430;&#x043C;, &#x0433;&#x0434;&#x0435; &#x0432;&#x043E;&#x0437;&#x043D;&#x0438;&#x043A;&#x0430;&#x0435;&#x0442; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x043E;&#x0441;&#x0442;&#x044C; &#x0432; &#x0438;&#x0445; &#x043E;&#x0441;&#x043E;&#x0431;&#x044B;&#x0445;
&#x0441;&#x0432;&#x043E;&#x0439;&#x0441;&#x0442;&#x0432;&#x0430;&#x0445;.
<!--l. 297--><p class="indent" >   &#x0422;&#x043E;&#x0447;&#x043D;&#x044B;&#x0435; &#x043D;&#x043E;&#x043C;&#x0435;&#x0440;&#x0430; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432; &#x0440;&#x0435;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438; &#x043D;&#x0435; &#x0441;&#x043F;&#x0435;&#x0446;&#x0438;&#x0444;&#x0438;&#x0446;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x044B;, &#x043D;&#x043E; &#x043C;&#x043E;&#x0436;&#x043D;&#x043E; &#x0431;&#x044B;&#x0442;&#x044C; &#x0443;&#x0432;&#x0435;&#x0440;&#x0435;&#x043D;&#x043D;&#x044B;&#x043C; &#x0432; &#x0442;&#x043E;&#x043C;, &#x0447;&#x0442;&#x043E; &#x0432;&#x0441;&#x0435;
&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B; &#x0441; &#x043D;&#x043E;&#x043C;&#x0435;&#x0440;&#x0430;&#x043C;&#x0438; &#x043C;&#x0435;&#x0436;&#x0434;&#x0443; SIGRTMIN &#x0438; SIGRTMAX &#x044F;&#x0432;&#x043B;&#x044F;&#x044E;&#x0442;&#x0441;&#x044F; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;&#x043C;&#x0438; &#x0440;&#x0435;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438;. &#x0414;&#x043B;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0441;
&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;&#x043C;&#x0438; &#x0440;&#x0435;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438; &#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x044F;&#x044E;&#x0442;&#x0441;&#x044F; &#x0442;&#x0435; &#x0436;&#x0435; &#x0441;&#x0430;&#x043C;&#x044B;&#x0435; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0435; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x044B;, &#x0447;&#x0442;&#x043E; &#x0438; &#x0434;&#x043B;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0441; &#x043E;&#x0431;&#x044B;&#x0447;&#x043D;&#x044B;&#x043C;&#x0438;
&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;&#x043C;&#x0438;.
<h5 class="subsubsectionHead"><a 
 id="x1-240003"></a>1-3. &#x041F;&#x0440;&#x043E;&#x0432;&#x0435;&#x0441;&#x0442;&#x0438; &#x044D;&#x043A;&#x0441;&#x043F;&#x0435;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x0442;, &#x043F;&#x043E;&#x0437;&#x0432;&#x043E;&#x043B;&#x044F;&#x044E;&#x0449;&#x0438;&#x0439; &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0438;&#x0442;&#x044C; &#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;&#x0441;&#x0442;&#x044C; &#x043E;&#x0440;&#x0433;&#x0430;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438; &#x0434;&#x043B;&#x044F; &#x0440;&#x0430;&#x0437;&#x043B;&#x0438;&#x0447;&#x043D;&#x044B;&#x0445; &#x0442;&#x0438;&#x043F;&#x043E;&#x0432;
&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;, &#x043E;&#x0431;&#x044B;&#x0447;&#x043D;&#x044B;&#x0445; &#x0438; &#x0440;&#x0435;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438;. &#x042D;&#x043A;&#x0441;&#x043F;&#x0435;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x0442;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E; &#x043F;&#x043E;&#x0434;&#x0442;&#x0432;&#x0435;&#x0440;&#x0434;&#x0438;&#x0442;&#x044C;, &#x0447;&#x0442;&#x043E; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430; &#x0440;&#x0430;&#x0432;&#x043D;&#x043E;&#x043F;&#x0440;&#x0438;&#x043E;&#x0440;&#x0438;&#x0442;&#x0435;&#x0442;&#x043D;&#x044B;&#x0445;
&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432; &#x0440;&#x0435;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438; &#x043F;&#x0440;&#x043E;&#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442; &#x0432; &#x043F;&#x043E;&#x0440;&#x044F;&#x0434;&#x043A;&#x0435; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;. &#x041E;&#x043F;&#x044B;&#x0442;&#x043D;&#x044B;&#x043C; &#x043F;&#x0443;&#x0442;&#x0435;&#x043C; &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0438;&#x0442;&#x044C; &#x043D;&#x0430;&#x043B;&#x0438;&#x0447;&#x0438;&#x0435; &#x043F;&#x0440;&#x0438;&#x043E;&#x0440;&#x0438;&#x0442;&#x0435;&#x0442;&#x043E;&#x0432;
&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432; &#x0440;&#x0435;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438;.</h5>
<!--l. 301--><p class="noindent" >&#x0411;&#x044B;&#x043B;&#x0430; &#x0440;&#x0430;&#x0437;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x043D;&#x0430; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x0430;&#x044F; &#x043E;&#x0440;&#x0433;&#x0430;&#x043D;&#x0438;&#x0437;&#x0443;&#x0435;&#x0442; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C; &#x0438;&#x0437; &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E; &#x043D;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0435; &#x043C;&#x043E;&#x0433;&#x0443;&#x0442;
&#x043F;&#x0440;&#x0438;&#x0439;&#x0442;&#x0438;. &#x0414;&#x0430;&#x043B;&#x0435;&#x0435; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442; &#x0441;&#x0430;&#x043C;&#x0430; &#x0441;&#x0435;&#x0431;&#x0435; &#x043D;&#x0430;&#x0431;&#x043E;&#x0440; &#x0441;&#x043B;&#x0443;&#x0447;&#x0430;&#x0439;&#x043D;&#x044B;&#x0445; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432; &#x0438;&#x0437; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x043D;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439;
<span 
class="lati-1000">raise</span>:
   <!--l. 303--><div class="lstinputlisting">
<a 
 id="x1-24001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">time</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x044B;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">COUNT_OF_SIGNALS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">8</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0441;&#x044B;&#x043B;&#x0430;&#x0435;&#x043C;&#x044B;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043B;&#x0443;&#x0447;&#x0430;&#x0439;&#x043D;&#x044B;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043B;&#x0430;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">COUNT_OF_RANDOM_SIGNALS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">20</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x0435;&#x043C;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DELAY</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x044F;&#x0432;&#x043D;&#x043E;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x043A;</span><span 
class="lasi-0900">..</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0430;&#x043D;&#x0434;&#x0430;&#x0440;&#x0442;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">SIGRTMIN</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0441;&#x0442;&#x0430;&#x043D;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">undef</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">34</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041D;&#x0430;&#x0431;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x043D;&#x044B;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">intSignal</span><span 
class="lass-0900">[</span><span 
class="lass-0900">COUNT_OF_SIGNALS</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">SIGUSR1</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGUSR2</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGCHLD</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">4};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0438;&#x0434;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043E;&#x0431;&#x0440;&#x0430;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stringSignal</span><span 
class="lass-0900">[</span><span 
class="lass-0900">COUNT_OF_SIGNALS</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">"</span><span 
class="lass-0900">SIGUSR1</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">SIGUSR2</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">SIGCHLD</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+1</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+2</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+3</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+4</span><span 
class="lass-0900">"</span><span 
class="lass-0900">};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalToString</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sigset_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mask</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sigaction</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">action</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">memset</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">action</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">action</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sigemptyset</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">mask</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0414;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x0430;&#x0441;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">COUNT_OF_SIGNALS</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">index</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sigaddset</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">mask</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">intSignal</span><span 
class="lass-0900">[</span><span 
class="lass-0900">index</span><span 
class="lass-0900">])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0441;&#x0442;&#x0430;&#x043D;&#x0430;&#x0432;&#x043B;&#x0438;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">action</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sa_handler</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">action</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sa_mask</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mask</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x0437;&#x043C;&#x0435;&#x043D;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">COUNT_OF_RANDOM_SIGNALS</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">index</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sigaction</span><span 
class="lass-0900">(</span><span 
class="lass-0900">intSignal</span><span 
class="lass-0900">[</span><span 
class="lass-0900">index</span><span 
class="lass-0900">],</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">action</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0435;&#x0440;&#x0435;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x043B;&#x043E;&#x043A;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sigprocmask</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIG_BLOCK</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">mask</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0414;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0430;&#x0432;&#x0438;&#x043B;&#x044C;&#x043D;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0433;&#x0435;&#x043D;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0441;&#x0435;&#x043B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">srand</span><span 
class="lass-0900">(</span><span 
class="lass-0900">time</span><span 
class="lass-0900">(</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signals</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">COUNT_OF_RANDOM_SIGNALS</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">index</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043B;&#x0443;&#x0447;&#x0430;&#x0439;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043D;&#x0434;&#x0435;&#x043A;&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x0430;&#x0441;&#x0441;&#x0438;&#x0432;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x044B;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">randomIndex</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">rand</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">COUNT_OF_SIGNALS</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">currentSignal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">intSignal</span><span 
class="lass-0900">[</span><span 
class="lass-0900">randomIndex</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0430;&#x043C;&#x043E;&#x043C;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0431;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">raise</span><span 
class="lass-0900">(</span><span 
class="lass-0900">currentSignal</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalToString</span><span 
class="lass-0900">(</span><span 
class="lass-0900">currentSignal</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">\</span><span 
class="lass-0900">nReceived</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signals</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x0441;&#x043B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;&#x0431;&#x043B;&#x043E;&#x043A;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sigprocmask</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIG_UNBLOCK</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">mask</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">DELAY</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalToString</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalToString</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">contains</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">COUNT_OF_SIGNALS</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">index</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">intSignal</span><span 
class="lass-0900">[</span><span 
class="lass-0900">index</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">contains</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24085r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24086r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24087r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24088r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0415;&#x0441;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x0442;&#x0441;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x0430;&#x0441;&#x0441;&#x0438;&#x0432;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x043D;&#x044B;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">NULL</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24089r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">contains</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24090r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24091r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24092r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0415;&#x0441;&#x043B;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x0442;&#x0441;&#x044F;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x043E;&#x0437;&#x0432;&#x0440;&#x0430;&#x0449;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24093r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stringSignal</span><span 
class="lass-0900">[</span><span 
class="lass-0900">contains</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24094r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 305--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;:
   <!--l. 307--><div class="lstinputlisting">
<a 
 id="x1-24097"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24098r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gcc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p3</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">c</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p3</span><span 
class="lass-0900">.1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24099r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24100r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p3</span><span 
class="lass-0900">.1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24101r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">Send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signals</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGCHLD</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGCHLD</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGCHLD</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+4,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+4,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGUSR1</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGUSR2</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGUSR1</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGUSR2</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGCHLD</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGUSR1</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+2,</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24102r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Received</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signals</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGUSR1</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGUSR2</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGCHLD</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+4,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+4,</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24103r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24104r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p2</span><span 
class="lass-0900">.3</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24105r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">Send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signals</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+3,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+4,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGUSR2</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGUSR1</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+4,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGUSR1</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+4,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGUSR1</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+1,</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24106r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">Received</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signals</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGUSR1</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGUSR2</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+3,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+4,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+4,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIGRTMIN</span><span 
class="lass-0900">+4,</span>
   </div>
<!--l. 309--><p class="indent" >   &#x0418;&#x0437; &#x0440;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442;&#x043E;&#x0432; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B; &#x0445;&#x043E;&#x0440;&#x043E;&#x0448;&#x043E; &#x0432;&#x0438;&#x0434;&#x043D;&#x043E;, &#x0447;&#x0442;&#x043E; &#x043C;&#x043D;&#x043E;&#x0436;&#x0435;&#x0441;&#x0442;&#x0432;&#x0430; &#x043F;&#x043E;&#x0441;&#x043B;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0438; &#x043F;&#x0440;&#x0438;&#x043D;&#x044F;&#x0442;&#x044B;&#x0445; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432; &#x043E;&#x0442;&#x043B;&#x0438;&#x0447;&#x0430;&#x044E;&#x0442;&#x0441;&#x044F;, &#x044D;&#x0442;&#x043E;
&#x0441;&#x0432;&#x044F;&#x0437;&#x0430;&#x043D;&#x043E; &#x0441; &#x0442;&#x0435;&#x043C; &#x0447;&#x0442;&#x043E; &#x043E;&#x0431;&#x044B;&#x0447;&#x043D;&#x044B;&#x0435; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B; &#x0441;&#x043B;&#x0438;&#x043B;&#x0438;&#x0441;&#x044C; &#x0432; &#x043E;&#x0434;&#x0438;&#x043D;. &#x0412;&#x0441;&#x0435; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B; &#x0431;&#x044B;&#x043B;&#x0438; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x044B; &#x043E;&#x0434;&#x043D;&#x043E;&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E;, &#x043E;&#x0434;&#x043D;&#x0430;&#x043A;&#x043E; &#x043E;&#x043D;&#x0438;
&#x043F;&#x0440;&#x0438;&#x0445;&#x043E;&#x0434;&#x044F;&#x0442; &#x0432; &#x043F;&#x043E;&#x0440;&#x044F;&#x0434;&#x043A;&#x0435; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438; (&#x043F;&#x043E; &#x043A;&#x043E;&#x0434;&#x0443; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;).
<a 
 id="x1-24110r42"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.4   </span> <a 
 id="x1-250004"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 4. &#x041D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;</h4>
<!--l. 313--><p class="noindent" >&#x041D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B; - &#x044D;&#x0442;&#x043E; &#x043E;&#x0434;&#x0438;&#x043D; &#x0438;&#x0437; &#x043C;&#x0435;&#x0442;&#x043E;&#x0434;&#x043E;&#x0432; &#x043C;&#x0435;&#x0436;&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x044F; (<span 
class="lati-1000">IPC</span>) &#x0432; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x043E;&#x0439; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0435;,
&#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0439; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0435;&#x043D; &#x0441;&#x0432;&#x044F;&#x0437;&#x0430;&#x043D;&#x043D;&#x044B;&#x043C; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;&#x043C; &#8212; &#x0440;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x0441;&#x043A;&#x043E;&#x043C;&#x0443; &#x0438; &#x0434;&#x043E;&#x0447;&#x0435;&#x0440;&#x043D;&#x0435;&#x043C;&#x0443;. &#x041F;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432; &#x0432;&#x0438;&#x0434;&#x0435; &#x043E;&#x0431;&#x043B;&#x0430;&#x0441;&#x0442;&#x0438; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438; &#x043D;&#x0430;
&#x0432;&#x043D;&#x0435;&#x0448;&#x043D;&#x0435;&#x043C; &#x0437;&#x0430;&#x043F;&#x043E;&#x043C;&#x0438;&#x043D;&#x0430;&#x044E;&#x0449;&#x0435;&#x043C; &#x0443;&#x0441;&#x0442;&#x0440;&#x043E;&#x0439;&#x0441;&#x0442;&#x0432;&#x0435;, &#x0443;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;&#x043E;&#x0439; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x043E;&#x0439; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043E;&#x0439;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x0430;&#x044F; &#x043E;&#x0441;&#x0443;&#x0449;&#x0435;&#x0441;&#x0442;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442; &#x0432;&#x044B;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435;
&#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0443;&#x044E;&#x0449;&#x0438;&#x043C; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;&#x043C; &#x0447;&#x0430;&#x0441;&#x0442;&#x0435;&#x0439; &#x0438;&#x0437; &#x044D;&#x0442;&#x043E;&#x0439; &#x043E;&#x0431;&#x043B;&#x0430;&#x0441;&#x0442;&#x0438; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438; &#x0434;&#x043B;&#x044F; &#x0441;&#x043E;&#x0432;&#x043C;&#x0435;&#x0441;&#x0442;&#x043D;&#x043E;&#x0439; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;. &#x041E;&#x0440;&#x0433;&#x0430;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0432;
&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0435; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x0442; &#x0441;&#x0442;&#x0440;&#x0430;&#x0442;&#x0435;&#x0433;&#x0438;&#x044E; <span 
class="lati-1000">FIFO</span>, &#x0442;&#x043E; &#x0435;&#x0441;&#x0442;&#x044C; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x044F;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x0430;&#x044F; &#x043F;&#x0435;&#x0440;&#x0432;&#x043E;&#x0439; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0430;&#x043D;&#x0430; &#x0432; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;, &#x0431;&#x0443;&#x0434;&#x0435;&#x0442; &#x043F;&#x0435;&#x0440;&#x0432;&#x043E;&#x0439; &#x043F;&#x0440;&#x043E;&#x0447;&#x0438;&#x0442;&#x0430;&#x043D;&#x0430;
&#x0438;&#x0437; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;.
<!--l. 315--><p class="indent" >   &#x0412;&#x0430;&#x0436;&#x043D;&#x043E;&#x0435; &#x043E;&#x0442;&#x043B;&#x0438;&#x0447;&#x0438;&#x0435; &#x043D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430; &#x043E;&#x0442; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430; &#x0437;&#x0430;&#x043A;&#x043B;&#x044E;&#x0447;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432; &#x0442;&#x043E;&#x043C;, &#x0447;&#x0442;&#x043E; &#x043F;&#x0440;&#x043E;&#x0447;&#x0438;&#x0442;&#x0430;&#x043D;&#x043D;&#x0430;&#x044F; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x044F; &#x043D;&#x0435;&#x043C;&#x0435;&#x0434;&#x043B;&#x0435;&#x043D;&#x043D;&#x043E;
&#x0443;&#x0434;&#x0430;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x0438;&#x0437; &#x043D;&#x0435;&#x0433;&#x043E; &#x0438; &#x043D;&#x0435; &#x043C;&#x043E;&#x0436;&#x0435;&#x0442; &#x0431;&#x044B;&#x0442;&#x044C; &#x043F;&#x0440;&#x043E;&#x0447;&#x0438;&#x0442;&#x0430;&#x043D;&#x0430; &#x043F;&#x043E;&#x0432;&#x0442;&#x043E;&#x0440;&#x043D;&#x043E;.
<h5 class="subsubsectionHead"><a 
 id="x1-260004"></a>1. &#x041E;&#x0440;&#x0433;&#x0430;&#x043D;&#x0438;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443; &#x0442;&#x0430;&#x043A;, &#x0447;&#x0442;&#x043E;&#x0431;&#x044B; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;-&#x0440;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0432;&#x0430;&#x043B; &#x043D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;, &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0432;&#x0430;&#x043B; &#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x043A;&#x0430;,
&#x0437;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x043B; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B; &#x043D;&#x0430; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C; &#x0438; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044B;&#x0432;&#x0430;&#x043B; &#x0432; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x043B;&#x044C;&#x043D;&#x044B;&#x0439; &#x0442;&#x0435;&#x043A;&#x0441;&#x0442;&#x043E;&#x0432;&#x044B;&#x0439; &#x0444;&#x0430;&#x0439;&#x043B; &#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;&#x0443;&#x044E; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x044E;. &#x0412;
&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0435;-&#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x043A;&#x0435; &#x0431;&#x0443;&#x0434;&#x0435;&#x0442; &#x043F;&#x0440;&#x043E;&#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442;&#x044C; &#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0438;&#x0437; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430; &#x0438; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C; &#x0432; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;.</h5>
<!--l. 319--><p class="noindent" >&#x0420;&#x0430;&#x0437;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x0435;&#x043C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443;, &#x0432; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x0439; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;-&#x0440;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x0442; &#x043D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B; &#x0438; &#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x043A;&#x0430;, &#x0437;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B; &#x043D;&#x0430;
&#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C; &#x0438; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x043D;&#x044B;&#x0439; &#x0438;&#x0437; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430; &#x0442;&#x0435;&#x043A;&#x0441;&#x0442; &#x0432; &#x0442;&#x0435;&#x043A;&#x0441;&#x0442;&#x043E;&#x0432;&#x044B;&#x0439; &#x0444;&#x0430;&#x0439;&#x043B;. &#x041F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;-&#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x043E;&#x043A; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x0435; &#x0438;&#x0437; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430; &#x0438;
&#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C; &#x0432; &#x0444;&#x0430;&#x0439;&#x043B;:
   <!--l. 321--><div class="lstinputlisting">
<a 
 id="x1-26001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041D;&#x0430;&#x0437;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">READ_FILE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">readfile</span><span 
class="lass-0900">.</span><span 
class="lass-0900">txt</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041D;&#x0430;&#x0437;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WRITE_FILE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">writefile</span><span 
class="lass-0900">.</span><span 
class="lass-0900">txt</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">100</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0430;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;&#x043E;&#x0440;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pipeArray</span><span 
class="lass-0900">[2];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x043E;&#x0431;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">(</span><span 
class="lass-0900">pipeArray</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">fork</span><span 
class="lass-0900">()</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">(</span><span 
class="lass-0900">pipeArray</span><span 
class="lass-0900">[0])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x043E;&#x0431;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FILE</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fopen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">READ_FILE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">r</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">file</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Child</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">couldn</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">read</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">feof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">file</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0444;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x0438;&#x0441;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">write</span><span 
class="lass-0900">(</span><span 
class="lass-0900">pipeArray</span><span 
class="lass-0900">[1],</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fclose</span><span 
class="lass-0900">(</span><span 
class="lass-0900">file</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">(</span><span 
class="lass-0900">pipeArray</span><span 
class="lass-0900">[1])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">(</span><span 
class="lass-0900">pipeArray</span><span 
class="lass-0900">[1])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x043E;&#x0431;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FILE</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fopen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">WRITE_FILE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">w</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">file</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Parent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">couldn</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">write</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Read</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">:\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0447;&#x0438;&#x0449;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bzero</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">read</span><span 
class="lass-0900">(</span><span 
class="lass-0900">pipeArray</span><span 
class="lass-0900">[0],</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">result</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x0438;&#x0441;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0447;&#x0438;&#x0442;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0445;&#x043E;&#x0434;&#x043D;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fwrite</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fclose</span><span 
class="lass-0900">(</span><span 
class="lass-0900">file</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">(</span><span 
class="lass-0900">pipeArray</span><span 
class="lass-0900">[0])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 323--><p class="indent" >   &#x0421;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x043C;&#x043E;&#x0435; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430; &#x0434;&#x043B;&#x044F; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044F;:
   <!--l. 325--><div class="lstinputlisting">
<a 
 id="x1-26085"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26086r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">some</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">text</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">there</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26087r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">AAAAAAAAAAAAAAAAAA</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26088r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">BBBBBBBBBBBBBBBBBB</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26089r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">CCCCCCCCCCCCCCCCCC</span>
                                                                                               
                                                                                               
   </div>
<!--l. 327--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;:
   <!--l. 329--><div class="lstinputlisting">
<a 
 id="x1-26090"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26091r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p4</span><span 
class="lass-0900">.1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26092r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">Read</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pipe</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26093r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">some</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">text</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">there</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26094r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">AAAAAAAAAAAAAAAAAA</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26095r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">BBBBBBBBBBBBBBBBBB</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26096r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">CCCCCCCCCCCCCCCCCC</span>
   </div>
<!--l. 331--><p class="indent" >   &#x0421;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x043C;&#x043E;&#x0435; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;:
   <!--l. 333--><div class="lstinputlisting">
<a 
 id="x1-26099"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26100r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">some</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">text</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">there</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26101r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">AAAAAAAAAAAAAAAAAA</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26102r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">BBBBBBBBBBBBBBBBBB</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-26103r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">CCCCCCCCCCCCCCCCCC</span>
   </div>
<!--l. 335--><p class="indent" >   &#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x0443;&#x0441;&#x043F;&#x0435;&#x0448;&#x043D;&#x043E; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043B;&#x0430; &#x043D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0439; &#x0432; &#x043E;&#x0434;&#x043D;&#x043E;&#x0441;&#x0442;&#x043E;&#x0440;&#x043E;&#x043D;&#x043D;&#x0435;&#x043C; &#x043F;&#x043E;&#x0440;&#x044F;&#x0434;&#x043A;&#x0435; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x043B; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043E;&#x0442;
&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;-&#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x043A;&#x0430; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0443;-&#x0440;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044E;.
<!--l. 337--><p class="indent" >   &#x0413;&#x043B;&#x0430;&#x0432;&#x043D;&#x043E;&#x0435; &#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x0435;&#x043D;&#x0438;&#x0435; &#x043D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432; &#x0432; &#x041E;&#x0421; UNIX - &#x0440;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; &#x043A;&#x043E;&#x043D;&#x0432;&#x0435;&#x0439;&#x0435;&#x0440;&#x043E;&#x0432; &#x043A;&#x043E;&#x043C;&#x0430;&#x043D;&#x0434; &#x0432; &#x0438;&#x043D;&#x0442;&#x0435;&#x0440;&#x043F;&#x0440;&#x0435;&#x0442;&#x0430;&#x0442;&#x043E;&#x0440;&#x0430;&#x0445;
&#x043A;&#x043E;&#x043C;&#x0430;&#x043D;&#x0434;&#x043D;&#x043E;&#x0439; &#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;.
<a 
 id="x1-26104r46"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.5   </span> <a 
 id="x1-270005"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 5. &#x0418;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;</h4>
<!--l. 341--><p class="noindent" >&#x0418;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B; &#x0432;&#x043E; &#x043C;&#x043D;&#x043E;&#x0433;&#x043E;&#x043C; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x044E;&#x0442; &#x0442;&#x0430;&#x043A; &#x0436;&#x0435;, &#x043A;&#x0430;&#x043A; &#x0438; &#x043E;&#x0431;&#x044B;&#x0447;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;, &#x043D;&#x043E; &#x0432;&#x0441;&#x0435; &#x0436;&#x0435; &#x0438;&#x043C;&#x0435;&#x044E;&#x0442; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x0437;&#x0430;&#x043C;&#x0435;&#x0442;&#x043D;&#x044B;&#x0445;
&#x043E;&#x0442;&#x043B;&#x0438;&#x0447;&#x0438;&#x0439;.
     <ul class="itemize1">
     <li class="itemize">&#x0418;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B; &#x0441;&#x0443;&#x0449;&#x0435;&#x0441;&#x0442;&#x0432;&#x0443;&#x044E;&#x0442; &#x0432; &#x0432;&#x0438;&#x0434;&#x0435; &#x0441;&#x043F;&#x0435;&#x0446;&#x0438;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430; &#x0443;&#x0441;&#x0442;&#x0440;&#x043E;&#x0439;&#x0441;&#x0442;&#x0432;&#x0430; &#x0432; &#x0444;&#x0430;&#x0439;&#x043B;&#x043E;&#x0432;&#x043E;&#x0439; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0435;.
     </li>
     <li class="itemize">&#x041F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x044B; &#x0440;&#x0430;&#x0437;&#x043B;&#x0438;&#x0447;&#x043D;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x043E;&#x0438;&#x0441;&#x0445;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x044F; &#x043C;&#x043E;&#x0433;&#x0443;&#x0442; &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0442;&#x044C; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x0447;&#x0435;&#x0440;&#x0435;&#x0437; &#x0442;&#x0430;&#x043A;&#x043E;&#x0439; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;.
     </li>
     <li class="itemize">&#x0418;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B; &#x043E;&#x0441;&#x0442;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432; &#x0444;&#x0430;&#x0439;&#x043B;&#x043E;&#x0432;&#x043E;&#x0439; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0435; &#x0434;&#x043B;&#x044F; &#x0434;&#x0430;&#x043B;&#x044C;&#x043D;&#x0435;&#x0439;&#x0448;&#x0435;&#x0433;&#x043E; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F; &#x0438; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0442;&#x043E;&#x0433;&#x043E;, &#x043A;&#x0430;&#x043A;
     &#x0432;&#x0435;&#x0441;&#x044C; &#x0432;&#x0432;&#x043E;&#x0434;/&#x0432;&#x044B;&#x0432;&#x043E;&#x0434; &#x0441;&#x0434;&#x0435;&#x043B;&#x0430;&#x043D;.</li></ul>
<h5 class="subsubsectionHead"><a 
 id="x1-280005"></a>1. &#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0442;&#x044C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0435; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435;, &#x0434;&#x0435;&#x043C;&#x043E;&#x043D;&#x0441;&#x0442;&#x0440;&#x0438;&#x0440;&#x0443;&#x044E;&#x0449;&#x0435;&#x0435; &#x0434;&#x0443;&#x043F;&#x043B;&#x0435;&#x043A;&#x0441;&#x043D;&#x0443;&#x044E; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0443; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x0438; &#x0434;&#x0432;&#x0443;&#x043C;&#x044F;
&#x043E;&#x0434;&#x043D;&#x043E;&#x043D;&#x0430;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x043C;&#x0438; &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x043C;&#x0438; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;&#x043C;&#x0438; &#x043C;&#x0435;&#x0436;&#x0434;&#x0443; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x043C; &#x0438; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043E;&#x043C;.</h5>
<!--l. 351--><p class="noindent" >&#x0420;&#x0430;&#x0437;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x0435;&#x043C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;, &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x044E;&#x0449;&#x0443;&#x044E; &#x0434;&#x0432;&#x0430; &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;, &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044E; <span 
class="lati-1000">mknod</span>. &#x0414;&#x043B;&#x044F; &#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043A;&#x0438;
&#x043F;&#x0440;&#x0430;&#x0432; &#x0434;&#x043B;&#x044F; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0430; &#x043D;&#x0430; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x0435; &#x0438; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x043C; &#x0444;&#x043B;&#x0430;&#x0433; &#x043F;&#x0440;&#x0430;&#x0432;&#x0430; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0430; &#x0441; &#x043C;&#x0430;&#x0441;&#x043A;&#x043E;&#x0439; <span 
class="lati-1000">S_FIFO | 0666</span>. &#x041F;&#x0435;&#x0440;&#x0432;&#x044B;&#x0439; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;
&#x043E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x043D;&#x0430; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C;, &#x0430; &#x0432;&#x0442;&#x043E;&#x0440;&#x043E;&#x0439; &#x043D;&#x0430; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x0435;. &#x0421;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0435;&#x0442; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0443; &#x0438;&#x043C;&#x044F; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430; &#x0434;&#x043B;&#x044F; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044F; &#x0438; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x0442; &#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x043C;&#x043E;&#x0435;
&#x0444;&#x0430;&#x0439;&#x043B;&#x0430; &#x043E;&#x0442; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;:
   <!--l. 353--><div class="lstinputlisting">
<a 
 id="x1-28001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">types</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">stat</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">fcntl</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DEFAULT_FILENAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">readfile</span><span 
class="lass-0900">.</span><span 
class="lass-0900">txt</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">100</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DEFAULT_FILENAME</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0432;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mknod</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">firstChannel</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">S_IFIFO</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0666,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">first</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">channel</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0442;&#x043E;&#x0440;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mknod</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">secondChannel</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">S_IFIFO</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0666,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">second</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">channel</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0432;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">firstChannel</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">firstChannel</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">O_WRONLY</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">firstChannel</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">first</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">channel</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">for</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writing</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0432;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">secondChannel</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">secondChannel</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">O_RDONLY</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">secondChannel</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">second</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">channel</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">for</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">reading</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x0438;&#x0441;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0432;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043C;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">write</span><span 
class="lass-0900">(</span><span 
class="lass-0900">firstChannel</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bzero</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0442;&#x043E;&#x0440;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0432;&#x043E;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x043C;&#x043E;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">read</span><span 
class="lass-0900">(</span><span 
class="lass-0900">secondChannel</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">File</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">part</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">(</span><span 
class="lass-0900">firstChannel</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">(</span><span 
class="lass-0900">secondChannel</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0432;&#x044F;&#x0437;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x0434;&#x0430;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x044B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">unlink</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">firstChannel</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">unlink</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">secondChannel</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 355--><p class="indent" >   &#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;, &#x0432; &#x0441;&#x0432;&#x043E;&#x044E; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C;, &#x0441;&#x0438;&#x043C;&#x043C;&#x0435;&#x0442;&#x0440;&#x0438;&#x0447;&#x043D;&#x043E; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443; &#x043E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x043F;&#x0435;&#x0440;&#x0432;&#x044B;&#x0439; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B; &#x043D;&#x0430; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x0435;, &#x0430; &#x0432;&#x0442;&#x043E;&#x0440;&#x043E;&#x0439; &#x043D;&#x0430; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C;.
&#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x043F;&#x0440;&#x0438;&#x043D;&#x0438;&#x043C;&#x0430;&#x0435;&#x0442; &#x0438;&#x043C;&#x044F; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430; &#x0434;&#x043B;&#x044F; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044F; &#x0438; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0435;&#x0442; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443; &#x0435;&#x0433;&#x043E; &#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x043C;&#x043E;&#x0435;:
   <!--l. 357--><div class="lstinputlisting">
<a 
 id="x1-28075"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28076r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28077r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28078r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28079r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28080r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">types</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28081r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">stat</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28082r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">fcntl</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28083r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28084r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">100</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28085r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28086r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28087r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x0436;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043E;&#x043C;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28088r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">firstChannel</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">firstChannel</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">O_RDONLY</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28089r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">firstChannel</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28090r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">first</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">channel</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">for</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">reading</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28091r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28092r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28093r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28094r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">secondChannel</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">secondChannel</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">O_WRONLY</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28095r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">secondChannel</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28096r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">second</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">channel</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">for</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">writing</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28097r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28098r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28099r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28100r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28101r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bzero</span><span 
class="lass-0900">(</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28102r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28103r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0432;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x043C;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28104r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">read</span><span 
class="lass-0900">(</span><span 
class="lass-0900">firstChannel</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28105r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28106r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">read</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">first</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">channel</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28107r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28108r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28109r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28110r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Received</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28111r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28112r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28113r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FILE</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fopen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">r</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28114r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">file</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28115r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">open</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">read</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28116r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28117r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28118r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28119r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0442;&#x043E;&#x0440;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x043C;&#x043E;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28120r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28121r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">feof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">file</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28122r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fread</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28123r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">write</span><span 
class="lass-0900">(</span><span 
class="lass-0900">secondChannel</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28124r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28125r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28126r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0444;&#x0430;&#x0439;&#x043B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28127r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fclose</span><span 
class="lass-0900">(</span><span 
class="lass-0900">file</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28128r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28129r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28130r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">(</span><span 
class="lass-0900">firstChannel</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28131r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">(</span><span 
class="lass-0900">secondChannel</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28132r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28133r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 359--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;:
   <!--l. 361--><div class="lstinputlisting">
<a 
 id="x1-28134"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28135r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gcc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p5</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">se</span><span 
class="lass-0900">.</span><span 
class="lass-0900">c</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p5</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">se</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28136r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gcc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p5</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">.</span><span 
class="lass-0900">c</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p5</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28137r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p5</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">se</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28138r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5778</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28139r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readfile</span><span 
class="lass-0900">.</span><span 
class="lass-0900">txt</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28140r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">./</span><span 
class="lass-0900">p5</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28141r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">Received</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readfile</span><span 
class="lass-0900">.</span><span 
class="lass-0900">txt</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28142r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">File</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">part</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">some</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">text</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">there</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28143r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">AAAAAAAAAAAAAAAAAA</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28144r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">BBBBBBBBBBBBBBBBBB</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28145r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">CCCCCCCCCCCCCCCCCC</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28146r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28147r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">jobs</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28148r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">[1]+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Done</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p5</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">se</span>
                                                                                               
                                                                                               
   </div>
<!--l. 363--><p class="indent" >   &#x0412; &#x0444;&#x043E;&#x043D;&#x043E;&#x0432;&#x043E;&#x043C; &#x0440;&#x0435;&#x0436;&#x0438;&#x043C;&#x0435; &#x0431;&#x044B;&#x043B; &#x0437;&#x0430;&#x043F;&#x0443;&#x0449;&#x0435;&#x043D; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0438; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;. &#x0421;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0443;&#x0441;&#x043F;&#x0435;&#x0448;&#x043D;&#x043E; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x043B; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0443; &#x0438;&#x043C;&#x044F; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430;, &#x0432; &#x0441;&#x0432;&#x043E;&#x044E; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C;
&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x0443;&#x0441;&#x043F;&#x0435;&#x0448;&#x043D;&#x043E; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x0438;&#x043B; &#x043D;&#x0430; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0435;&#x0433;&#x043E; &#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x043C;&#x043E;&#x0435;.
<!--l. 365--><p class="indent" >   &#x0412; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0435; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C; &#x0431;&#x044B;&#x043B;&#x0438; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x044B; &#x0434;&#x0432;&#x0430; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430;:
   <!--l. 367--><div class="lstinputlisting">
<a 
 id="x1-28151"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28152r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ls</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">l</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28153r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">total</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">248</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28154r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">(...)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28155r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">prw</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">rw</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">r</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x043A;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">11</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">22:52</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">firstChannel</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28156r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">(...)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28157r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">prw</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">rw</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">r</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0435;&#x043A;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">11</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">22:52</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">secondChannel</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-28158r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">(...)</span>
   </div>
<!--l. 369--><p class="indent" >   &#x0424;&#x0430;&#x0439;&#x043B;&#x044B; &#x0438;&#x043C;&#x0435;&#x044E;&#x0442; &#x0442;&#x0438;&#x043F; <span 
class="lati-1000">p</span>, &#x0447;&#x0442;&#x043E; &#x043E;&#x0437;&#x043D;&#x0430;&#x0447;&#x0430;&#x0435;&#x0442;, &#x0447;&#x0442;&#x043E; &#x044D;&#x0442;&#x043E; &#x0444;&#x0430;&#x0439;&#x043B;&#x044B; &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;. &#x041D;&#x0435;&#x0441;&#x043C;&#x043E;&#x0442;&#x0440;&#x044F; &#x043D;&#x0430; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435;, &#x0440;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;
&#x044D;&#x0442;&#x0438;&#x0445; &#x0444;&#x0430;&#x0439;&#x043B;&#x043E;&#x0432; &#x0440;&#x0430;&#x0432;&#x0435;&#x043D; &#x043D;&#x0443;&#x043B;&#x044E;. &#x042D;&#x0442;&#x043E; &#x043E;&#x0437;&#x043D;&#x0430;&#x0447;&#x0430;&#x0435;&#x0442;, &#x0447;&#x0442;&#x043E; &#x0444;&#x0430;&#x0439;&#x043B; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; &#x043D;&#x0435; &#x043A;&#x0430;&#x043A; &#x0445;&#x0440;&#x0430;&#x043D;&#x0438;&#x043B;&#x0438;&#x0449;&#x0435; &#x043F;&#x0435;&#x0440;&#x0435;&#x0441;&#x044B;&#x043B;&#x0430;&#x0435;&#x043C;&#x044B;&#x0445; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445;, &#x0430; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E;
&#x0434;&#x043B;&#x044F; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x0438; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043E;&#x0439; &#x043E; &#x043D;&#x0438;&#x0445;. &#x0421;&#x0430;&#x043C;&#x0438; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043F;&#x0440;&#x043E;&#x0445;&#x043E;&#x0434;&#x044F;&#x0442; &#x0447;&#x0435;&#x0440;&#x0435;&#x0437; &#x044F;&#x0434;&#x0440;&#x043E; &#x041E;&#x0421;. &#x042D;&#x0442;&#x043E; &#x0434;&#x0435;&#x043B;&#x0430;&#x0435;&#x0442; &#x043D;&#x0435;&#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x044B;&#x043C;
&#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432; &#x0432; &#x043C;&#x0435;&#x0436;&#x0441;&#x0435;&#x0442;&#x0435;&#x0432;&#x043E;&#x043C; &#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0438;.
<a 
 id="x1-28161r52"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.6   </span> <a 
 id="x1-290006"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 6. &#x041E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;</h4>
<!--l. 373--><p class="noindent" >&#x041E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439; &#x043F;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0430;&#x0432;&#x043B;&#x044F;&#x044E;&#x0442; &#x0441;&#x043E;&#x0431;&#x043E;&#x0439; &#x0441;&#x0432;&#x044F;&#x0437;&#x043D;&#x044B;&#x0439; &#x0441;&#x043F;&#x0438;&#x0441;&#x043E;&#x043A; &#x0432; &#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x043E;&#x043C; &#x043F;&#x0440;&#x043E;&#x0441;&#x0442;&#x0440;&#x0430;&#x043D;&#x0441;&#x0442;&#x0432;&#x0435; &#x044F;&#x0434;&#x0440;&#x0430;. &#x0421;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x043C;&#x043E;&#x0433;&#x0443;&#x0442;
&#x043F;&#x043E;&#x0441;&#x044B;&#x043B;&#x0430;&#x0442;&#x044C;&#x0441;&#x044F; &#x0432; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C; &#x043F;&#x043E; &#x043F;&#x043E;&#x0440;&#x044F;&#x0434;&#x043A;&#x0443; &#x0438; &#x0434;&#x043E;&#x0441;&#x0442;&#x0430;&#x0432;&#x0430;&#x0442;&#x044C;&#x0441;&#x044F; &#x0438;&#x0437; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x0438;&#x043C;&#x0438; &#x0440;&#x0430;&#x0437;&#x043D;&#x044B;&#x043C;&#x0438; &#x043F;&#x0443;&#x0442;&#x044F;&#x043C;&#x0438;. &#x041A;&#x0430;&#x0436;&#x0434;&#x0430;&#x044F; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C;
&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439; &#x043E;&#x0434;&#x043D;&#x043E;&#x0437;&#x043D;&#x0430;&#x0447;&#x043D;&#x043E; &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x0430; &#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440;&#x043E;&#x043C; <span 
class="lati-1000">IPC</span>.
<!--l. 375--><p class="indent" >   &#x0412; &#x043E;&#x0431;&#x0449;&#x0438;&#x0445; &#x0447;&#x0435;&#x0440;&#x0442;&#x0430;&#x0445; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;&#x043C;&#x0438; &#x0432;&#x044B;&#x0433;&#x043B;&#x044F;&#x0434;&#x0438;&#x0442; &#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x0440;&#x043D;&#x043E; &#x0442;&#x0430;&#x043A;: &#x043E;&#x0434;&#x0438;&#x043D; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441; &#x043F;&#x043E;&#x043C;&#x0435;&#x0449;&#x0430;&#x0435;&#x0442; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435; &#x0432; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C;
&#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x043D;&#x0435;&#x043A;&#x0438;&#x0445; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0445; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x043E;&#x0432;, &#x0430; &#x043B;&#x044E;&#x0431;&#x043E;&#x0439; &#x0434;&#x0440;&#x0443;&#x0433;&#x043E;&#x0439; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441; &#x043C;&#x043E;&#x0436;&#x0435;&#x0442; &#x043F;&#x0440;&#x043E;&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x044C; &#x0435;&#x0433;&#x043E; &#x043E;&#x0442;&#x0442;&#x0443;&#x0434;&#x0430;, &#x043F;&#x0440;&#x0438; &#x0443;&#x0441;&#x043B;&#x043E;&#x0432;&#x0438;&#x0438;, &#x0447;&#x0442;&#x043E; &#x0438;
&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;-&#x0438;&#x0441;&#x0442;&#x043E;&#x0447;&#x043D;&#x0438;&#x043A; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0438; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;-&#x043F;&#x0440;&#x0438;&#x0435;&#x043C;&#x043D;&#x0438;&#x043A; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044E;&#x0442; &#x043E;&#x0434;&#x0438;&#x043D; &#x0438; &#x0442;&#x043E;&#x0442; &#x0436;&#x0435; &#x043A;&#x043B;&#x044E;&#x0447; &#x0434;&#x043B;&#x044F; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0430;
&#x043A; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;.
<!--l. 377--><p class="indent" >   &#x0414;&#x043B;&#x044F; &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x0438;&#x044F; &#x043D;&#x0435;&#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0445; &#x043A;&#x043E;&#x043D;&#x0441;&#x0442;&#x0430;&#x043D;&#x0442;, &#x0441;&#x0432;&#x044F;&#x0437;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0441; <span 
class="lati-1000">IPC</span>, &#x0432;&#x043E;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x043C;&#x0441;&#x044F; &#x043A;&#x043E;&#x043C;&#x0430;&#x043D;&#x0434;&#x043E;&#x0439; <span 
class="lati-1000">ipcs </span>&#x0441; &#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043C;
<span 
class="lati-1000">-l</span>:
   <!--l. 379--><div class="lstinputlisting">
<a 
 id="x1-29001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-29002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ipcs</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">l</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-29003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-29004r3"></a><span 
class="larm-0500">3</span></span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Messages</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Limits</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-29005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">max</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">queues</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">system</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wide</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">32000</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-29006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">max</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">size</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">of</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">bytes</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">8192</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-29007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">max</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">size</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">of</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">queue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">bytes</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">16384</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-29008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-29009r8"></a><span 
class="larm-0500">8</span></span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Shared</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Memory</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Limits</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-29010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">max</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">of</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">segments</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">4096</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-29011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">max</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">seg</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">size</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">kbytes</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">18014398509465599</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-29012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">max</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">total</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shared</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">memory</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">kbytes</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">18014398442373116</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-29013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">min</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">seg</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">size</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">bytes</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-29014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-29015r14"></a><span 
class="larm-0500">14</span></span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Semaphore</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Limits</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-29016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">max</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">number</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">of</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">arrays</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">32000</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-29017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">max</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semaphores</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">per</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">array</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">32000</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-29018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">max</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semaphores</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">system</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wide</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024000000</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-29019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">max</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ops</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">per</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semop</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">call</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">500</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-29020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">max</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">32767</span>
   </div>
<h5 class="subsubsectionHead"><a 
 id="x1-300006"></a>1. &#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0442;&#x044C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0435; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435;, &#x0434;&#x0435;&#x043C;&#x043E;&#x043D;&#x0441;&#x0442;&#x0440;&#x0438;&#x0440;&#x0443;&#x044E;&#x0449;&#x0435;&#x0435; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0443; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x0438; &#x043C;&#x0435;&#x0436;&#x0434;&#x0443; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;&#x043C;&#x0438; &#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C;
&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;.</h5>
<!--l. 383--><p class="noindent" >&#x0420;&#x0430;&#x0437;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x0435;&#x043C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x0430;&#x044F; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x0442; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C;, &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044E; <span 
class="lati-1000">msgget </span>&#x0438; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x0442; &#x043F;&#x0440;&#x0438;&#x0435;&#x043C; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;
&#x043E;&#x0442; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;. &#x041A;&#x0430;&#x043A; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x043F;&#x0440;&#x0438;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435; &#x043E;&#x0442; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;, &#x0441;&#x0440;&#x0430;&#x0437;&#x0443; &#x0436;&#x0435; &#x043E;&#x0442;&#x0441;&#x044B;&#x043B;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x043E;&#x0442;&#x0432;&#x0435;&#x0442;&#x043D;&#x043E;&#x0435; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;
&#x0441; &#x0434;&#x0440;&#x0443;&#x0433;&#x0438;&#x043C; &#x0442;&#x0438;&#x043F;&#x043E;&#x043C; &#x043F;&#x043E;&#x0441;&#x044B;&#x043B;&#x043A;&#x0438;. &#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; &#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C; &#x0434;&#x043B;&#x044F; &#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;
&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;:
   <!--l. 385--><div class="lstinputlisting">
<a 
 id="x1-30001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ipc</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">types</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">stat</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">msg</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DEFAULT_FILENAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">readfile</span><span 
class="lass-0900">.</span><span 
class="lass-0900">txt</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">100</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0422;&#x0438;&#x043F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x0441;&#x044B;&#x043B;&#x0430;&#x0435;&#x043C;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MESSAGE_TYPE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">L</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0422;&#x0435;&#x043A;&#x0441;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RESPONSE_STRING</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">received</span><span 
class="lass-0900">!</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0422;&#x0438;&#x043F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0441;&#x044B;&#x043B;&#x0430;&#x0435;&#x043C;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RESPONSE_TYPE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">L</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lasx-0900">typedef</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0422;&#x0438;&#x043F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">long</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">type</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0422;&#x0435;&#x043A;&#x0441;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0413;&#x043B;&#x043E;&#x0431;&#x0430;&#x043B;&#x044C;&#x043D;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">queue</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0435;&#x0440;&#x043C;&#x0438;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DEFAULT_FILENAME</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x043E;&#x0431;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x044E;&#x0447;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ftok</span><span 
class="lass-0900">(</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">Q</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">get</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">for</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">queue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">msgget</span><span 
class="lass-0900">(</span><span 
class="lass-0900">key</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPC_CREAT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0666)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">queue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">queue</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0435;&#x0440;&#x043C;&#x0438;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bzero</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x0438;&#x043D;&#x0438;&#x043C;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0438;&#x043F;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">msgrcv</span><span 
class="lass-0900">(</span><span 
class="lass-0900">queue</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MESSAGE_TYPE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">receive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x043E;&#x0440;&#x043C;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">type</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RESPONSE_TYPE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bzero</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RESPONSE_STRING</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">msgsnd</span><span 
class="lass-0900">(</span><span 
class="lass-0900">queue</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">void</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30085r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30086r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30087r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30088r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30089r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30090r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30091r90"></a><span 
class="larm-0500">90</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30092r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0412;&#x043E;&#x0437;&#x0432;&#x0440;&#x0430;&#x0449;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x043C;&#x043E;&#x043B;&#x0447;&#x0430;&#x043D;&#x0438;&#x044E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30093r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIG_DFL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30094r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30095r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0434;&#x0430;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30096r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">msgctl</span><span 
class="lass-0900">(</span><span 
class="lass-0900">queue</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPC_RMID</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30097r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">queue</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30098r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30099r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Queue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">deleted</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30100r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30101r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30102r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 387--><p class="indent" >   &#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430;-&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x0441;&#x0438;&#x043C;&#x043C;&#x0435;&#x0442;&#x0440;&#x0438;&#x0447;&#x043D;&#x0430; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0439; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0435;: &#x043E;&#x043D;&#x0430; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x0442; &#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443; &#x0441; &#x043A;&#x043E;&#x043D;&#x0441;&#x043E;&#x043B;&#x0438;, &#x043E;&#x0442;&#x0441;&#x044B;&#x043B;&#x0430;&#x0435;&#x0442; &#x0435;&#x0435; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443; &#x0438;
&#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x0442; &#x043E;&#x0442;&#x0432;&#x0435;&#x0442;:
   <!--l. 389--><div class="lstinputlisting">
<a 
 id="x1-30103"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30104r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30105r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30106r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30107r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30108r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ipc</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30109r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">types</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30110r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">msg</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30111r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30112r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30113r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DEFAULT_FILENAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">readfile</span><span 
class="lass-0900">.</span><span 
class="lass-0900">txt</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30114r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">100</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30115r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30116r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0422;&#x0438;&#x043F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0441;&#x044B;&#x043B;&#x0430;&#x0435;&#x043C;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30117r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MESSAGE_TYPE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">L</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30118r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0422;&#x0438;&#x043F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x0441;&#x044B;&#x043B;&#x0430;&#x0435;&#x043C;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30119r16"></a><span 
class="larm-0500">16</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RESPONSE_TYPE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">L</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30120r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30121r18"></a><span 
class="larm-0500">18</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30122r19"></a><span 
class="larm-0500">19</span></span><span 
class="lasx-0900">typedef</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30123r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0422;&#x0438;&#x043F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30124r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">long</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">type</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30125r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0422;&#x0435;&#x043A;&#x0441;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30126r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30127r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30128r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30129r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30130r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DEFAULT_FILENAME</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30131r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30132r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30133r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30134r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30135r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30136r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30137r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x043E;&#x0431;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x044E;&#x0447;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30138r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ftok</span><span 
class="lass-0900">(</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">Q</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30139r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30140r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">get</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">for</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30141r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30142r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30143r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30144r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30145r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">queue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">msgget</span><span 
class="lass-0900">(</span><span 
class="lass-0900">key</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30146r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">queue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30147r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">queue</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30148r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30149r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30150r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30151r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30152r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30153r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30154r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x043E;&#x0440;&#x043C;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30155r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30156r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0432;&#x043E;&#x0434;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30157r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bzero</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30158r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fgets</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stdin</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30159r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30160r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0438;&#x043F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30161r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">type</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MESSAGE_TYPE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30162r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30163r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30164r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">msgsnd</span><span 
class="lass-0900">(</span><span 
class="lass-0900">queue</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">void</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30165r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30166r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30167r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30168r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30169r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30170r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30171r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">msgrcv</span><span 
class="lass-0900">(</span><span 
class="lass-0900">queue</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RESPONSE_TYPE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30172r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30173r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">receive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30174r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30175r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30176r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30177r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30178r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30179r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30180r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30181r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 391--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;:
   <!--l. 393--><div class="lstinputlisting">
<a 
 id="x1-30182"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30183r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30184r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gcc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p6</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">se</span><span 
class="lass-0900">.</span><span 
class="lass-0900">c</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p6</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">se</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30185r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gcc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p6</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">.</span><span 
class="lass-0900">c</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p6</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30186r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p6</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">se</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30187r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readfile</span><span 
class="lass-0900">.</span><span 
class="lass-0900">txt</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30188r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">11111111111</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30189r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">22222222222</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30190r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">33333333333</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30191r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">44444444444</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30192r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">^</span><span 
class="lass-0900">CQueue</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">has</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">been</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">successfully</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">deleted</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30193r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30194r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30195r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p6</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30196r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readfile</span><span 
class="lass-0900">.</span><span 
class="lass-0900">txt</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30197r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">11111111111</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30198r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">received</span><span 
class="lass-0900">!</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30199r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">33333333333</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30200r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">received</span><span 
class="lass-0900">!</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30201r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">12345</span><span 
class="lass-0900">_SERVER_IS_DOWN_ALREADY_12345</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30202r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30203r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30204r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30205r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p6</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30206r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readfile</span><span 
class="lass-0900">.</span><span 
class="lass-0900">txt</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30207r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">22222222222</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30208r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">received</span><span 
class="lass-0900">!</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30209r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">44444444444</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30210r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">received</span><span 
class="lass-0900">!</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30211r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">12345</span><span 
class="lass-0900">_SERVER_IS_DOWN_ALREADY_12345</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30212r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">.</span>
   </div>
<!--l. 395--><p class="indent" >   &#x0412; &#x044D;&#x0442;&#x043E;&#x043C; &#x044D;&#x043A;&#x0441;&#x043F;&#x0435;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x0442;&#x0435; &#x0431;&#x044B;&#x043B; &#x0437;&#x0430;&#x043F;&#x0443;&#x0449;&#x0435;&#x043D; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0439; &#x0443;&#x0441;&#x043F;&#x0435;&#x0448;&#x043D;&#x043E; &#x043F;&#x0440;&#x0438;&#x043D;&#x0438;&#x043C;&#x0430;&#x043B; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x043E;&#x0442; &#x0434;&#x0432;&#x0443;&#x0445; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;. &#x041F;&#x043E;&#x0441;&#x043B;&#x0435;
&#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0431;&#x044B;&#x043B; &#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E; &#x043E;&#x0442;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D; &#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;&#x043C; &#x0441; &#x0442;&#x0435;&#x0440;&#x043C;&#x0438;&#x043D;&#x0430;&#x043B;&#x0430;, &#x0432;&#x044B;&#x0437;&#x0432;&#x0430;&#x043B;&#x0441;&#x044F; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A; &#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F; &#x0438;
&#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C; &#x0443;&#x0441;&#x043F;&#x0435;&#x0448;&#x043D;&#x043E; &#x0443;&#x0434;&#x0430;&#x043B;&#x0438;&#x043B;&#x0430;&#x0441;&#x044C;. &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x044B; &#x0443;&#x0437;&#x043D;&#x0430;&#x043B;&#x0438; &#x043E; &#x043D;&#x0435;&#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x043D;&#x043E;&#x0441;&#x0442;&#x0438; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0438; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435;&#x0434;&#x043D;&#x0435;&#x0433;&#x043E;
&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;.
                                                                                               
                                                                                               
<!--l. 397--><p class="indent" >   &#x041A;&#x043E;&#x043C;&#x0430;&#x043D;&#x0434;&#x0430; ipcs &#x0432;&#x044B;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x044E; &#x043E; &#x0442;&#x0435;&#x043A;&#x0443;&#x0449;&#x0435;&#x043C; &#x0441;&#x043E;&#x0441;&#x0442;&#x043E;&#x044F;&#x043D;&#x0438;&#x0438; IPC &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x043E;&#x0439; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B;. &#x0412;&#x043E;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x043C;&#x0441;&#x044F; &#x0435;&#x0439; &#x0434;&#x043B;&#x044F; &#x0442;&#x043E;&#x0433;&#x043E;,
&#x0447;&#x0442;&#x043E;&#x0431;&#x044B; &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0438;&#x0442;&#x044C;, &#x043D;&#x0430;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x043B;&#x0438; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x0447;&#x0442;&#x043E; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x043D;&#x0430;&#x044F; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C; &#x0432; &#x0441;&#x043F;&#x0438;&#x0441;&#x043A;&#x0435; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0435;&#x0439;:
   <!--l. 399--><div class="lstinputlisting">
<a 
 id="x1-30215"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30216r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ipcs</span><span 
class="lass-0900">&#8212;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30217r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30218r3"></a><span 
class="larm-0500">3</span></span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Queues</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8212;</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30219r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">msqid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">owner</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perms</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">used</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">bytes</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30220r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">0</span><span 
class="lass-0900">x51010071</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">666</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#8212;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30221r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30222r7"></a><span 
class="larm-0500">7</span></span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Shared</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Memory</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Segments</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8212;</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30223r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">owner</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perms</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bytes</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nattch</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">status</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30224r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">0</span><span 
class="lass-0900">x00000000</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">557056</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">600</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">524288</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dest</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30225r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">0</span><span 
class="lass-0900">x00000000</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">163841</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">600</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">524288</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dest</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30226r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">0</span><span 
class="lass-0900">x00000000</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">589826</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">600</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2097152</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dest</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30227r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">0</span><span 
class="lass-0900">x00000000</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">688131</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">600</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">524288</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dest</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30228r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">0</span><span 
class="lass-0900">x00000000</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">458756</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">600</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">16777216</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30229r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">0</span><span 
class="lass-0900">x00000000</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1114117</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">600</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">524288</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dest</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30230r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">0</span><span 
class="lass-0900">x00000000</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">524294</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">600</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">524288</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dest</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30231r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">0</span><span 
class="lass-0900">x00000000</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">786439</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">600</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">524288</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dest</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30232r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">0</span><span 
class="lass-0900">x00000000</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1212424</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">600</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">524288</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dest</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30233r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">0</span><span 
class="lass-0900">x00000000</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">983049</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">600</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">524288</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dest</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30234r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">0</span><span 
class="lass-0900">x00000000</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1015818</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">600</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">33554432</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dest</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30235r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">0</span><span 
class="lass-0900">x00000000</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1310731</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">600</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">524288</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dest</span><span 
class="lass-0900">&#8212;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30236r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30237r22"></a><span 
class="larm-0500">22</span></span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Semaphore</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Arrays</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8212;</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-30238r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">owner</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perms</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nsems</span>
   </div>
<!--l. 401--><p class="indent" >   &#x0418; &#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x043E;, &#x0432; &#x0441;&#x043F;&#x0438;&#x0441;&#x043A;&#x0435; "Message Queues"&#x043F;&#x043E;&#x044F;&#x0432;&#x0438;&#x043B;&#x0430;&#x0441;&#x044C; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x0447;&#x0442;&#x043E; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x043D;&#x0430;&#x044F; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C;.
<a 
 id="x1-30239r58"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.7   </span> <a 
 id="x1-310007"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 7. &#x0421;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x044B; &#x0438; &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0430;&#x044F; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</h4>
<!--l. 405--><p class="noindent" >&#x0421;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440; &#8212; &#x0441;&#x0430;&#x043C;&#x044B;&#x0439; &#x0447;&#x0430;&#x0441;&#x0442;&#x043E; &#x0443;&#x043F;&#x043E;&#x0442;&#x0440;&#x0435;&#x0431;&#x043B;&#x044F;&#x0435;&#x043C;&#x044B;&#x0439; &#x043C;&#x0435;&#x0442;&#x043E;&#x0434; &#x0434;&#x043B;&#x044F; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432; &#x0438; &#x0434;&#x043B;&#x044F; &#x043A;&#x043E;&#x043D;&#x0442;&#x0440;&#x043E;&#x043B;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F; &#x043E;&#x0434;&#x043D;&#x043E;&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E;
&#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0430; &#x043C;&#x043D;&#x043E;&#x0436;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;/&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432; &#x043A; &#x043E;&#x0431;&#x0449;&#x0435;&#x0439; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438; (&#x043A; &#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x0440;&#x0443;, &#x0433;&#x043B;&#x043E;&#x0431;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0439; &#x043F;&#x0435;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E;&#x0439;). &#x0412;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0435;
&#x043C;&#x0435;&#x0436;&#x0434;&#x0443; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;&#x043C;&#x0438; &#x0432; &#x0441;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435; &#x0441; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x0430;&#x043C;&#x0438; &#x0437;&#x0430;&#x043A;&#x043B;&#x044E;&#x0447;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432; &#x0442;&#x043E;&#x043C;, &#x0447;&#x0442;&#x043E; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x044B; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x044E;&#x0442; &#x0441; &#x043E;&#x0434;&#x043D;&#x0438;&#x043C; &#x0438; &#x0442;&#x0435;&#x043C; &#x0436;&#x0435; &#x043D;&#x0430;&#x0431;&#x043E;&#x0440;&#x043E;&#x043C;
&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0438; &#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x0438;&#x0440;&#x0443;&#x044E;&#x0442; &#x0441;&#x0432;&#x043E;&#x0435; &#x043F;&#x043E;&#x0432;&#x0435;&#x0434;&#x0435;&#x043D;&#x0438;&#x0435; &#x0432; &#x0437;&#x0430;&#x0432;&#x0438;&#x0441;&#x0438;&#x043C;&#x043E;&#x0441;&#x0442;&#x0438; &#x043E;&#x0442; &#x044D;&#x0442;&#x0438;&#x0445; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445;.
<h5 class="subsubsectionHead"><a 
 id="x1-320007"></a>1. &#x0415;&#x0441;&#x0442;&#x044C; &#x043E;&#x0434;&#x0438;&#x043D; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;, &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x044E;&#x0449;&#x0438;&#x0439; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C; &#x0432; &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0443;&#x044E; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C; &#x0438; &#x043E;&#x0434;&#x0438;&#x043D; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;, &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x044E;&#x0449;&#x0438;&#x0439; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x0435; &#x0438;&#x0437; &#x043D;&#x0435;&#x0435;. &#x041F;&#x043E;&#x0434;
&#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x0435;&#x043C; &#x043F;&#x043E;&#x043D;&#x0438;&#x043C;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0438;&#x0437;&#x0432;&#x043B;&#x0435;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0438;&#x0437; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438;. &#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x0434;&#x043E;&#x043B;&#x0436;&#x043D;&#x0430; &#x043E;&#x0431;&#x0435;&#x0441;&#x043F;&#x0435;&#x0447;&#x0438;&#x0442;&#x044C; &#x043D;&#x0435;&#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;&#x0441;&#x0442;&#x044C; &#x043F;&#x043E;&#x0432;&#x0442;&#x043E;&#x0440;&#x043D;&#x043E;&#x0433;&#x043E;
&#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044F; &#x043E;&#x0434;&#x043D;&#x0438;&#x0445; &#x0438; &#x0442;&#x0435;&#x0445; &#x0436;&#x0435; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0438; &#x043D;&#x0435;&#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;&#x0441;&#x0442;&#x044C; &#x043F;&#x0435;&#x0440;&#x0435;&#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445;, &#x0442;.&#x0435;. &#x043D;&#x043E;&#x0432;&#x043E;&#x0439; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438;, &#x0434;&#x043E; &#x0442;&#x0435;&#x0445; &#x043F;&#x043E;&#x0440;, &#x043F;&#x043E;&#x043A;&#x0430; &#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C; &#x043D;&#x0435;
&#x043F;&#x0440;&#x043E;&#x0447;&#x0438;&#x0442;&#x0430;&#x0435;&#x0442; &#x043F;&#x0440;&#x0435;&#x0434;&#x044B;&#x0434;&#x0443;&#x0449;&#x0443;&#x044E;.</h5>
<!--l. 409--><p class="noindent" >&#x0414;&#x043B;&#x044F; &#x0440;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x043C; &#x0434;&#x0432;&#x0430; &#x0431;&#x0438;&#x043D;&#x0430;&#x0440;&#x043D;&#x044B;&#x0445; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x0430; (&#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435; &#x043E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x044F; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x0430; - 1, &#x043F;&#x043E;&#x0441;&#x043B;&#x0435;&#x0434;&#x0443;&#x044E;&#x0449;&#x0438;&#x0439;
&#x0437;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x0430; - 0), &#x043E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x0435; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x0430; &#x044D;&#x0442;&#x043E; &#x0442;&#x0430;&#x043A;&#x0436;&#x0435; &#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043A;&#x0430; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x0430; &#x0432; 1. &#x041F;&#x0430;&#x0440;&#x0443; &#x0442;&#x0430;&#x043A;&#x0438;&#x0445; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x043E;&#x0432; &#x0438;&#x043D;&#x043E;&#x0433;&#x0434;&#x0430;
&#x043D;&#x0430;&#x0437;&#x044B;&#x0432;&#x0430;&#x044E;&#x0442; &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x043C; &#x0431;&#x0438;&#x043D;&#x0430;&#x0440;&#x043D;&#x044B;&#x043C; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x043E;&#x043C;, &#x043F;&#x043E;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x0443; &#x0432; &#x043B;&#x044E;&#x0431;&#x043E;&#x0439; &#x043C;&#x043E;&#x043C;&#x0435;&#x043D;&#x0442; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x043E;&#x0434;&#x0438;&#x043D; &#x0438;&#x0437; &#x043D;&#x0438;&#x0445; &#x043C;&#x043E;&#x0436;&#x0435;&#x0442; &#x0438;&#x043C;&#x0435;&#x0442;&#x044C;
&#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435; 1. &#x041F;&#x0440;&#x0438; &#x0442;&#x0430;&#x043A;&#x043E;&#x043C; &#x0430;&#x043B;&#x0433;&#x043E;&#x0440;&#x0438;&#x0442;&#x043C;&#x0435; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043E;&#x0431;&#x0430; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; &#x0441;&#x0432;&#x043E;&#x0435;&#x0439; &#x0437;&#x0430;&#x0434;&#x0430;&#x0447;&#x0438; &#x0438; &#x043E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x044F; &#x043E;&#x0434;&#x043D;&#x043E;&#x0433;&#x043E;
&#x0438;&#x0437; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x043E;&#x0432; &#x0431;&#x0443;&#x0434;&#x0443;&#x0442; &#x0436;&#x0434;&#x0430;&#x0442;&#x044C; &#x043E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x044F; &#x0434;&#x0440;&#x0443;&#x0433;&#x043E;&#x0433;&#x043E; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x0430;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x0435; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x0435;&#x0434;&#x0435;&#x0442; &#x0434;&#x0440;&#x0443;&#x0433;&#x043E;&#x0439; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;, &#x043D;&#x043E;
&#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; &#x0441;&#x0432;&#x043E;&#x0435;&#x0439; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;. &#x0422;&#x0430;&#x043A;&#x0438;&#x043C; &#x043E;&#x0431;&#x0440;&#x0430;&#x0437;&#x043E;&#x043C; &#x043F;&#x043E;&#x0432;&#x0442;&#x043E;&#x0440;&#x043D;&#x043E;&#x0435; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x0435; &#x0438;&#x043B;&#x0438; &#x043F;&#x043E;&#x0432;&#x0442;&#x043E;&#x0440;&#x043D;&#x0430;&#x044F; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C; &#x0441;&#x0442;&#x0430;&#x043B;&#x0430;
&#x043D;&#x0435;&#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;&#x0439;.
<!--l. 411--><p class="indent" >   &#x0412; &#x043A;&#x0430;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0435; &#x043E;&#x0431;&#x0449;&#x0435;&#x0439; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438; &#x0431;&#x044B;&#x043B;&#x0430; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0430; &#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430; <span 
class="lati-1000">Message </span>&#x0438;&#x0437; &#x043F;&#x0440;&#x0435;&#x0434;&#x044B;&#x0434;&#x0443;&#x0449;&#x0435;&#x0433;&#x043E; &#x043F;&#x0443;&#x043D;&#x043A;&#x0442;&#x0430;.
<!--l. 413--><p class="indent" >   &#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; &#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C; &#x0434;&#x043B;&#x044F; &#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0441; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x0430;&#x043C;&#x0438;.
<!--l. 415--><p class="indent" >   &#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;:
   <!--l. 417--><div class="lstinputlisting">
<a 
 id="x1-32001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ipc</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sem</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">shm</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">time</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DEFAULT_FILENAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">readfile</span><span 
class="lass-0900">.</span><span 
class="lass-0900">txt</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">100</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">typedef</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0422;&#x0438;&#x043F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">long</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">type</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0422;&#x0435;&#x043A;&#x0441;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sembuf</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LOCK</span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sembuf</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RELEASE</span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">Message</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmemory</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x0438;</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">code</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DEFAULT_FILENAME</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x043E;&#x0431;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x044E;&#x0447;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ftok</span><span 
class="lass-0900">(</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">Q</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">get</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">for</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">shm</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmemory</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmget</span><span 
class="lass-0900">(</span><span 
class="lass-0900">key</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPC_CREAT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0666)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">shmemory</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shm</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x0438;&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">shm</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0448;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0441;&#x0442;&#x0440;&#x0430;&#x043D;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Message</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmat</span><span 
class="lass-0900">(</span><span 
class="lass-0900">shmemory</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">attach</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shm</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0435;&#x0440;&#x043C;&#x0438;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0433;&#x0440;&#x0443;&#x043F;&#x043F;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0432;&#x0443;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x043E;&#x0432;</span><span 
class="lasi-0900">:</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0432;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043A;&#x0430;&#x0437;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0442;&#x043E;&#x0440;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semget</span><span 
class="lass-0900">(</span><span 
class="lass-0900">key</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPC_CREAT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0666)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0441;&#x0442;&#x0430;&#x043D;&#x0430;&#x0432;&#x043B;&#x0438;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0442;&#x043E;&#x0440;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x043C;&#x043E;&#x0444;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0435;&#x0434;&#x0438;&#x043D;&#x0438;&#x0446;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semop</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SET_WRITE_ENABLE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">imposibble</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">set</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">write</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">enable</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x5</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0447;&#x0430;&#x043B;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semop</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LOCK</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32085r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">imposibble</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">lock</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32086r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x6</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32087r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32088r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32089r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32090r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32091r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0441;&#x0442;&#x0430;&#x043D;&#x0430;&#x0432;&#x043B;&#x0438;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0442;&#x043E;&#x0440;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x043C;&#x043E;&#x0444;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0435;&#x0434;&#x0438;&#x043D;&#x0438;&#x0446;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32092r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semop</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RELEASE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32093r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32094r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">imposibble</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">release</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32095r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x7</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32096r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32097r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32098r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32099r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32100r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32101r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32102r101"></a><span 
class="larm-0500">101</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32103r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32104r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x8</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32105r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32106r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32107r106"></a><span 
class="larm-0500">106</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">code</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32108r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0441;&#x0442;&#x0430;&#x043D;&#x0430;&#x0432;&#x043B;&#x0438;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x043C;&#x043E;&#x043B;&#x0447;&#x0430;&#x043D;&#x0438;&#x044E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32109r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIG_DFL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32110r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32111r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043A;&#x043B;&#x044E;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32112r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmdt</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32113r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32114r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">detach</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shm</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32115r114"></a><span 
class="larm-0500">114</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32116r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">shm</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32117r116"></a><span 
class="larm-0500">116</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmctl</span><span 
class="lass-0900">(</span><span 
class="lass-0900">shmemory</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPC_RMID</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32118r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32119r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shm</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32120r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32121r120"></a><span 
class="larm-0500">120</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32122r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semctl</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPC_RMID</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32123r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32124r123"></a><span 
class="larm-0500">123</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32125r124"></a><span 
class="larm-0500">124</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32126r125"></a><span 
class="larm-0500">125</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Clear</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32127r126"></a><span 
class="larm-0500">126</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(</span><span 
class="lass-0900">code</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32128r127"></a><span 
class="larm-0500">127</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 419--><p class="indent" >   &#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430;-&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;:
   <!--l. 421--><div class="lstinputlisting">
<a 
 id="x1-32131"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32132r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32133r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32134r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32135r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32136r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32137r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ipc</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32138r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sem</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32139r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">shm</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32140r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">time</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32141r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32142r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DEFAULT_FILENAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">readfile</span><span 
class="lass-0900">.</span><span 
class="lass-0900">txt</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32143r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">100</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32144r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32145r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32146r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">typedef</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32147r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0422;&#x0438;&#x043F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32148r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">long</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">type</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32149r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0422;&#x0435;&#x043A;&#x0441;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32150r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32151r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32152r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32153r22"></a><span 
class="larm-0500">22</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sembuf</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WAIT</span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32154r23"></a><span 
class="larm-0500">23</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sembuf</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">UNLOCK</span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32155r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32156r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">Message</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32157r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32158r27"></a><span 
class="larm-0500">27</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmemory</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32159r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32160r29"></a><span 
class="larm-0500">29</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x0438;</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32161r30"></a><span 
class="larm-0500">30</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32162r31"></a><span 
class="larm-0500">31</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32163r32"></a><span 
class="larm-0500">32</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">code</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32164r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32165r34"></a><span 
class="larm-0500">34</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32166r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DEFAULT_FILENAME</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32167r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32168r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32169r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32170r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32171r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32172r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32173r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x043E;&#x0431;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x044E;&#x0447;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32174r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ftok</span><span 
class="lass-0900">(</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">Q</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32175r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32176r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">get</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">for</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32177r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32178r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32179r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32180r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">shm</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32181r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmemory</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmget</span><span 
class="lass-0900">(</span><span 
class="lass-0900">key</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0666)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32182r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">shmemory</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32183r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shm</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32184r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32185r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32186r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32187r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x0438;&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">shm</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0448;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0441;&#x0442;&#x0440;&#x0430;&#x043D;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32188r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Message</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmat</span><span 
class="lass-0900">(</span><span 
class="lass-0900">shmemory</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32189r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32190r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">attach</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shm</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32191r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32192r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32193r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32194r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0435;&#x0440;&#x043C;&#x0438;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32195r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32196r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32197r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0433;&#x0440;&#x0443;&#x043F;&#x043F;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0432;&#x0443;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x043E;&#x0432;</span><span 
class="lasi-0900">:</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0432;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043A;&#x0430;&#x0437;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0442;&#x043E;&#x0440;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32198r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semget</span><span 
class="lass-0900">(</span><span 
class="lass-0900">key</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0666)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32199r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32200r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32201r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32202r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32203r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32204r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32205r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32206r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0445;&#x043E;&#x0434;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32207r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bzero</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32208r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fgets</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stdin</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32209r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32210r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041D;&#x0430;&#x0441;&#x0442;&#x0440;&#x043E;&#x0439;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32211r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semop</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WAIT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32212r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32213r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">imposibble</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">write</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32214r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x5</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32215r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32216r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32217r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x0438;&#x0441;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32218r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sprintf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32219r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32220r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32221r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semop</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">UNLOCK</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32222r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32223r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">imposibble</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">set</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">write</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">enable</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32224r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x6</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32225r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32226r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32227r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32228r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32229r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32230r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32231r100"></a><span 
class="larm-0500">100</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32232r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32233r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x7</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32234r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32235r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32236r105"></a><span 
class="larm-0500">105</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">code</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32237r106"></a><span 
class="larm-0500">106</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0441;&#x0442;&#x0430;&#x043D;&#x0430;&#x0432;&#x043B;&#x0438;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x043C;&#x043E;&#x043B;&#x0447;&#x0430;&#x043D;&#x0438;&#x044E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32238r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIG_DFL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32239r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32240r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043A;&#x043B;&#x044E;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32241r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmdt</span><span 
class="lass-0900">(</span><span 
class="lass-0900">message</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32242r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32243r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">detach</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shm</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32244r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32245r114"></a><span 
class="larm-0500">114</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Clear</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32246r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(</span><span 
class="lass-0900">code</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32247r116"></a><span 
class="larm-0500">116</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 423--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442;&#x044B; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;:
   <!--l. 425--><div class="lstinputlisting">
<a 
 id="x1-32250"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32251r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32252r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gcc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p7</span><span 
class="lass-0900">.1.1.</span><span 
class="lass-0900">se</span><span 
class="lass-0900">.</span><span 
class="lass-0900">c</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p7</span><span 
class="lass-0900">.1.1.</span><span 
class="lass-0900">se</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32253r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gcc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p7</span><span 
class="lass-0900">.1.1.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">.</span><span 
class="lass-0900">c</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p7</span><span 
class="lass-0900">.1.1.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32254r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p7</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">se</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32255r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readfile</span><span 
class="lass-0900">.</span><span 
class="lass-0900">txt</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32256r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">111111111</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32257r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">333333333</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32258r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">222222222</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32259r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">444444444</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32260r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">^</span><span 
class="lass-0900">CClear</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32261r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32262r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32263r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p7</span><span 
class="lass-0900">.1.1.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32264r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readfile</span><span 
class="lass-0900">.</span><span 
class="lass-0900">txt</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32265r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">111111111</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32266r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">333333333</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32267r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">^</span><span 
class="lass-0900">CClear</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32268r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32269r19"></a><span 
class="larm-0500">19</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32270r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p7</span><span 
class="lass-0900">.1.1.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32271r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readfile</span><span 
class="lass-0900">.</span><span 
class="lass-0900">txt</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32272r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">222222222</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32273r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">444444444</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32274r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">^</span><span 
class="lass-0900">CClear</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.</span>
   </div>
<!--l. 427--><p class="indent" >   &#x0412; &#x044D;&#x0442;&#x043E;&#x043C; &#x044D;&#x043A;&#x0441;&#x043F;&#x0435;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x0442;&#x0435; &#x0431;&#x044B;&#x043B; &#x0437;&#x0430;&#x043F;&#x0443;&#x0449;&#x0435;&#x043D; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0439; &#x0443;&#x0441;&#x043F;&#x0435;&#x0448;&#x043D;&#x043E; &#x043F;&#x0440;&#x0438;&#x043D;&#x0438;&#x043C;&#x0430;&#x043B; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x043E;&#x0442; &#x0434;&#x0432;&#x0443;&#x0445; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;. &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E;
&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0431;&#x044B;&#x043B; &#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E; &#x043E;&#x0442;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D; &#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;&#x043C; &#x0441; &#x0442;&#x0435;&#x0440;&#x043C;&#x0438;&#x043D;&#x0430;&#x043B;&#x0430;, &#x0432;&#x044B;&#x0437;&#x0432;&#x0430;&#x043B;&#x0441;&#x044F; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A; &#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F; &#x0438; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x044B; &#x0443;&#x0441;&#x043F;&#x0435;&#x0448;&#x043D;&#x043E;
&#x0443;&#x0434;&#x0430;&#x043B;&#x0438;&#x043B;&#x0430;&#x0441;&#x044C;.
<h5 class="subsubsectionHead"><a 
 id="x1-330007"></a>2. &#x0414;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435; &#x0443;&#x0441;&#x043B;&#x043E;&#x0432;&#x0438;&#x044F; &#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0439; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x0438;&#x0445; &#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439; &#x0438; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x0438;&#x0445; &#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x0435;&#x043B;&#x0435;&#x0439; &#x043E;&#x0434;&#x043D;&#x043E;&#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x043D;&#x043E;.</h5>
<!--l. 432--><p class="noindent" >&#x0414;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x0443;&#x0441;&#x043B;&#x043E;&#x0432;&#x0438;&#x044F; &#x043D;&#x0435; &#x043F;&#x0440;&#x0438;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442; &#x043A; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x043E;&#x0441;&#x0442;&#x0438; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F; &#x0434;&#x043E;&#x043F;&#x043E;&#x043B;&#x043D;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x044B;&#x0445; &#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438;.
&#x0422;&#x0435;&#x043F;&#x0435;&#x0440;&#x044C; &#x0432;&#x043C;&#x0435;&#x0441;&#x0442;&#x043E; &#x043E;&#x0434;&#x043D;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430; &#x0437;&#x0430; &#x043A;&#x0430;&#x0436;&#x0434;&#x044B;&#x0439; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440; &#x0431;&#x0443;&#x0434;&#x0443;&#x0442; &#x043A;&#x043E;&#x043D;&#x043A;&#x0443;&#x0440;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x043D;&#x0430;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432;, &#x043D;&#x043E; &#x043F;&#x043E;&#x0432;&#x0442;&#x043E;&#x0440;&#x043D;&#x0430;&#x044F; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C;
&#x0438; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x0435; &#x0432;&#x0441;&#x0435; &#x0442;&#x0430;&#x043A;&#x0436;&#x0435; &#x043D;&#x0435;&#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;, &#x0442;&#x0430;&#x043A; &#x043A;&#x0430;&#x043A;, &#x0447;&#x0442;&#x043E;&#x0431;&#x044B; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x043D;&#x043E;&#x0439; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x043B; &#x043D;&#x0443;&#x0436;&#x043D;&#x043E; &#x043E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x0435; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x0430;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x0435;
&#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x0438;&#x0437; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;-&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;, &#x0438; &#x043D;&#x0430;&#x043E;&#x0431;&#x043E;&#x0440;&#x043E;&#x0442;.
<h5 class="subsubsectionHead"><a 
 id="x1-340007"></a>3. &#x0414;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435; &#x043D;&#x0435; &#x0435;&#x0434;&#x0438;&#x043D;&#x0438;&#x0447;&#x043D;&#x043E;&#x0433;&#x043E; &#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430;, &#x0430; &#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430; &#x043D;&#x0435;&#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x0433;&#x043E; &#x0440;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440;&#x0430;. &#x0422;&#x0438;&#x043F; &#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430; &#x043D;&#x0435; &#x0438;&#x043C;&#x0435;&#x0435;&#x0442; &#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F;.</h5>
<!--l. 437--><p class="noindent" >&#x0422;&#x0430;&#x043A; &#x043A;&#x0430;&#x043A; &#x0440;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440; &#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430; &#x043D;&#x0435; &#x0440;&#x0430;&#x0432;&#x0435;&#x043D; &#x0435;&#x0434;&#x0438;&#x043D;&#x0438;&#x0446;&#x0435;, &#x0442;&#x043E; &#x0431;&#x043E;&#x043B;&#x044C;&#x0448;&#x0435; &#x043D;&#x0435;&#x0442; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x043E;&#x0441;&#x0442;&#x0438; &#x0432; &#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0438; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x0439; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044F; &#x0438; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438;,
                                                                                               
                                                                                               
&#x0434;&#x043E;&#x043F;&#x0443;&#x0441;&#x0442;&#x0438;&#x043C;&#x0430; &#x0441;&#x0438;&#x0442;&#x0443;&#x0430;&#x0446;&#x0438;&#x044F; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x0438;&#x0445; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0435;&#x0439; &#x043F;&#x043E;&#x0434;&#x0440;&#x044F;&#x0434; &#x0438; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x0438;&#x0445; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x0439;. &#x041D;&#x0443;&#x0436;&#x043D;&#x043E; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x0441;&#x043B;&#x0435;&#x0434;&#x0438;&#x0442;&#x044C;, &#x0447;&#x0442;&#x043E;&#x0431;&#x044B; &#x043D;&#x0435;
&#x0431;&#x044B;&#x043B;&#x043E; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438; &#x0432; &#x0443;&#x0436;&#x0435; &#x0437;&#x0430;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x043D;&#x044B;&#x0439; &#x0431;&#x0443;&#x0444;&#x0435;&#x0440; &#x0438; &#x043D;&#x0435; &#x0431;&#x044B;&#x043B;&#x043E; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044F; &#x0438;&#x0437; &#x043F;&#x0443;&#x0441;&#x0442;&#x043E;&#x0433;&#x043E; &#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430;.
<!--l. 439--><p class="indent" >   &#x0422;&#x0430;&#x043A; &#x043A;&#x0430;&#x043A; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x044B; &#x043D;&#x0435; &#x0431;&#x0438;&#x043D;&#x0430;&#x0440;&#x043D;&#x044B;&#x0435;, &#x0437;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442;&#x0438;&#x0442;&#x044C; &#x0438;&#x0445; &#x043C;&#x043E;&#x0436;&#x0435;&#x0442; &#x0441;&#x0440;&#x0430;&#x0437;&#x0443; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432;, &#x0442;&#x043E; &#x0435;&#x0441;&#x0442;&#x044C; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E;
&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432; &#x043F;&#x043E;&#x043F;&#x0430;&#x0434;&#x0443;&#x0442; &#x0432; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x044E; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438; &#x0438;&#x043B;&#x0438; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044F;. &#x0412; &#x044D;&#x0442;&#x043E;&#x043C; &#x0441;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435;, &#x0435;&#x0441;&#x043B;&#x0438; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x044F; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438; &#x0438;&#x043B;&#x0438; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044F; &#x043D;&#x0435;
&#x0430;&#x0442;&#x043E;&#x043C;&#x0430;&#x0440;&#x043D;&#x0430;&#x044F;, &#x043C;&#x043E;&#x0436;&#x0435;&#x0442; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x043E;&#x0439;&#x0442;&#x0438; &#x043D;&#x0430;&#x0440;&#x0443;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435; &#x043D;&#x043E;&#x0440;&#x043C;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0439; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;, &#x043A; &#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x0440;&#x0443;, &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;
&#x043F;&#x043E;&#x043F;&#x044B;&#x0442;&#x0430;&#x044E;&#x0442;&#x0441;&#x044F; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x0435;&#x0441;&#x0442;&#x0438; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C; &#x0432; &#x043E;&#x0434;&#x043D;&#x0443; &#x0438; &#x0442;&#x0443; &#x0436;&#x0435; &#x044F;&#x0447;&#x0435;&#x0439;&#x043A;&#x0443; &#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430;. &#x0422;&#x0430;&#x043A;&#x0438;&#x043C; &#x043E;&#x0431;&#x0440;&#x0430;&#x0437;&#x043E;&#x043C;, &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x0438;-&#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044F;
&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x044F;&#x0442;&#x0441;&#x044F; &#x043A;&#x0440;&#x0438;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x0438;&#x043C;&#x0438; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x044F;&#x043C;&#x0438;, &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F; &#x043A; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x043C; &#x0442;&#x0430;&#x043A;&#x0436;&#x0435; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x043E; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C;. &#x0414;&#x043B;&#x044F; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E;
&#x0431;&#x0443;&#x0434;&#x0435;&#x0442; &#x0434;&#x043E;&#x0441;&#x0442;&#x0430;&#x0442;&#x043E;&#x0447;&#x043D;&#x043E; &#x0435;&#x0449;&#x0435; &#x043E;&#x0434;&#x043D;&#x043E;&#x0433;&#x043E; &#x0431;&#x0438;&#x043D;&#x0430;&#x0440;&#x043D;&#x043E;&#x0433;&#x043E; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x0430;, &#x0438;&#x043C;&#x0435;&#x044E;&#x0449;&#x0435;&#x0433;&#x043E; &#x0441;&#x043C;&#x044B;&#x0441;&#x043B; &#x0440;&#x0430;&#x0437;&#x0440;&#x0435;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0430; &#x043A; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438;.
&#x041E;&#x0431;&#x0430; &#x0442;&#x0438;&#x043F;&#x0430; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432; &#x0434;&#x043E;&#x043B;&#x0436;&#x043D;&#x044B; &#x0437;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442;&#x044B;&#x0432;&#x0430;&#x0442;&#x044C; &#x0435;&#x0433;&#x043E; &#x043F;&#x0440;&#x0438; &#x043F;&#x043E;&#x043F;&#x044B;&#x0442;&#x043A;&#x0435; &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x044F; &#x0441; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;&#x044E; &#x0438; &#x043E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0430;&#x0442;&#x044C;
&#x043F;&#x043E;&#x0441;&#x043B;&#x0435;.
<!--l. 441--><p class="indent" >   &#x041F;&#x043E;&#x0440;&#x044F;&#x0434;&#x043E;&#x043A; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x0439; &#x043E;&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0436;&#x0434;&#x0435;&#x043D;&#x0438;&#x044F; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x043E;&#x0432; &#x043D;&#x0435; &#x0432;&#x0430;&#x0436;&#x0435;&#x043D;, &#x0432; &#x0442;&#x043E; &#x0436;&#x0435; &#x0432;&#x0440;&#x0435;&#x043C;&#x044F; &#x0438;&#x0437;&#x043C;&#x0435;&#x043D;&#x0435;&#x043D;&#x0438;&#x0435; &#x043F;&#x043E;&#x0440;&#x044F;&#x0434;&#x043A;&#x0430; &#x0437;&#x0430;&#x0445;&#x0432;&#x0430;&#x0442;&#x0430; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x043E;&#x0432;
&#x043C;&#x043E;&#x0436;&#x0435;&#x0442; &#x043F;&#x0440;&#x0438;&#x0432;&#x0435;&#x0441;&#x0442;&#x0438; &#x043A; &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043D;&#x043E;&#x0439; &#x0431;&#x043B;&#x043E;&#x043A;&#x0438;&#x0440;&#x043E;&#x0432;&#x043A;&#x0435; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432; (dead lock).
<!--l. 443--><p class="indent" >   &#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;:
   <!--l. 445--><div class="lstinputlisting">
<a 
 id="x1-34001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ipc</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sem</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">shm</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">time</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DEFAULT_FILENAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">readfile</span><span 
class="lass-0900">.</span><span 
class="lass-0900">txt</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">100</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ITERATIONS_COUNT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">25</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sembuf</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WAIT</span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sembuf</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RELEASE</span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sembuf</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FREE</span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sembuf</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LOCK</span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sembuf</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">UNLOCK</span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lasx-0900">int</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmemory</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x0438;</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">code</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DEFAULT_FILENAME</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x043E;&#x0431;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x044E;&#x0447;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ftok</span><span 
class="lass-0900">(</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">Q</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">get</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">for</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">shm</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmemory</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmget</span><span 
class="lass-0900">(</span><span 
class="lass-0900">key</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPC_CREAT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0666)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">shmemory</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shm</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x0438;&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">shm</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0448;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0441;&#x0442;&#x0440;&#x0430;&#x043D;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmat</span><span 
class="lass-0900">(</span><span 
class="lass-0900">shmemory</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">attach</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shm</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0435;&#x0440;&#x043C;&#x0438;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0433;&#x0440;&#x0443;&#x043F;&#x043F;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0432;&#x0443;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x043E;&#x0432;</span><span 
class="lasi-0900">:</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0432;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043A;&#x0430;&#x0437;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0442;&#x043E;&#x0440;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semget</span><span 
class="lass-0900">(</span><span 
class="lass-0900">key</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPC_CREAT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0666)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0418;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">index</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">index</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0435;&#x0434;&#x0438;&#x043D;&#x0438;&#x0446;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0441;&#x043B;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0434;&#x043D;&#x044B;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x044F;&#x0447;&#x0435;&#x0435;&#x043A;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semop</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FREE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">imposibble</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">set</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">free</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x5</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x0431;&#x043B;&#x043E;&#x043A;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semop</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">UNLOCK</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34085r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">imposibble</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">set</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">unlock</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34086r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x6</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34087r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34088r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34089r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Press</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">Enter</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">start</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34090r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getchar</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34091r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34092r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ITERATIONS_COUNT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">index</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34093r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0445;&#x043E;&#x0442;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0434;&#x043D;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0435;&#x043F;&#x0443;&#x0441;&#x0442;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x044F;&#x0447;&#x0435;&#x0439;&#x043A;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34094r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semop</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WAIT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34095r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34096r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">imposibble</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wait</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">not</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">empty</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34097r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x7</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34098r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34099r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34100r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;&#x0441;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;&#x044E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34101r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semop</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LOCK</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34102r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34103r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">imposibble</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">set</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">lock</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34104r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x8</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34105r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34106r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34107r106"></a><span 
class="larm-0500">106</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34108r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">]];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34109r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">],</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34110r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34111r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34112r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0420;&#x0430;&#x0437;&#x0431;&#x043B;&#x043E;&#x043A;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34113r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semop</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">UNLOCK</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34114r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34115r114"></a><span 
class="larm-0500">114</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">imposibble</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">set</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">unlock</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34116r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x9</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34117r116"></a><span 
class="larm-0500">116</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34118r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34119r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0432;&#x0435;&#x043B;&#x0438;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0441;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0443;&#x0441;&#x0442;&#x044B;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x044F;&#x0447;&#x0435;&#x0435;&#x043A;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34120r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semop</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RELEASE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34121r120"></a><span 
class="larm-0500">120</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34122r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">imposibble</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">release</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34123r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">xA</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34124r123"></a><span 
class="larm-0500">123</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34125r124"></a><span 
class="larm-0500">124</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34126r125"></a><span 
class="larm-0500">125</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34127r126"></a><span 
class="larm-0500">126</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34128r127"></a><span 
class="larm-0500">127</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34129r128"></a><span 
class="larm-0500">128</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34130r129"></a><span 
class="larm-0500">129</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34131r130"></a><span 
class="larm-0500">130</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34132r131"></a><span 
class="larm-0500">131</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">xB</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34133r132"></a><span 
class="larm-0500">132</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34134r133"></a><span 
class="larm-0500">133</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34135r134"></a><span 
class="larm-0500">134</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">code</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34136r135"></a><span 
class="larm-0500">135</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0441;&#x0442;&#x0430;&#x043D;&#x0430;&#x0432;&#x043B;&#x0438;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x043C;&#x043E;&#x043B;&#x0447;&#x0430;&#x043D;&#x0438;&#x044E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34137r136"></a><span 
class="larm-0500">136</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIG_DFL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34138r137"></a><span 
class="larm-0500">137</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34139r138"></a><span 
class="larm-0500">138</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043A;&#x043B;&#x044E;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34140r139"></a><span 
class="larm-0500">139</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmdt</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34141r140"></a><span 
class="larm-0500">140</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34142r141"></a><span 
class="larm-0500">141</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">detach</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shm</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34143r142"></a><span 
class="larm-0500">142</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34144r143"></a><span 
class="larm-0500">143</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">shm</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34145r144"></a><span 
class="larm-0500">144</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmctl</span><span 
class="lass-0900">(</span><span 
class="lass-0900">shmemory</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPC_RMID</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34146r145"></a><span 
class="larm-0500">145</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34147r146"></a><span 
class="larm-0500">146</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shm</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34148r147"></a><span 
class="larm-0500">147</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34149r148"></a><span 
class="larm-0500">148</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34150r149"></a><span 
class="larm-0500">149</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semctl</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPC_RMID</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34151r150"></a><span 
class="larm-0500">150</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34152r151"></a><span 
class="larm-0500">151</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34153r152"></a><span 
class="larm-0500">152</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34154r153"></a><span 
class="larm-0500">153</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Clear</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34155r154"></a><span 
class="larm-0500">154</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(</span><span 
class="lass-0900">code</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34156r155"></a><span 
class="larm-0500">155</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 447--><p class="indent" >   &#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430;-&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;:
   <!--l. 449--><div class="lstinputlisting">
<a 
 id="x1-34159"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34160r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34161r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34162r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34163r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34164r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34165r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ipc</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34166r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sem</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34167r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">shm</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34168r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">time</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34169r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34170r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DEFAULT_FILENAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">readfile</span><span 
class="lass-0900">.</span><span 
class="lass-0900">txt</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34171r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">100</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34172r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ITERATIONS_COUNT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">10</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34173r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34174r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sembuf</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WAIT</span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34175r16"></a><span 
class="larm-0500">16</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sembuf</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RELEASE</span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34176r17"></a><span 
class="larm-0500">17</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sembuf</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LOCK</span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34177r18"></a><span 
class="larm-0500">18</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sembuf</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">UNLOCK</span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0};</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34178r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34179r20"></a><span 
class="larm-0500">20</span></span><span 
class="lasx-0900">int</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34180r21"></a><span 
class="larm-0500">21</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmemory</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34181r22"></a><span 
class="larm-0500">22</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34182r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34183r24"></a><span 
class="larm-0500">24</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x0438;</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34184r25"></a><span 
class="larm-0500">25</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34185r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34186r27"></a><span 
class="larm-0500">27</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">code</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34187r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34188r29"></a><span 
class="larm-0500">29</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34189r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DEFAULT_FILENAME</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34190r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34191r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34192r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34193r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34194r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34195r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34196r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x043E;&#x0431;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x044E;&#x0447;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34197r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ftok</span><span 
class="lass-0900">(</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">Q</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34198r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34199r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">get</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">for</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">key</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">file</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34200r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34201r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34202r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34203r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">shm</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34204r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmemory</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmget</span><span 
class="lass-0900">(</span><span 
class="lass-0900">key</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0666)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34205r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">shmemory</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34206r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shm</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34207r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34208r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34209r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34210r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x0438;&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">shm</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0448;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0441;&#x0442;&#x0440;&#x0430;&#x043D;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34211r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmat</span><span 
class="lass-0900">(</span><span 
class="lass-0900">shmemory</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34212r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34213r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">attach</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shm</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34214r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34215r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34216r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34217r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x0435;&#x0440;&#x043C;&#x0438;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34218r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34219r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34220r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0433;&#x0440;&#x0443;&#x043F;&#x043F;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x0432;&#x0443;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x043E;&#x0432;</span><span 
class="lasi-0900">:</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0432;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043A;&#x0430;&#x0437;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0442;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0442;&#x043E;&#x0440;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0442;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0438;&#x0441;&#x0430;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34221r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semget</span><span 
class="lass-0900">(</span><span 
class="lass-0900">key</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0666)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34222r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34223r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34224r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x4</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34225r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34226r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34227r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Press</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">Enter</span><span 
class="lass-0900">\"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">start</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34228r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getchar</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34229r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34230r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34231r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ITERATIONS_COUNT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">index</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34232r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0445;&#x043E;&#x0442;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0434;&#x043D;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0434;&#x043D;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x044F;&#x0447;&#x0435;&#x0439;&#x043A;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34233r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semop</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">WAIT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34234r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34235r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">imposibble</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wait</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">not</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">empty</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34236r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x5</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34237r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34238r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34239r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34240r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semop</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LOCK</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34241r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34242r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">imposibble</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">set</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">lock</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34243r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x6</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34244r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34245r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34246r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34247r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">],</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34248r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">]]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">++;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34249r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34250r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34251r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semop</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">UNLOCK</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34252r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34253r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">imposibble</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">set</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">unlock</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34254r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x7</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34255r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34256r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34257r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0432;&#x0435;&#x043B;&#x0438;&#x0447;&#x0438;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0447;&#x0438;&#x0441;&#x043B;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043D;&#x044F;&#x0442;&#x044B;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x044F;&#x0447;&#x0435;&#x0435;&#x043A;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34258r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">semop</span><span 
class="lass-0900">(</span><span 
class="lass-0900">semaphore</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RELEASE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34259r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34260r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">imposibble</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">release</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34261r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x8</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34262r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34263r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34264r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34265r106"></a><span 
class="larm-0500">106</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34266r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34267r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34268r109"></a><span 
class="larm-0500">109</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34269r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34270r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x9</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34271r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34272r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34273r114"></a><span 
class="larm-0500">114</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clearAndExit</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">code</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34274r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0441;&#x0442;&#x0430;&#x043D;&#x0430;&#x0432;&#x043B;&#x0438;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x043C;&#x043E;&#x043B;&#x0447;&#x0430;&#x043D;&#x0438;&#x044E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34275r116"></a><span 
class="larm-0500">116</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SIG_DFL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34276r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34277r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043A;&#x043B;&#x044E;&#x0447;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0443;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34278r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shmdt</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34279r120"></a><span 
class="larm-0500">120</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34280r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">detach</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shm</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34281r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34282r123"></a><span 
class="larm-0500">123</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Clear</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34283r124"></a><span 
class="larm-0500">124</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(</span><span 
class="lass-0900">code</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34284r125"></a><span 
class="larm-0500">125</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 451--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442;&#x044B; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;:
   <!--l. 453--><div class="lstinputlisting">
<a 
 id="x1-34287"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34288r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p7</span><span 
class="lass-0900">.1.3.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34289r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readfile</span><span 
class="lass-0900">.</span><span 
class="lass-0900">txt</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34290r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Press</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Enter</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">start</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34291r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34292r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34293r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34294r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#2,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34295r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#3,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34296r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#4,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">4.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34297r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#5,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34298r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#6,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">6.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34299r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#7,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">7.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34300r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#8,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">8.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34301r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#9,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">9.</span>
   </div>
   <!--l. 455--><div class="lstinputlisting">
<a 
 id="x1-34302"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34303r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p7</span><span 
class="lass-0900">.1.3.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34304r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readfile</span><span 
class="lass-0900">.</span><span 
class="lass-0900">txt</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34305r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Press</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Enter</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">start</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34306r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34307r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#10,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34308r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#11,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34309r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#12,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34310r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#13,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34311r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#14,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">4.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34312r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#15,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34313r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#16,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">6.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34314r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#17,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">7.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34315r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#18,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">8.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34316r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#19,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">9.</span>
   </div>
   <!--l. 457--><div class="lstinputlisting">
<a 
 id="x1-34319"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34320r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p7</span><span 
class="lass-0900">.1.3.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34321r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readfile</span><span 
class="lass-0900">.</span><span 
class="lass-0900">txt</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34322r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Press</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Enter</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">start</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34323r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34324r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#20,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34325r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#21,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34326r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#22,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34327r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#23,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34328r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#24,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">4.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34329r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#25,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34330r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#26,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">6.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34331r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#27,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">7.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34332r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#28,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">8.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34333r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">Add</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#29,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">9.</span>
   </div>
   <!--l. 459--><div class="lstinputlisting">
<a 
 id="x1-34336"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34337r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p7</span><span 
class="lass-0900">.1.3.</span><span 
class="lass-0900">se</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34338r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readfile</span><span 
class="lass-0900">.</span><span 
class="lass-0900">txt</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34339r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Press</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Enter</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">start</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34340r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34341r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#29,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">9.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34342r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#28,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">8.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34343r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#27,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">7.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34344r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#26,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">6.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34345r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#25,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34346r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#24,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">4.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34347r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#23,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34348r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#22,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34349r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#21,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34350r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#20,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34351r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#19,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">9.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34352r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#18,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">8.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34353r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#17,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">7.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34354r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#16,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">6.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34355r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#15,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34356r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#14,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">4.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34357r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#13,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34358r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#12,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34359r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#11,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34360r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#10,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34361r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#9,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">9.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34362r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#8,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">8.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34363r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#7,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">7.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34364r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#6,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">6.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-34365r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">Remove</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#5,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">value</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5.</span>
   </div>
<!--l. 461--><p class="indent" >   &#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x044B; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044B;&#x0432;&#x0430;&#x044E;&#x0442; &#x0432; &#x0431;&#x0443;&#x0444;&#x0435;&#x0440; &#x043F;&#x043E; &#x0434;&#x0435;&#x0441;&#x044F;&#x0442;&#x044C; &#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x0439;. &#x041A;&#x0430;&#x0436;&#x0434;&#x044B;&#x0439; &#x0441;&#x043B;&#x0435;&#x0434;&#x0443;&#x044E;&#x0449;&#x0438;&#x0439; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x0432;
&#x043A;&#x043E;&#x043D;&#x0435;&#x0446; &#x043E;&#x0434;&#x043D;&#x043E;&#x0433;&#x043E; &#x0438; &#x0442;&#x043E;&#x0433;&#x043E; &#x0436;&#x0435; &#x0431;&#x0443;&#x0444;&#x0435;&#x0440;&#x0430;. &#x0421;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; 25 &#x0447;&#x0438;&#x0441;&#x0435;&#x043B; &#x0438;&#x0437; &#x0442;&#x0435;&#x0445; 30, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0435; &#x0431;&#x044B;&#x043B;&#x0438; &#x0434;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x044B; &#x0442;&#x0440;&#x0435;&#x043C;&#x044F;
&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;&#x043C;&#x0438;.
<a 
 id="x1-34368r65"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.8   </span> <a 
 id="x1-350008"></a>&#x0413;&#x043B;&#x0430;&#x0432;&#x0430; 8. &#x0421;&#x043E;&#x043A;&#x0435;&#x0442;&#x044B;</h4>
<!--l. 465--><p class="noindent" >&#x0421;&#x043E;&#x043A;&#x0435;&#x0442;&#x044B; - &#x043D;&#x0430;&#x0437;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0438;&#x043D;&#x0442;&#x0435;&#x0440;&#x0444;&#x0435;&#x0439;&#x0441;&#x0430; &#x0434;&#x043B;&#x044F; &#x043E;&#x0431;&#x0435;&#x0441;&#x043F;&#x0435;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D;&#x0430; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x043C;&#x0438; &#x043C;&#x0435;&#x0436;&#x0434;&#x0443; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;&#x043C;&#x0438;. &#x041F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x044B; &#x043F;&#x0440;&#x0438;
&#x0442;&#x0430;&#x043A;&#x043E;&#x043C; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D;&#x0435; &#x043C;&#x043E;&#x0433;&#x0443;&#x0442; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x0442;&#x044C;&#x0441;&#x044F; &#x043A;&#x0430;&#x043A; &#x043D;&#x0430; &#x043E;&#x0434;&#x043D;&#x043E;&#x0439; &#x042D;&#x0412;&#x041C;, &#x0442;&#x0430;&#x043A; &#x0438; &#x043D;&#x0430; &#x0440;&#x0430;&#x0437;&#x043B;&#x0438;&#x0447;&#x043D;&#x044B;&#x0445; &#x042D;&#x0412;&#x041C;, &#x0441;&#x0432;&#x044F;&#x0437;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x043C;&#x0435;&#x0436;&#x0434;&#x0443; &#x0441;&#x043E;&#x0431;&#x043E;&#x0439;
&#x0441;&#x0435;&#x0442;&#x044C;&#x044E;.
                                                                                               
                                                                                               
<!--l. 467--><p class="indent" >   &#x0421;&#x043B;&#x0435;&#x0434;&#x0443;&#x0435;&#x0442; &#x0440;&#x0430;&#x0437;&#x043B;&#x0438;&#x0447;&#x0430;&#x0442;&#x044C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0435; &#x0438; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x044B;&#x0435; &#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x044B;. &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0435; &#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x044B; &#x043C;&#x043E;&#x0436;&#x043D;&#x043E; &#x0441;&#x0440;&#x0430;&#x0432;&#x043D;&#x0438;&#x0442;&#x044C; &#x0441; &#x043A;&#x043E;&#x043D;&#x0435;&#x0447;&#x043D;&#x044B;&#x043C;&#x0438;
&#x0430;&#x043F;&#x043F;&#x0430;&#x0440;&#x0430;&#x0442;&#x0430;&#x043C;&#x0438; &#x0442;&#x0435;&#x043B;&#x0435;&#x0444;&#x043E;&#x043D;&#x043D;&#x043E;&#x0439; &#x0441;&#x0435;&#x0442;&#x0438;, &#x0430; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x044B;&#x0435; &#8212; &#x0441; &#x043A;&#x043E;&#x043C;&#x043C;&#x0443;&#x0442;&#x0430;&#x0442;&#x043E;&#x0440;&#x0430;&#x043C;&#x0438;. &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x0435; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435; (&#x043D;&#x0430;&#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x0440;, &#x0431;&#x0440;&#x0430;&#x0443;&#x0437;&#x0435;&#x0440;)
&#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x0442; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0435; &#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x044B;, &#x0430; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0435; (&#x043D;&#x0430;&#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x0440;, &#x0432;&#x0435;&#x0431;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x043C;&#x0443; &#x0431;&#x0440;&#x0430;&#x0443;&#x0437;&#x0435;&#x0440; &#x043F;&#x043E;&#x0441;&#x044B;&#x043B;&#x0430;&#x0435;&#x0442; &#x0437;&#x0430;&#x043F;&#x0440;&#x043E;&#x0441;&#x044B;) &#8212;
&#x043A;&#x0430;&#x043A; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0435;, &#x0442;&#x0430;&#x043A; &#x0438; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x044B;&#x0435; &#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x044B;.
<!--l. 469--><p class="indent" >   &#x0414;&#x043B;&#x044F; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x043E; &#x0443;&#x043A;&#x0430;&#x0437;&#x0430;&#x0442;&#x044C; &#x043F;&#x043E;&#x0440;&#x0442;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0439; &#x043D;&#x0435; &#x0434;&#x043E;&#x043B;&#x0436;&#x0435;&#x043D; &#x0431;&#x044B;&#x0442;&#x044C; &#x0437;&#x0430;&#x043D;&#x044F;&#x0442;. &#x0414;&#x043B;&#x044F; &#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430; &#x043A;
&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x043E; &#x0437;&#x043D;&#x0430;&#x0442;&#x044C; <span 
class="lati-1000">IP </span>&#x0430;&#x0434;&#x0440;&#x0435;&#x0441; &#x0438; &#x043F;&#x043E;&#x0440;&#x0442;.
<!--l. 471--><p class="indent" >   &#x0414;&#x043B;&#x044F; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x0438; &#x043E; &#x0441;&#x043E;&#x0441;&#x0442;&#x043E;&#x044F;&#x043D;&#x0438;&#x0438; &#x0441;&#x0435;&#x0442;&#x0438; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044E;&#x0442; &#x0443;&#x0442;&#x0438;&#x043B;&#x0438;&#x0442;&#x044B; <span 
class="lati-1000">ifconfig </span>&#x0438; <span 
class="lati-1000">netstat</span>.
<!--l. 473--><p class="indent" >   &#x0423;&#x0442;&#x0438;&#x043B;&#x0438;&#x0442;&#x0443; <span 
class="lati-1000">ifconfig </span>&#x043E;&#x0431;&#x044B;&#x0447;&#x043D;&#x043E; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044E;&#x0442; &#x0434;&#x043B;&#x044F; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x0438; &#x043E; &#x0432;&#x043D;&#x0443;&#x0442;&#x0440;&#x0435;&#x043D;&#x043D;&#x0438;&#x0445; &#x0438; &#x0432;&#x043D;&#x0435;&#x0448;&#x043D;&#x0438;&#x0445; <span 
class="lati-1000">IP </span>&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x0430;&#x0445;:
   <!--l. 475--><div class="lstinputlisting">
<a 
 id="x1-35001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ifconfig</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">enp1s0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Link</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">encap</span><span 
class="lass-0900">:</span><span 
class="lass-0900">Ethernet</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HWaddr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">e8</span><span 
class="lass-0900">:9</span><span 
class="lass-0900">a</span><span 
class="lass-0900">:8</span><span 
class="lass-0900">f</span><span 
class="lass-0900">:</span><span 
class="lass-0900">e1</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">e</span><span 
class="lass-0900">:17</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">UP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BROADCAST</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MULTICAST</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MTU</span><span 
class="lass-0900">:1500</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Metric</span><span 
class="lass-0900">:1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RX</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">packets</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">errors</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dropped</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overruns</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">frame</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TX</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">packets</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">errors</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dropped</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overruns</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">carrier</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">collisions</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">txqueuelen</span><span 
class="lass-0900">:1000</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RX</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bytes</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(0.0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">B</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TX</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bytes</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(0.0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">B</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">lo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Link</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">encap</span><span 
class="lass-0900">:</span><span 
class="lass-0900">Local</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Loopback</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">inet</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">addr</span><span 
class="lass-0900">:127.0.0.1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Mask</span><span 
class="lass-0900">:255.0.0.0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">inet6</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">addr</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">::1/128</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Scope</span><span 
class="lass-0900">:</span><span 
class="lass-0900">Host</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">UP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LOOPBACK</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RUNNING</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MTU</span><span 
class="lass-0900">:65536</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Metric</span><span 
class="lass-0900">:1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RX</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">packets</span><span 
class="lass-0900">:4271</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">errors</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dropped</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overruns</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">frame</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TX</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">packets</span><span 
class="lass-0900">:4271</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">errors</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dropped</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overruns</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">carrier</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">collisions</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">txqueuelen</span><span 
class="lass-0900">:1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RX</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bytes</span><span 
class="lass-0900">:314292</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(314.2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">KB</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TX</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bytes</span><span 
class="lass-0900">:314292</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(314.2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">KB</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">wlp2s0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Link</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">encap</span><span 
class="lass-0900">:</span><span 
class="lass-0900">Ethernet</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HWaddr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">74:</span><span 
class="lass-0900">de</span><span 
class="lass-0900">:2</span><span 
class="lass-0900">b</span><span 
class="lass-0900">:64:22:23</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">inet</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">addr</span><span 
class="lass-0900">:192.168.0.106</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Bcast</span><span 
class="lass-0900">:192.168.0.255</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Mask</span><span 
class="lass-0900">:255.255.255.0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">inet6</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">addr</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fe80</span><span 
class="lass-0900">::47</span><span 
class="lass-0900">b3</span><span 
class="lass-0900">:2637:</span><span 
class="lass-0900">b9d2</span><span 
class="lass-0900">:</span><span 
class="lass-0900">ef23</span><span 
class="lass-0900">/64</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Scope</span><span 
class="lass-0900">:</span><span 
class="lass-0900">Link</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">UP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BROADCAST</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RUNNING</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MULTICAST</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MTU</span><span 
class="lass-0900">:1500</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Metric</span><span 
class="lass-0900">:1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RX</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">packets</span><span 
class="lass-0900">:3348</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">errors</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dropped</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overruns</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">frame</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TX</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">packets</span><span 
class="lass-0900">:124</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">errors</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dropped</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">overruns</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">carrier</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">collisions</span><span 
class="lass-0900">:0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">txqueuelen</span><span 
class="lass-0900">:1000</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RX</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bytes</span><span 
class="lass-0900">:1074445</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(1.0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MB</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TX</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bytes</span><span 
class="lass-0900">:19056</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(19.0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">KB</span><span 
class="lass-0900">)</span>
   </div>
<!--l. 477--><p class="indent" >   &#x0423;&#x0442;&#x0438;&#x043B;&#x0438;&#x0442;&#x0443; <span 
class="lati-1000">netstat </span>&#x043E;&#x0431;&#x044B;&#x0447;&#x043D;&#x043E; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044E;&#x0442; &#x0434;&#x043B;&#x044F; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x0438; &#x043E; &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0435; &#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D;&#x0438;&#x0439;, &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0435;
&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x0445; &#x0438; &#x043F;&#x0440;&#x0438;&#x0448;&#x0435;&#x0434;&#x0448;&#x0438;&#x0445; &#x043F;&#x0430;&#x043A;&#x0435;&#x0442;&#x043E;&#x0432;:
   <!--l. 479--><div class="lstinputlisting">
<a 
 id="x1-35029"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35030r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">netstat</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35031r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">Ip</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35032r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">6777</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">total</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">packets</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">received</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35033r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">with</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">invalid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">addresses</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35034r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">forwarded</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35035r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">incoming</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">packets</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">discarded</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35036r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">4260</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">incoming</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">packets</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delivered</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35037r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">4264</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">requests</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sent</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">out</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35038r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1008</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">outgoing</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">packets</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dropped</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35039r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dropped</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">because</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">of</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">missing</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">route</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35040r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">Icmp</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35041r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2024</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ICMP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">received</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35042r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">input</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ICMP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">failed</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35043r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ICMP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">input</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">histogram</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35044r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">destination</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">unreachable</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2024</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35045r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2024</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ICMP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sent</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35046r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ICMP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">failed</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35047r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ICMP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">output</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">histogram</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35048r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">destination</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">unreachable</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2024</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35049r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">IcmpMsg</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35050r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">InType3</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2024</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35051r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OutType3</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2024</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35052r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">Tcp</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35053r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">14</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">active</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connections</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">openings</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35054r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">12</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">passive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">openings</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35055r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">failed</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">attempts</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35056r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">resets</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">received</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35057r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connections</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">established</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35058r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">137</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">segments</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">received</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35059r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">137</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">segments</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">out</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35060r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">segments</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">retransmited</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35061r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bad</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">segments</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">received</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35062r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">resets</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sent</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35063r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">Udp</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35064r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">76</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">packets</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">received</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35065r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2024</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">packets</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">unknown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">received</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35066r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">packet</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">receive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">errors</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35067r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2100</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">packets</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sent</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35068r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">UdpLite</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35069r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">TcpExt</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35070r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">11</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TCP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockets</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finished</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">wait</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fast</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timer</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35071r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">26</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">packets</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">directly</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">queued</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">recvmsg</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">prequeue</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35072r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">18</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bytes</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">directly</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">received</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">process</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">context</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">prequeue</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35073r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">11</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">packet</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">headers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">predicted</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35074r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">33</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">acknowledgments</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">not</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">containing</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">data</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">payload</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">received</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35075r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">17</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">predicted</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">acknowledgments</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35076r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">TCPOrigDataSent</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">59</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35077r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">IpExt</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35078r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">InMcastPkts</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">103</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35079r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OutMcastPkts</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">44</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35080r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">InBcastPkts</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">6</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35081r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">InOctets</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1095501</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35082r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OutOctets</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">316253</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35083r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">InMcastOctets</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">7152</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35084r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">OutMcastOctets</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5267</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35085r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">InBcastOctets</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">468</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35086r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">InNoECTPkts</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">6777</span>
   </div>
<h5 class="subsubsectionHead"><a 
 id="x1-360008"></a>1. &#x0420;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; TCP &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0439; &#x043F;&#x0440;&#x043E;&#x0441;&#x043B;&#x0443;&#x0448;&#x0438;&#x0432;&#x0430;&#x0435;&#x0442; &#x0437;&#x0430;&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439; &#x043F;&#x043E;&#x0440;&#x0442;. &#x041F;&#x0440;&#x0438; &#x043F;&#x0440;&#x0438;&#x0445;&#x043E;&#x0434;&#x0435; &#x043D;&#x043E;&#x0432;&#x043E;&#x0433;&#x043E; &#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x043D;&#x043E;&#x0432;&#x044B;&#x0439;
&#x043F;&#x043E;&#x0442;&#x043E;&#x043A; &#x0434;&#x043B;&#x044F; &#x0435;&#x0433;&#x043E; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0438;.</h5>
<!--l. 483--><p class="noindent" >&#x0420;&#x0430;&#x0437;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x0435;&#x043C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443; <span 
class="lati-1000">TCP </span>&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0439; &#x0432; &#x0431;&#x0435;&#x0441;&#x043A;&#x043E;&#x043D;&#x0435;&#x0447;&#x043D;&#x043E;&#x043C; &#x0446;&#x0438;&#x043A;&#x043B;&#x0435; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x0442; &#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;,
&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0435;&#x0442; &#x0434;&#x043B;&#x044F; &#x043A;&#x0430;&#x0436;&#x0434;&#x043E;&#x0433;&#x043E; &#x0438;&#x0437; &#x043D;&#x0438;&#x0445; &#x043D;&#x043E;&#x0432;&#x044B;&#x0439; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;, &#x043F;&#x0440;&#x0438;&#x043D;&#x0438;&#x043C;&#x0430;&#x0435;&#x0442; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430; &#x0438; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442; &#x0438;&#x0445; &#x043D;&#x0430;&#x0437;&#x0430;&#x0434;. &#x0422;&#x0430;&#x043A;&#x0436;&#x0435;
&#x0440;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430; &#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F; &#x0434;&#x043B;&#x044F; &#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0432;&#x0441;&#x0435;&#x0445; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432; &#x0438; &#x0437;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x044F;
&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x043E;&#x0432;:
   <!--l. 485--><div class="lstinputlisting">
<a 
 id="x1-36001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">arpa</span><span 
class="lass-0900">/</span><span 
class="lass-0900">inet</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">netinet</span><span 
class="lass-0900">/</span><span 
class="lass-0900">in</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">pthread</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">types</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">map</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">65100</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BACKLOG</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1000</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x043B;&#x043B;&#x0435;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0445;&#x0440;&#x0430;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x0439;</span><span 
class="lasi-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">+</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">map</span><span 
class="lass-0900">&#x003C;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pthread_t</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threads</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lasx-0900">void</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientExecutor</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">void</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bufferSize</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">destroyClient</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">atoi</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCK_STREAM</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPPROTO_TCP</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0434;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0445;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_family</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">htons</span><span 
class="lass-0900">(</span><span 
class="lass-0900">port</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_addr</span><span 
class="lass-0900">.</span><span 
class="lass-0900">s_addr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">htonl</span><span 
class="lass-0900">(</span><span 
class="lass-0900">INADDR_ANY</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0411;&#x0438;&#x043D;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverBind</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bind</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">info</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverBind</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bind</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043B;&#x0443;&#x0448;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverListen</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">listen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BACKLOG</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverListen</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">listen</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x3</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Wait</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0416;&#x0434;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">accept</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0440;&#x043E;&#x0431;&#x0443;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x0442;&#x044C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pthread_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36085r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pthread_create</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientExecutor</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36086r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36087r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">new</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36088r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36089r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36090r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36091r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0414;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043B;&#x043B;&#x0435;&#x043A;&#x0446;&#x0438;&#x044E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x0440;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x0439;</span><span 
class="lasi-0900">:</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">+</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36092r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threads</span><span 
class="lass-0900">.</span><span 
class="lass-0900">insert</span><span 
class="lass-0900">(</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">pair</span><span 
class="lass-0900">&#x003C;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pthread_t</span><span 
class="lass-0900">&#x003E;(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36093r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36094r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36095r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36096r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36097r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36098r97"></a><span 
class="larm-0500">97</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36099r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0414;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x0441;&#x0435;&#x0445;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x044D;&#x043B;&#x0435;&#x043C;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043B;&#x043B;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36100r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">map</span><span 
class="lass-0900">&#x003C;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pthread_t</span><span 
class="lass-0900">&#x003E;::</span><span 
class="lass-0900">iterator</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threads</span><span 
class="lass-0900">.</span><span 
class="lass-0900">begin</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threads</span><span 
class="lass-0900">.</span><span 
class="lass-0900">end</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">current</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36101r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finish</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">with</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">first</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36102r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x044B;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36103r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">current</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">first</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36104r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">first</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36105r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36106r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36107r106"></a><span 
class="larm-0500">106</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36108r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36109r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36110r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36111r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36112r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36113r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36114r113"></a><span 
class="larm-0500">113</span></span><span 
class="lasx-0900">void</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientExecutor</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">void</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36115r114"></a><span 
class="larm-0500">114</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">((</span><span 
class="lasx-0900">int</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36116r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36117r116"></a><span 
class="larm-0500">116</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">with</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36118r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36119r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36120r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36121r120"></a><span 
class="larm-0500">120</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36122r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36123r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36124r123"></a><span 
class="larm-0500">123</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">destroyClient</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36125r124"></a><span 
class="larm-0500">124</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36126r125"></a><span 
class="larm-0500">125</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36127r126"></a><span 
class="larm-0500">126</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">destroyClient</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36128r127"></a><span 
class="larm-0500">127</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36129r128"></a><span 
class="larm-0500">128</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36130r129"></a><span 
class="larm-0500">129</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36131r130"></a><span 
class="larm-0500">130</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0437;&#x0430;&#x0434;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36132r131"></a><span 
class="larm-0500">131</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36133r132"></a><span 
class="larm-0500">132</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36134r133"></a><span 
class="larm-0500">133</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">destroyClient</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36135r134"></a><span 
class="larm-0500">134</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36136r135"></a><span 
class="larm-0500">135</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36137r136"></a><span 
class="larm-0500">136</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36138r137"></a><span 
class="larm-0500">137</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bufferSize</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36139r138"></a><span 
class="larm-0500">138</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0447;&#x0438;&#x0449;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36140r139"></a><span 
class="larm-0500">139</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bzero</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bufferSize</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36141r140"></a><span 
class="larm-0500">140</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36142r141"></a><span 
class="larm-0500">141</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36143r142"></a><span 
class="larm-0500">142</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">index</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36144r143"></a><span 
class="larm-0500">143</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0434;&#x043D;&#x043E;&#x043C;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36145r144"></a><span 
class="larm-0500">144</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readSize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">recv</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36146r145"></a><span 
class="larm-0500">145</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readSize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36147r146"></a><span 
class="larm-0500">146</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36148r147"></a><span 
class="larm-0500">147</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36149r148"></a><span 
class="larm-0500">148</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36150r149"></a><span 
class="larm-0500">149</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">r</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36151r150"></a><span 
class="larm-0500">150</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">index</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36152r151"></a><span 
class="larm-0500">151</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36153r152"></a><span 
class="larm-0500">152</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36154r153"></a><span 
class="larm-0500">153</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36155r154"></a><span 
class="larm-0500">154</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36156r155"></a><span 
class="larm-0500">155</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36157r156"></a><span 
class="larm-0500">156</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36158r157"></a><span 
class="larm-0500">157</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">unsigned</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36159r158"></a><span 
class="larm-0500">158</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36160r159"></a><span 
class="larm-0500">159</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0435;&#x0440;&#x0435;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0435;&#x0446;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0432;&#x043E;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36161r160"></a><span 
class="larm-0500">160</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36162r161"></a><span 
class="larm-0500">161</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36163r162"></a><span 
class="larm-0500">162</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36164r163"></a><span 
class="larm-0500">163</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36165r164"></a><span 
class="larm-0500">164</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36166r165"></a><span 
class="larm-0500">165</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36167r166"></a><span 
class="larm-0500">166</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">length</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36168r167"></a><span 
class="larm-0500">167</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36169r168"></a><span 
class="larm-0500">168</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36170r169"></a><span 
class="larm-0500">169</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36171r170"></a><span 
class="larm-0500">170</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36172r171"></a><span 
class="larm-0500">171</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36173r172"></a><span 
class="larm-0500">172</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36174r173"></a><span 
class="larm-0500">173</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36175r174"></a><span 
class="larm-0500">174</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36176r175"></a><span 
class="larm-0500">175</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36177r176"></a><span 
class="larm-0500">176</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36178r177"></a><span 
class="larm-0500">177</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36179r178"></a><span 
class="larm-0500">178</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36180r179"></a><span 
class="larm-0500">179</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socketShutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shutdown</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SHUT_RDWR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36181r180"></a><span 
class="larm-0500">180</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socketShutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36182r181"></a><span 
class="larm-0500">181</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36183r182"></a><span 
class="larm-0500">182</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36184r183"></a><span 
class="larm-0500">183</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36185r184"></a><span 
class="larm-0500">184</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socketClose</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36186r185"></a><span 
class="larm-0500">185</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socketClose</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36187r186"></a><span 
class="larm-0500">186</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36188r187"></a><span 
class="larm-0500">187</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36189r188"></a><span 
class="larm-0500">188</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36190r189"></a><span 
class="larm-0500">189</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">destroyClient</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36191r190"></a><span 
class="larm-0500">190</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">receive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">or</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36192r191"></a><span 
class="larm-0500">191</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36193r192"></a><span 
class="larm-0500">192</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36194r193"></a><span 
class="larm-0500">193</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0423;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0430;&#x0440;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043B;&#x043B;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x044E;&#x0447;&#x044E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36195r194"></a><span 
class="larm-0500">194</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">threads</span><span 
class="lass-0900">.</span><span 
class="lass-0900">erase</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36196r195"></a><span 
class="larm-0500">195</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36197r196"></a><span 
class="larm-0500">196</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36198r197"></a><span 
class="larm-0500">197</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pthread_exit</span><span 
class="lass-0900">(</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36199r198"></a><span 
class="larm-0500">198</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 487--><p class="indent" >   &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x043A; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;, &#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0438;&#x0437; &#x043A;&#x043E;&#x043D;&#x0441;&#x043E;&#x043B;&#x0438; &#x0438; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442; &#x0438;&#x0445; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;, &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E;
&#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x0442; &#x043E;&#x0442;&#x0432;&#x0435;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;. &#x0415;&#x0441;&#x043B;&#x0438; &#x0431;&#x044B;&#x043B;&#x043E; &#x0432;&#x0432;&#x0435;&#x0434;&#x0435;&#x043D;&#x043E; &#x043F;&#x0443;&#x0441;&#x0442;&#x043E;&#x0435; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;, &#x0442;&#x043E; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442;
&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;:
   <!--l. 489--><div class="lstinputlisting">
<a 
 id="x1-36202"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36203r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">arpa</span><span 
class="lass-0900">/</span><span 
class="lass-0900">inet</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36204r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">netinet</span><span 
class="lass-0900">/</span><span 
class="lass-0900">in</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36205r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36206r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36207r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36208r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36209r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">types</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36210r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36211r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36212r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">65100</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36213r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">127.0.0.1</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36214r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36215r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BACKLOG</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36216r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1000</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36217r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">16</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36218r16"></a><span 
class="larm-0500">16</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36219r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36220r18"></a><span 
class="larm-0500">18</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36221r19"></a><span 
class="larm-0500">19</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36222r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36223r21"></a><span 
class="larm-0500">21</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36224r22"></a><span 
class="larm-0500">22</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36225r23"></a><span 
class="larm-0500">23</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36226r24"></a><span 
class="larm-0500">24</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bufferSize</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36227r25"></a><span 
class="larm-0500">25</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36228r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36229r27"></a><span 
class="larm-0500">27</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36230r28"></a><span 
class="larm-0500">28</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36231r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36232r30"></a><span 
class="larm-0500">30</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36233r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36234r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">[</span><span 
class="lass-0900">IP_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36235r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36236r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36237r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36238r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36239r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36240r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36241r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36242r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36243r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">atoi</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[2])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36244r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36245r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36246r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36247r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCK_STREAM</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPPROTO_TCP</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36248r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36249r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36250r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36251r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36252r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36253r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36254r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36255r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0434;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0445;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36256r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36257r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_family</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36258r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">htons</span><span 
class="lass-0900">(</span><span 
class="lass-0900">port</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36259r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_addr</span><span 
class="lass-0900">.</span><span 
class="lass-0900">s_addr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">inet_addr</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36260r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36261r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36262r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientConnect</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connect</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">info</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36263r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientConnect</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36264r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connect</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36265r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36266r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36267r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36268r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Connection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">established</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36269r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36270r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36271r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36272r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36273r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Ready</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36274r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36275r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36276r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36277r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bzero</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36278r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fgets</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stdin</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36279r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36280r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[0]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36281r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Empty</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36282r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36283r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36284r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36285r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36286r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36287r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36288r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36289r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36290r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36291r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36292r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36293r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36294r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36295r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36296r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36297r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">receive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36298r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36299r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36300r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36301r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36302r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36303r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36304r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36305r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36306r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36307r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36308r106"></a><span 
class="larm-0500">106</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36309r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36310r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36311r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36312r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36313r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36314r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36315r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36316r114"></a><span 
class="larm-0500">114</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bufferSize</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36317r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0447;&#x0438;&#x0449;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36318r116"></a><span 
class="larm-0500">116</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bzero</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bufferSize</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36319r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36320r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36321r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">index</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36322r120"></a><span 
class="larm-0500">120</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0434;&#x043D;&#x043E;&#x043C;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36323r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readSize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">recv</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36324r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readSize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36325r123"></a><span 
class="larm-0500">123</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36326r124"></a><span 
class="larm-0500">124</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36327r125"></a><span 
class="larm-0500">125</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36328r126"></a><span 
class="larm-0500">126</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">r</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36329r127"></a><span 
class="larm-0500">127</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">index</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36330r128"></a><span 
class="larm-0500">128</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36331r129"></a><span 
class="larm-0500">129</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36332r130"></a><span 
class="larm-0500">130</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36333r131"></a><span 
class="larm-0500">131</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36334r132"></a><span 
class="larm-0500">132</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36335r133"></a><span 
class="larm-0500">133</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36336r134"></a><span 
class="larm-0500">134</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">unsigned</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36337r135"></a><span 
class="larm-0500">135</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36338r136"></a><span 
class="larm-0500">136</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0435;&#x0440;&#x0435;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0435;&#x0446;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0432;&#x043E;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36339r137"></a><span 
class="larm-0500">137</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36340r138"></a><span 
class="larm-0500">138</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36341r139"></a><span 
class="larm-0500">139</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36342r140"></a><span 
class="larm-0500">140</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36343r141"></a><span 
class="larm-0500">141</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36344r142"></a><span 
class="larm-0500">142</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36345r143"></a><span 
class="larm-0500">143</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">length</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36346r144"></a><span 
class="larm-0500">144</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36347r145"></a><span 
class="larm-0500">145</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36348r146"></a><span 
class="larm-0500">146</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36349r147"></a><span 
class="larm-0500">147</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36350r148"></a><span 
class="larm-0500">148</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36351r149"></a><span 
class="larm-0500">149</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36352r150"></a><span 
class="larm-0500">150</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36353r151"></a><span 
class="larm-0500">151</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36354r152"></a><span 
class="larm-0500">152</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36355r153"></a><span 
class="larm-0500">153</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36356r154"></a><span 
class="larm-0500">154</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36357r155"></a><span 
class="larm-0500">155</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36358r156"></a><span 
class="larm-0500">156</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socketShutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shutdown</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SHUT_RDWR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36359r157"></a><span 
class="larm-0500">157</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socketShutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36360r158"></a><span 
class="larm-0500">158</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36361r159"></a><span 
class="larm-0500">159</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36362r160"></a><span 
class="larm-0500">160</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36363r161"></a><span 
class="larm-0500">161</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socketClose</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36364r162"></a><span 
class="larm-0500">162</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socketClose</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36365r163"></a><span 
class="larm-0500">163</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36366r164"></a><span 
class="larm-0500">164</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 491--><p class="indent" >   &#x041F;&#x0440;&#x043E;&#x0442;&#x0435;&#x0441;&#x0442;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0435; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435;:
   <!--l. 493--><div class="lstinputlisting">
<a 
 id="x1-36367"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36368r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">g</span><span 
class="lass-0900">++</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pthread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">se</span><span 
class="lass-0900">.</span><span 
class="lass-0900">cpp</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">se</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36369r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">se</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36370r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">65100.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36371r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36372r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Wait</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36373r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">with</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">4</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36374r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hello</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36375r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">how</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">are</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">you</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36376r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bye</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bye</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">next</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">is</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">empty</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36377r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">receive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">or</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36378r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">4</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.</span>
   </div>
<!--l. 494--><div class="lstinputlisting">
<a 
 id="x1-36381"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36382r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gcc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">.</span><span 
class="lass-0900">c</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36383r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36384r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">127.0.0.1.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36385r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">65100.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36386r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36387r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">Connection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">established</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36388r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">Ready</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36389r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">hello</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36390r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hello</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36391r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">how</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">are</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">you</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36392r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">how</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">are</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">you</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36393r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">bye</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bye</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">next</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">is</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">empty</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36394r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bye</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bye</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">next</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">is</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">empty</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36395r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36396r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">Empty</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span>
   </div>
<!--l. 496--><p class="indent" >   &#x0412; &#x043F;&#x0435;&#x0440;&#x0432;&#x0443;&#x044E; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C; &#x0431;&#x044B;&#x043B; &#x0437;&#x0430;&#x043F;&#x0443;&#x0449;&#x0435;&#x043D; <span 
class="lati-1000">TCP </span>&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;. &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x043A; &#x043D;&#x0435;&#x043C;&#x0443; &#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0438;&#x043B;&#x0441;&#x044F; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;, &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x0438;&#x043B; &#x043D;&#x0430;&#x0431;&#x043E;&#x0440;
&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;, &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0432;&#x0435;&#x0440;&#x043D;&#x0443;&#x043B;&#x0438;&#x0441;&#x044C; &#x043D;&#x0430;&#x0437;&#x0430;&#x0434; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0443;. &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0432;&#x0432;&#x043E;&#x0434;&#x0430; &#x043F;&#x0443;&#x0441;&#x0442;&#x043E;&#x0439; &#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443; &#x0438; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0441;&#x0440;&#x0430;&#x0437;&#x0443;
&#x0436;&#x0435; &#x0443;&#x0437;&#x043D;&#x0430;&#x0435;&#x0442; &#x043E;&#x0431; &#x044D;&#x0442;&#x043E;&#x043C;.
<!--l. 498--><p class="indent" >   &#x0422;&#x0435;&#x043F;&#x0435;&#x0440;&#x044C; &#x0440;&#x0430;&#x0441;&#x0441;&#x043C;&#x043E;&#x0442;&#x0440;&#x0438;&#x043C; &#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x0438;&#x0445; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;:
   <!--l. 500--><div class="lstinputlisting">
                                                                                               
                                                                                               
<a 
 id="x1-36399"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36400r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">se</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36401r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">65100.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36402r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36403r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">Wait</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36404r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">with</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">4</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36405r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">with</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36406r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hello1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36407r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hello2</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36408r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">im</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ready</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">disconnect</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">on</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ctrl</span><span 
class="lass-0900">+</span><span 
class="lass-0900">c</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36409r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">yeah</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">it</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">good</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">idea</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36410r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">^</span><span 
class="lass-0900">CTry</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finish</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">with</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">4</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36411r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">4</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36412r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">Try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finish</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">with</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36413r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36414r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36415r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span>
   </div>
<!--l. 501--><div class="lstinputlisting">
<a 
 id="x1-36416"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36417r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36418r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36419r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">127.0.0.1.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36420r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">65100.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36421r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36422r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">Connection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">established</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36423r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">Ready</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36424r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">hello1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36425r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hello1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36426r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">im</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ready</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">disconnect</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">on</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ctrl</span><span 
class="lass-0900">+</span><span 
class="lass-0900">c</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36427r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">im</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ready</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">disconnect</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">on</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ctrl</span><span 
class="lass-0900">+</span><span 
class="lass-0900">c</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36428r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">last</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">when</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">is</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">down</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36429r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">receive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36430r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Transport</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">endpoint</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">is</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">not</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connected</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36431r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36432r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36433r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36434r18"></a><span 
class="larm-0500">18</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36435r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36436r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">127.0.0.1.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36437r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">65100.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36438r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36439r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">Connection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">established</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36440r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">Ready</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36441r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">hello2</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36442r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hello2</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36443r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">yeah</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">it</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">good</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">idea</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36444r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">yeah</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">it</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">good</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">idea</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36445r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">last</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">when</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">is</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">down</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36446r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">receive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36447r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Transport</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">endpoint</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">is</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">not</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connected</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36448r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span>
   </div>
<!--l. 503--><p class="indent" >   &#x0414;&#x0432;&#x0430; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430; &#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0430;&#x044E;&#x0442;&#x0441;&#x044F; &#x043A; <span 
class="lati-1000">TCP </span>&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443; &#x0438; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x044E;&#x0442; &#x0435;&#x043C;&#x0443; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;. &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;
&#x043E;&#x0442;&#x043A;&#x043B;&#x044E;&#x0447;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x043E;&#x0431;&#x0440;&#x0430;&#x0431;&#x0430;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;&#x044B;&#x043C; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x043E;&#x043C; &#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;. &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x044B; &#x043C;&#x0433;&#x043D;&#x043E;&#x0432;&#x0435;&#x043D;&#x043D;&#x043E; &#x0443;&#x0437;&#x043D;&#x0430;&#x044E;&#x0442; &#x043E; &#x043F;&#x043E;&#x0442;&#x0435;&#x0440;&#x0435; &#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F;, &#x0442;&#x0430;&#x043A; &#x043A;&#x0430;&#x043A;
&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0438;&#x043B; <span 
class="lati-1000">shutdown </span>&#x043D;&#x0430; &#x0432;&#x0441;&#x0435; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0435; &#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x044B;.
<h5 class="subsubsectionHead"><a 
 id="x1-370008"></a>2. &#x041C;&#x043E;&#x0434;&#x0438;&#x0444;&#x0438;&#x0446;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443; &#x0434;&#x043B;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0441; &#x0431;&#x043E;&#x043B;&#x044C;&#x0448;&#x0438;&#x043C; &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;. &#x041F;&#x0440;&#x043E;&#x0432;&#x0435;&#x0441;&#x0442;&#x0438; &#x044D;&#x043A;&#x0441;&#x043F;&#x0435;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x0442;, &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x044F;&#x044E;&#x0449;&#x0438;&#x0439;
&#x043F;&#x0440;&#x0438; &#x043A;&#x0430;&#x043A;&#x043E;&#x043C; &#x043C;&#x0430;&#x043A;&#x0441;&#x0438;&#x043C;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0432; &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0435; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432; TCP &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;.</h5>
<!--l. 507--><p class="noindent" >&#x041C;&#x043E;&#x0434;&#x0438;&#x0444;&#x0438;&#x0446;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443;-&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x0442;&#x0430;&#x043A;&#x0438;&#x043C; &#x043E;&#x0431;&#x0440;&#x0430;&#x0437;&#x043E;&#x043C;, &#x0447;&#x0442;&#x043E;&#x0431;&#x044B; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x043F;&#x043E;&#x0441;&#x044B;&#x043B;&#x0430;&#x043B;&#x0438;&#x0441;&#x044C; &#x043D;&#x0435; &#x0441; &#x043A;&#x043E;&#x043D;&#x0441;&#x043E;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0432;&#x043E;&#x0434;&#x0430;, &#x0430; &#x0438;&#x0437;
&#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043D;&#x043E;&#x0439; &#x043A;&#x043E;&#x043D;&#x0441;&#x0442;&#x0430;&#x043D;&#x0442;&#x043D;&#x043E;&#x0439; &#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;. &#x0421;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x043F;&#x0440;&#x0438;&#x0441;&#x044B;&#x043B;&#x0430;&#x044E;&#x0442;&#x0441;&#x044F; &#x043E;&#x0434;&#x0438;&#x043D; &#x0440;&#x0430;&#x0437; &#x0432; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x0441;&#x0435;&#x043A;&#x0443;&#x043D;&#x0434; &#x0438; &#x0435;&#x0441;&#x0442;&#x044C; &#x043B;&#x0438;&#x043C;&#x0438;&#x0442; &#x043D;&#x0430;
&#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;, &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F;:
   <!--l. 509--><div class="lstinputlisting">
<a 
 id="x1-37001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">arpa</span><span 
class="lass-0900">/</span><span 
class="lass-0900">inet</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">netinet</span><span 
class="lass-0900">/</span><span 
class="lass-0900">in</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">types</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">65100</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">127.0.0.1</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BACKLOG</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1000</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">16</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DELAY</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ITERATIONS_COUNT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">30</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bufferSize</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">[</span><span 
class="lass-0900">IP_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">atoi</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[2])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCK_STREAM</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPPROTO_TCP</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0434;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0445;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_family</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">htons</span><span 
class="lass-0900">(</span><span 
class="lass-0900">port</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_addr</span><span 
class="lass-0900">.</span><span 
class="lass-0900">s_addr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">inet_addr</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientConnect</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connect</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">info</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientConnect</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connect</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Connection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">established</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Ready</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ITERATIONS_COUNT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">index</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bzero</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">server</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[0]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Empty</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37085r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37086r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37087r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37088r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37089r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37090r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37091r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37092r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37093r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37094r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37095r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37096r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37097r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37098r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37099r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">receive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37100r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37101r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37102r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37103r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37104r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37105r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37106r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0434;&#x0438;&#x043D;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x043A;&#x0443;&#x043D;&#x0434;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37107r106"></a><span 
class="larm-0500">106</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">DELAY</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37108r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37109r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37110r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37111r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37112r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37113r112"></a><span 
class="larm-0500">112</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37114r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37115r114"></a><span 
class="larm-0500">114</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37116r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37117r116"></a><span 
class="larm-0500">116</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37118r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37119r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37120r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37121r120"></a><span 
class="larm-0500">120</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bufferSize</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37122r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0447;&#x0438;&#x0449;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0431;&#x0443;&#x0444;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37123r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bzero</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bufferSize</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37124r123"></a><span 
class="larm-0500">123</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37125r124"></a><span 
class="larm-0500">124</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37126r125"></a><span 
class="larm-0500">125</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">index</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37127r126"></a><span 
class="larm-0500">126</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0434;&#x043D;&#x043E;&#x043C;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37128r127"></a><span 
class="larm-0500">127</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">readSize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">recv</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37129r128"></a><span 
class="larm-0500">128</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">readSize</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37130r129"></a><span 
class="larm-0500">129</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37131r130"></a><span 
class="larm-0500">130</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37132r131"></a><span 
class="larm-0500">131</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">break</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37133r132"></a><span 
class="larm-0500">132</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">r</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37134r133"></a><span 
class="larm-0500">133</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">index</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">resolvedSymbol</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37135r134"></a><span 
class="larm-0500">134</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37136r135"></a><span 
class="larm-0500">135</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37137r136"></a><span 
class="larm-0500">136</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37138r137"></a><span 
class="larm-0500">137</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37139r138"></a><span 
class="larm-0500">138</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37140r139"></a><span 
class="larm-0500">139</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37141r140"></a><span 
class="larm-0500">140</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">unsigned</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37142r141"></a><span 
class="larm-0500">141</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37143r142"></a><span 
class="larm-0500">142</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0435;&#x0440;&#x0435;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0435;&#x0446;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0432;&#x043E;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37144r143"></a><span 
class="larm-0500">143</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37145r144"></a><span 
class="larm-0500">144</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37146r145"></a><span 
class="larm-0500">145</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37147r146"></a><span 
class="larm-0500">146</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37148r147"></a><span 
class="larm-0500">147</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37149r148"></a><span 
class="larm-0500">148</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37150r149"></a><span 
class="larm-0500">149</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">length</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37151r150"></a><span 
class="larm-0500">150</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37152r151"></a><span 
class="larm-0500">151</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37153r152"></a><span 
class="larm-0500">152</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37154r153"></a><span 
class="larm-0500">153</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37155r154"></a><span 
class="larm-0500">154</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37156r155"></a><span 
class="larm-0500">155</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37157r156"></a><span 
class="larm-0500">156</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37158r157"></a><span 
class="larm-0500">157</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37159r158"></a><span 
class="larm-0500">158</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37160r159"></a><span 
class="larm-0500">159</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37161r160"></a><span 
class="larm-0500">160</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37162r161"></a><span 
class="larm-0500">161</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37163r162"></a><span 
class="larm-0500">162</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socketShutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shutdown</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SHUT_RDWR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37164r163"></a><span 
class="larm-0500">163</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socketShutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37165r164"></a><span 
class="larm-0500">164</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37166r165"></a><span 
class="larm-0500">165</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37167r166"></a><span 
class="larm-0500">166</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37168r167"></a><span 
class="larm-0500">167</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socketClose</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37169r168"></a><span 
class="larm-0500">168</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socketClose</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37170r169"></a><span 
class="larm-0500">169</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37171r170"></a><span 
class="larm-0500">170</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 511--><p class="indent" >   &#x0411;&#x044B;&#x043B; &#x043D;&#x0430;&#x043F;&#x0438;&#x0441;&#x0430;&#x043D; &#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0439; &#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;&#x0430;&#x0435;&#x0442; &#x0437;&#x0430;&#x0434;&#x0430;&#x043D;&#x043D;&#x043E;&#x0435; &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432; &#x0432; &#x0444;&#x043E;&#x043D;&#x043E;&#x0432;&#x043E;&#x043C; &#x0440;&#x0435;&#x0436;&#x0438;&#x043C;&#x0435;:
   <!--l. 513--><div class="lstinputlisting">
<a 
 id="x1-37172"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37173r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">!/</span><span 
class="lass-0900">bin</span><span 
class="lass-0900">/</span><span 
class="lass-0900">bash</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37174r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37175r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0415;&#x0441;&#x043B;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x043A;&#x0430;&#x0437;&#x0430;&#x043B;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0442;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x0439;</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x043E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0448;&#x0438;&#x0431;&#x043A;&#x043E;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37176r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37177r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">count</span><span 
class="lass-0900">=</span><span 
class="lass-0900">$1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37178r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">if</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">z</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">$count</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">then</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37179r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37180r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">fi</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37181r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37182r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x043C;&#x043F;&#x0438;&#x043B;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37183r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">gcc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.2.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">.</span><span 
class="lass-0900">c</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.2.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37184r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37185r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;&#x0430;&#x0435;&#x043C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x044B;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37186r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">for</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">i</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">$</span><span 
class="lass-0900">(</span><span 
class="lass-0900">seq</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">$count</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37187r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">do</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37188r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.2.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37189r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">done</span>
   </div>
<!--l. 515--><p class="indent" >   &#x042D;&#x043A;&#x0441;&#x043F;&#x0435;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x0442;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E; &#x0431;&#x044B;&#x043B;&#x043E; &#x043F;&#x043E;&#x0434;&#x0442;&#x0432;&#x0435;&#x0440;&#x0436;&#x0434;&#x0435;&#x043D;&#x043E;, &#x0447;&#x0442;&#x043E; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0441;&#x0442;&#x0430;&#x0431;&#x0438;&#x043B;&#x044C;&#x043D;&#x043E; &#x0438; &#x043F;&#x0440;&#x0430;&#x0432;&#x0438;&#x043B;&#x044C;&#x043D;&#x043E; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x0435;&#x0442; &#x0441; &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432; &#x043E;&#x0442; 0
&#x0434;&#x043E; 1024. &#x041D;&#x0430; 1025 &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0435; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x043D;&#x0430;&#x0447;&#x0438;&#x043D;&#x0430;&#x0435;&#x0442; &#x0432;&#x044B;&#x0434;&#x0430;&#x0432;&#x0430;&#x0442;&#x044C; &#x043D;&#x0435;&#x043F;&#x0440;&#x0435;&#x0434;&#x0432;&#x0438;&#x0434;&#x0435;&#x043D;&#x043D;&#x044B;&#x0435; &#x043E;&#x0448;&#x0438;&#x0431;&#x043A;&#x0438;. &#x042D;&#x0442;&#x043E; &#x0441;&#x0432;&#x044F;&#x0437;&#x0430;&#x043D;&#x043E; &#x0441; &#x0442;&#x0435;&#x043C;, &#x0447;&#x0442;&#x043E;
&#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E; <span 
class="lati-1000">TCP </span>&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432; &#x043D;&#x0430; &#x043E;&#x0434;&#x0438;&#x043D; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x043E;&#x0433;&#x0440;&#x0430;&#x043D;&#x0438;&#x0447;&#x0435;&#x043D;&#x043E; &#x043A;&#x043E;&#x043D;&#x0441;&#x0442;&#x0430;&#x043D;&#x0442;&#x043E;&#x0439; <span 
class="lati-1000">__FD_SETSIZE</span>, &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043D;&#x043E;&#x0439; &#x0432; &#x0444;&#x0430;&#x0439;&#x043B;&#x0435;
<span 
class="lati-1000">typesizes.h</span>:
   <!--l. 517--><div class="lstinputlisting">
<a 
 id="x1-37190"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37191r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:/</span><span 
class="lass-0900">$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cat</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">usr</span><span 
class="lass-0900">/</span><span 
class="lass-0900">include</span><span 
class="lass-0900">/</span><span 
class="lass-0900">x86_64</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">linux</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">gnu</span><span 
class="lass-0900">/</span><span 
class="lass-0900">bits</span><span 
class="lass-0900">/</span><span 
class="lass-0900">typesizes</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">grep</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">FD_SETSIZE</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-37192r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__FD_SETSIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024</span>
   </div>
<!--l. 519--><p class="indent" >   &#x0412; &#x0434;&#x0430;&#x043D;&#x043D;&#x043E;&#x0439; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0435; &#x044D;&#x0442;&#x0430; &#x043A;&#x043E;&#x043D;&#x0441;&#x0442;&#x0430;&#x043D;&#x0442;&#x0430; &#x043F;&#x043E; &#x0443;&#x043C;&#x043E;&#x043B;&#x0447;&#x0430;&#x043D;&#x0438;&#x044E; &#x0438;&#x043C;&#x0435;&#x0435;&#x0442; &#x0440;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440; 1024, &#x043E;&#x0434;&#x043D;&#x0430;&#x043A;&#x043E; &#x0435;&#x0435; &#x043C;&#x043E;&#x0436;&#x043D;&#x043E; &#x0438;&#x0437;&#x043C;&#x0435;&#x043D;&#x0438;&#x0442;&#x044C;, &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0438;&#x0432;
&#x0434;&#x0438;&#x0440;&#x0435;&#x043A;&#x0442;&#x0438;&#x0432;&#x043E;&#x0439; <span 
class="lati-1000">#define </span>&#x043F;&#x0435;&#x0440;&#x0435;&#x0434; &#x0431;&#x0438;&#x0431;&#x043B;&#x0438;&#x043E;&#x0442;&#x0435;&#x043A;&#x043E;&#x0439; &#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x043E;&#x0432;.
<h5 class="subsubsectionHead"><a 
 id="x1-380008"></a>3. &#x0412;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0438;&#x0442;&#x044C; &#x0430;&#x043D;&#x0430;&#x043B;&#x043E;&#x0433;&#x0438;&#x0447;&#x043D;&#x044B;&#x0435; &#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x044F; &#x043D;&#x0430; &#x043E;&#x0441;&#x043D;&#x043E;&#x0432;&#x0435; &#x043F;&#x0440;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x043B;&#x0430; UDP, &#x0441;&#x0440;&#x0430;&#x0432;&#x043D;&#x0438;&#x0442;&#x044C; &#x0441; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044F;&#x043C;&#x0438; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;.</h5>
<!--l. 523--><p class="noindent" >&#x0420;&#x0430;&#x0437;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x0435;&#x043C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443; <span 
class="lati-1000">UDP </span>&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;. &#x0412; &#x043E;&#x0442;&#x043B;&#x0438;&#x0447;&#x0438;&#x0438; &#x043E;&#x0442; <span 
class="lati-1000">TCP</span>, &#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x0435; &#x043D;&#x0435; &#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x0430;&#x0432;&#x043B;&#x0438;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F;, &#x043F;&#x043E;&#x044D;&#x0442;&#x043E;&#x043C;&#x0443;
&#x043E;&#x0442;&#x0441;&#x0443;&#x0442;&#x0441;&#x0442;&#x0432;&#x0443;&#x044E;&#x0442; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; <span 
class="lati-1000">listen </span>&#x0438; <span 
class="lati-1000">accept</span>. &#x0422;&#x0430;&#x043A;&#x0436;&#x0435; &#x043D;&#x0435; &#x0438;&#x043C;&#x0435;&#x0435;&#x0442; &#x0431;&#x043E;&#x043B;&#x044C;&#x0448;&#x043E;&#x0433;&#x043E; &#x0441;&#x043C;&#x044B;&#x0441;&#x043B;&#x0430; &#x0440;&#x0435;&#x0433;&#x0438;&#x0441;&#x0442;&#x0440;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x043E;&#x0442;&#x0434;&#x0435;&#x043B;&#x044C;&#x043D;&#x044B;&#x0439; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;
&#x0434;&#x043B;&#x044F; &#x043A;&#x0430;&#x0436;&#x0434;&#x043E;&#x0433;&#x043E; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;. &#x0421;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0432; &#x0431;&#x0435;&#x0441;&#x043A;&#x043E;&#x043D;&#x0435;&#x0447;&#x043D;&#x043E;&#x043C; &#x0446;&#x0438;&#x043A;&#x043B;&#x0435; &#x043F;&#x0440;&#x0438;&#x043D;&#x0438;&#x043C;&#x0430;&#x0435;&#x0442; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x043E;&#x0442; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430; &#x0438; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442; &#x0438;&#x0445;
&#x043D;&#x0430;&#x0437;&#x0430;&#x0434;:
   <!--l. 525--><div class="lstinputlisting">
<a 
 id="x1-38001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">arpa</span><span 
class="lass-0900">/</span><span 
class="lass-0900">inet</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">netinet</span><span 
class="lass-0900">/</span><span 
class="lass-0900">in</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">pthread</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">types</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">map</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">65100</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BACKLOG</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1000</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">atoi</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCK_DGRAM</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPPROTO_UDP</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0434;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0445;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_family</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">htons</span><span 
class="lass-0900">(</span><span 
class="lass-0900">port</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_addr</span><span 
class="lass-0900">.</span><span 
class="lass-0900">s_addr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">htonl</span><span 
class="lass-0900">(</span><span 
class="lass-0900">INADDR_ANY</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0411;&#x0438;&#x043D;&#x0434;&#x0438;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverBind</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bind</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lass-0900">info</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverBind</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bind</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x2</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Wait</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">new</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">size_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">size</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x0431;&#x044B;&#x0442;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bzero</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">recvfrom</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sockaddr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socklen_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">size</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">receive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">from</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">continue</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">is</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">empty</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">continue</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;&#x0437;&#x0430;&#x0434;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38085r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38086r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38087r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38088r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">continue</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38089r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38090r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38091r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">delete</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38092r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38093r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38094r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38095r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38096r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38097r96"></a><span 
class="larm-0500">96</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38098r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x044B;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38099r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socketClose</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38100r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socketClose</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38101r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38102r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38103r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38104r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38105r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38106r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38107r106"></a><span 
class="larm-0500">106</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38108r107"></a><span 
class="larm-0500">107</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38109r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">unsigned</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38110r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38111r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0435;&#x0440;&#x0435;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0435;&#x0446;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0432;&#x043E;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38112r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38113r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38114r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38115r114"></a><span 
class="larm-0500">114</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38116r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38117r116"></a><span 
class="larm-0500">116</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38118r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">length</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38119r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38120r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38121r120"></a><span 
class="larm-0500">120</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38122r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38123r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38124r123"></a><span 
class="larm-0500">123</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38125r124"></a><span 
class="larm-0500">124</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendto</span><span 
class="lass-0900">(</span><span 
class="lass-0900">serverSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38126r125"></a><span 
class="larm-0500">125</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38127r126"></a><span 
class="larm-0500">126</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 527--><p class="indent" >   &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x043A; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;, &#x0441;&#x0447;&#x0438;&#x0442;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0438;&#x0437; &#x043A;&#x043E;&#x043D;&#x0441;&#x043E;&#x043B;&#x0438; &#x0438; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442; &#x0438;&#x0445; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;, &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x0442;
&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;. &#x0412; &#x043E;&#x0442;&#x043B;&#x0438;&#x0447;&#x0438;&#x0435; &#x043E;&#x0442; <span 
class="lati-1000">TCP </span>&#x043E;&#x0442;&#x0441;&#x0443;&#x0442;&#x0441;&#x0442;&#x0432;&#x0443;&#x0435;&#x0442; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; <span 
class="lati-1000">connect</span>, &#x043E;&#x0442;&#x0432;&#x0435;&#x0447;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F; &#x0437;&#x0430; &#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435;
&#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F;. &#x0415;&#x0441;&#x043B;&#x0438; &#x0431;&#x044B;&#x043B;&#x043E; &#x0432;&#x0432;&#x0435;&#x0434;&#x0435;&#x043D;&#x043E; &#x043F;&#x0443;&#x0441;&#x0442;&#x043E;&#x0435; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435;, &#x0442;&#x043E; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;:
   <!--l. 529--><div class="lstinputlisting">
<a 
 id="x1-38128"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38129r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">arpa</span><span 
class="lass-0900">/</span><span 
class="lass-0900">inet</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38130r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">netinet</span><span 
class="lass-0900">/</span><span 
class="lass-0900">in</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38131r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38132r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38133r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38134r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38135r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">types</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38136r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38137r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38138r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">65100</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38139r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">127.0.0.1</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38140r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38141r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BACKLOG</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38142r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1000</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38143r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">16</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38144r16"></a><span 
class="larm-0500">16</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38145r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38146r18"></a><span 
class="larm-0500">18</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38147r19"></a><span 
class="larm-0500">19</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38148r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38149r21"></a><span 
class="larm-0500">21</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38150r22"></a><span 
class="larm-0500">22</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38151r23"></a><span 
class="larm-0500">23</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38152r24"></a><span 
class="larm-0500">24</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38153r25"></a><span 
class="larm-0500">25</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38154r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38155r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38156r28"></a><span 
class="larm-0500">28</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38157r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38158r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">[</span><span 
class="lass-0900">IP_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38159r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38160r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38161r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38162r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38163r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38164r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38165r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38166r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38167r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">atoi</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[2])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38168r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38169r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38170r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38171r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCK_DGRAM</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPPROTO_UDP</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38172r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38173r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38174r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38175r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38176r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38177r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38178r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38179r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0434;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0445;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38180r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38181r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_family</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38182r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">htons</span><span 
class="lass-0900">(</span><span 
class="lass-0900">port</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38183r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_addr</span><span 
class="lass-0900">.</span><span 
class="lass-0900">s_addr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">inet_addr</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38184r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38185r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Connection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">established</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38186r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38187r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38188r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38189r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38190r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Ready</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38191r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38192r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38193r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38194r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">(1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38195r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bzero</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38196r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fgets</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">stdin</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38197r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38198r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[0]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38199r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Empty</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38200r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38201r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38202r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38203r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38204r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38205r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38206r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38207r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38208r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38209r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38210r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38211r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38212r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">size_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">size</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38213r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38214r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38215r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bzero</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38216r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">recvfrom</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socklen_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">size</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38217r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38218r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">receive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38219r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38220r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38221r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38222r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38223r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38224r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38225r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38226r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38227r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38228r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38229r101"></a><span 
class="larm-0500">101</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38230r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38231r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38232r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38233r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38234r106"></a><span 
class="larm-0500">106</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38235r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38236r108"></a><span 
class="larm-0500">108</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38237r109"></a><span 
class="larm-0500">109</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38238r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">unsigned</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38239r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38240r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0435;&#x0440;&#x0435;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0435;&#x0446;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0432;&#x043E;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38241r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38242r114"></a><span 
class="larm-0500">114</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38243r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38244r116"></a><span 
class="larm-0500">116</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38245r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38246r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38247r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">length</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38248r120"></a><span 
class="larm-0500">120</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38249r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38250r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38251r123"></a><span 
class="larm-0500">123</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38252r124"></a><span 
class="larm-0500">124</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38253r125"></a><span 
class="larm-0500">125</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38254r126"></a><span 
class="larm-0500">126</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendto</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38255r127"></a><span 
class="larm-0500">127</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38256r128"></a><span 
class="larm-0500">128</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38257r129"></a><span 
class="larm-0500">129</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38258r130"></a><span 
class="larm-0500">130</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38259r131"></a><span 
class="larm-0500">131</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38260r132"></a><span 
class="larm-0500">132</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socketClose</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38261r133"></a><span 
class="larm-0500">133</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socketClose</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38262r134"></a><span 
class="larm-0500">134</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38263r135"></a><span 
class="larm-0500">135</span></span><span 
class="lass-0900">}</span>
                                                                                               
                                                                                               
   </div>
<!--l. 531--><p class="indent" >   &#x041F;&#x0440;&#x043E;&#x0442;&#x0435;&#x0441;&#x0442;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0435; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0435;:
   <!--l. 533--><div class="lstinputlisting">
<a 
 id="x1-38264"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38265r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.3.</span><span 
class="lass-0900">se</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38266r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">65100.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38267r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38268r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">Wait</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38269r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hello2</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38270r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hello1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38271r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">some</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">text</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">there</span><span 
class="lass-0900">!</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38272r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">oups</span><span 
class="lass-0900">!</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38273r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">^</span><span 
class="lass-0900">CServer</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38274r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span>
   </div>
<!--l. 534--><div class="lstinputlisting">
<a 
 id="x1-38277"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38278r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38279r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gcc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.3.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">.</span><span 
class="lass-0900">c</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.3.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38280r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.3.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38281r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">127.0.0.1.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38282r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">65100.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38283r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38284r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">Connection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">established</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38285r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">Ready</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38286r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">hello1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38287r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hello1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38288r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">some</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">text</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">there</span><span 
class="lass-0900">!</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38289r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">some</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">text</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">there</span><span 
class="lass-0900">!</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38290r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38291r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38292r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pc</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">temp$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.3.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38293r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">127.0.0.1.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38294r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">65100.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38295r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38296r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">Connection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">established</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38297r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">Ready</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38298r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">hello2</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38299r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hello2</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38300r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">oups</span><span 
class="lass-0900">!</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-38301r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">oups</span><span 
class="lass-0900">!</span>
   </div>
<!--l. 536--><p class="indent" >   &#x0412; &#x043F;&#x0435;&#x0440;&#x0432;&#x0443;&#x044E; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C; &#x0431;&#x044B;&#x043B; &#x0437;&#x0430;&#x043F;&#x0443;&#x0449;&#x0435;&#x043D; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0434;&#x0432;&#x0430; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0430;. &#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x044B; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x044E;&#x0442; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;, &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0447;&#x0435;&#x0433;&#x043E; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;
&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442; &#x0441;&#x0432;&#x043E;&#x044E; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;. &#x0412; &#x0441;&#x0432;&#x044F;&#x0437;&#x0438; &#x0441; &#x0442;&#x0435;&#x043C; &#x0447;&#x0442;&#x043E; &#x043E;&#x0442;&#x0441;&#x0443;&#x0442;&#x0441;&#x0442;&#x0432;&#x0443;&#x0435;&#x0442; &#x0443;&#x0441;&#x0442;&#x0430;&#x043D;&#x043E;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435; &#x0441;&#x043E;&#x0435;&#x0434;&#x0438;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; <span 
class="lati-1000">UDP</span>, &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x044B; &#x043D;&#x0435; &#x0443;&#x0437;&#x043D;&#x0430;&#x044E;&#x0442; &#x043E; &#x0442;&#x043E;&#x043C;, &#x0447;&#x0442;&#x043E;
&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x043E;&#x0442;&#x043A;&#x043B;&#x044E;&#x0447;&#x0438;&#x043B;&#x0441;&#x044F;. &#x0414;&#x043B;&#x044F; &#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0430; &#x0442;&#x0430;&#x043A;&#x043E;&#x0439; &#x0441;&#x0438;&#x0442;&#x0443;&#x0430;&#x0446;&#x0438;&#x0438; &#x043E;&#x0431;&#x044B;&#x0447;&#x043D;&#x043E; &#x0441; &#x043A;&#x0430;&#x043A;&#x043E;&#x0439; &#x0442;&#x043E; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x043D;&#x043E;&#x0441;&#x0442;&#x044C;&#x044E; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443; &#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x043F;&#x0430;&#x043A;&#x0435;&#x0442;, &#x0435;&#x0441;&#x043B;&#x0438;
&#x043E;&#x0442; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430; &#x043F;&#x0430;&#x043A;&#x0435;&#x0442; &#x043D;&#x0435; &#x043F;&#x0440;&#x0438;&#x0448;&#x0435;&#x043B; - &#x0437;&#x043D;&#x0430;&#x0447;&#x0438;&#x0442; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x043D;&#x0435;&#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0435;&#x043D;.
<h5 class="subsubsectionHead"><a 
 id="x1-390008"></a>4. &#x041F;&#x0440;&#x043E;&#x0432;&#x0435;&#x0441;&#x0442;&#x0438; &#x044D;&#x043A;&#x0441;&#x043F;&#x0435;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x0442;, &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x044F;&#x044E;&#x0449;&#x0438;&#x0439; &#x043F;&#x0440;&#x0438; &#x043A;&#x0430;&#x043A;&#x043E;&#x043C; &#x043C;&#x0430;&#x043A;&#x0441;&#x0438;&#x043C;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0432; &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0435; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432; UDP &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442;
&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443;.</h5>
<!--l. 540--><p class="noindent" >&#x041C;&#x043E;&#x0434;&#x0438;&#x0444;&#x0438;&#x0446;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443;-&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x0442;&#x0430;&#x043A;&#x0438;&#x043C; &#x043E;&#x0431;&#x0440;&#x0430;&#x0437;&#x043E;&#x043C;, &#x0447;&#x0442;&#x043E;&#x0431;&#x044B; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x043F;&#x043E;&#x0441;&#x044B;&#x043B;&#x0430;&#x043B;&#x0438;&#x0441;&#x044C; &#x043D;&#x0435; &#x0441; &#x043A;&#x043E;&#x043D;&#x0441;&#x043E;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0432;&#x043E;&#x0434;&#x0430;, &#x0430; &#x0438;&#x0437;
&#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043D;&#x043E;&#x0439; &#x043A;&#x043E;&#x043D;&#x0441;&#x0442;&#x0430;&#x043D;&#x0442;&#x043D;&#x043E;&#x0439; &#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;. &#x0421;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x043F;&#x0440;&#x0438;&#x0441;&#x044B;&#x043B;&#x0430;&#x044E;&#x0442;&#x0441;&#x044F; &#x043E;&#x0434;&#x0438;&#x043D; &#x0440;&#x0430;&#x0437; &#x0432; &#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E; &#x0441;&#x0435;&#x043A;&#x0443;&#x043D;&#x0434; &#x0438; &#x0435;&#x0441;&#x0442;&#x044C; &#x043B;&#x0438;&#x043C;&#x0438;&#x0442; &#x043D;&#x0430;
&#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;, &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F;:
   <!--l. 542--><div class="lstinputlisting">
<a 
 id="x1-39001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">arpa</span><span 
class="lass-0900">/</span><span 
class="lass-0900">inet</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">netinet</span><span 
class="lass-0900">/</span><span 
class="lass-0900">in</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdio</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">string</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">stdlib</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">types</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">65100</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">127.0.0.1</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BACKLOG</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1000</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">16</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DELAY</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">4</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">define</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ITERATIONS_COUNT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">15</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0438;&#x043C;&#x0432;&#x043E;&#x043B;&#x043E;&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">**</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PORT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">[</span><span 
class="lass-0900">IP_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IP</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[1])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">atoi</span><span 
class="lass-0900">(</span><span 
class="lass-0900">argv</span><span 
class="lass-0900">[2])</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SOCK_DGRAM</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">IPPROTO_UDP</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39049r48"></a><span 
class="larm-0500">48</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">create</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39050r49"></a><span 
class="larm-0500">49</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39051r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39052r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39053r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39054r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39055r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0421;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430;</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0434;&#x0430;&#x044E;&#x0449;&#x0430;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x043D;&#x044B;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0445;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39056r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39057r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_family</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">AF_INET</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39058r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_port</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">htons</span><span 
class="lass-0900">(</span><span 
class="lass-0900">port</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39059r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">.</span><span 
class="lass-0900">sin_addr</span><span 
class="lass-0900">.</span><span 
class="lass-0900">s_addr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">inet_addr</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ip</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39060r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39061r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Connection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">established</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39062r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39063r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0431;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x043A;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043B;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0433;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39064r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signal</span><span 
class="lass-0900">(</span><span 
class="lass-0900">SIGINT</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39065r64"></a><span 
class="larm-0500">64</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39066r65"></a><span 
class="larm-0500">65</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Ready</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39067r66"></a><span 
class="larm-0500">66</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39068r67"></a><span 
class="larm-0500">67</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39069r68"></a><span 
class="larm-0500">68</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">index</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ITERATIONS_COUNT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">++</span><span 
class="lass-0900">index</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39070r69"></a><span 
class="larm-0500">69</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bzero</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39071r70"></a><span 
class="larm-0500">70</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strcpy</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Message</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">server</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39072r71"></a><span 
class="larm-0500">71</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39073r72"></a><span 
class="larm-0500">72</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[0]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39074r73"></a><span 
class="larm-0500">73</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Empty</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39075r74"></a><span 
class="larm-0500">74</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39076r75"></a><span 
class="larm-0500">75</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39077r76"></a><span 
class="larm-0500">76</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39078r77"></a><span 
class="larm-0500">77</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39079r78"></a><span 
class="larm-0500">78</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0430;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39080r79"></a><span 
class="larm-0500">79</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39081r80"></a><span 
class="larm-0500">80</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39082r81"></a><span 
class="larm-0500">81</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39083r82"></a><span 
class="larm-0500">82</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39084r83"></a><span 
class="larm-0500">83</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39085r84"></a><span 
class="larm-0500">84</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39086r85"></a><span 
class="larm-0500">85</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39087r86"></a><span 
class="larm-0500">86</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">size_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">size</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39088r87"></a><span 
class="larm-0500">87</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39089r88"></a><span 
class="larm-0500">88</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0436;&#x0438;&#x0434;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39090r89"></a><span 
class="larm-0500">89</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bzero</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39091r90"></a><span 
class="larm-0500">90</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">recvfrom</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FLAGS</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socklen_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">size</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39092r91"></a><span 
class="larm-0500">91</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39093r92"></a><span 
class="larm-0500">92</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">receive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39094r93"></a><span 
class="larm-0500">93</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39095r94"></a><span 
class="larm-0500">94</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39096r95"></a><span 
class="larm-0500">95</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39097r96"></a><span 
class="larm-0500">96</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39098r97"></a><span 
class="larm-0500">97</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39099r98"></a><span 
class="larm-0500">98</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39100r99"></a><span 
class="larm-0500">99</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0434;&#x0438;&#x043D;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0440;&#x0430;&#x0437;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0435;&#x0441;&#x043A;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x043A;&#x0443;&#x043D;&#x0434;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39101r100"></a><span 
class="larm-0500">100</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sleep</span><span 
class="lass-0900">(</span><span 
class="lass-0900">DELAY</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39102r101"></a><span 
class="larm-0500">101</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39103r102"></a><span 
class="larm-0500">102</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39104r103"></a><span 
class="larm-0500">103</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39105r104"></a><span 
class="larm-0500">104</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39106r105"></a><span 
class="larm-0500">105</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39107r106"></a><span 
class="larm-0500">106</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39108r107"></a><span 
class="larm-0500">107</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39109r108"></a><span 
class="larm-0500">108</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">signalHandler</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sig</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39110r109"></a><span 
class="larm-0500">109</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0432;&#x0430;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x0441;&#x043A;&#x0438;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39111r110"></a><span 
class="larm-0500">110</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39112r111"></a><span 
class="larm-0500">111</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printf</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39113r112"></a><span 
class="larm-0500">112</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39114r113"></a><span 
class="larm-0500">113</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39115r114"></a><span 
class="larm-0500">114</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39116r115"></a><span 
class="larm-0500">115</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39117r116"></a><span 
class="larm-0500">116</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendLine</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39118r117"></a><span 
class="larm-0500">117</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">unsigned</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39119r118"></a><span 
class="larm-0500">118</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39120r119"></a><span 
class="larm-0500">119</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041F;&#x0435;&#x0440;&#x0435;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x043E;&#x0439;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0434;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043D;&#x0435;&#x0446;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0435;&#x0440;&#x0435;&#x0432;&#x043E;&#x0434;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39121r120"></a><span 
class="larm-0500">120</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39122r121"></a><span 
class="larm-0500">121</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39123r122"></a><span 
class="larm-0500">122</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39124r123"></a><span 
class="larm-0500">123</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">BUFFER_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39125r124"></a><span 
class="larm-0500">124</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39126r125"></a><span 
class="larm-0500">125</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">else</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39127r126"></a><span 
class="larm-0500">126</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">[</span><span 
class="lass-0900">length</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39128r127"></a><span 
class="larm-0500">127</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39129r128"></a><span 
class="larm-0500">128</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39130r129"></a><span 
class="larm-0500">129</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39131r130"></a><span 
class="larm-0500">130</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strlen</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39132r131"></a><span 
class="larm-0500">131</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39133r132"></a><span 
class="larm-0500">132</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x041E;&#x0442;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x043C;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0443;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39134r133"></a><span 
class="larm-0500">133</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sendto</span><span 
class="lass-0900">(</span><span 
class="lass-0900">clientSocket</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">buffer</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">length</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">flags</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">address</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sockaddr_in</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39135r134"></a><span 
class="larm-0500">134</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39136r135"></a><span 
class="larm-0500">135</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39137r136"></a><span 
class="larm-0500">136</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39138r137"></a><span 
class="larm-0500">137</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closeSocket</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39139r138"></a><span 
class="larm-0500">138</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043A;&#x0440;&#x044B;&#x0442;&#x0438;&#x0435;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39140r139"></a><span 
class="larm-0500">139</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socketClose</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39141r140"></a><span 
class="larm-0500">140</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">(</span><span 
class="lass-0900">socketClose</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39142r141"></a><span 
class="larm-0500">141</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">perror</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39143r142"></a><span 
class="larm-0500">142</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 544--><p class="indent" >   &#x0411;&#x044B;&#x043B; &#x043D;&#x0430;&#x043F;&#x0438;&#x0441;&#x0430;&#x043D; &#x0441;&#x043A;&#x0440;&#x0438;&#x043F;&#x0442;, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0439; &#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;&#x0430;&#x0435;&#x0442; &#x0437;&#x0430;&#x0434;&#x0430;&#x043D;&#x043D;&#x043E;&#x0435; &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432; &#x0432; &#x0444;&#x043E;&#x043D;&#x043E;&#x0432;&#x043E;&#x043C; &#x0440;&#x0435;&#x0436;&#x0438;&#x043C;&#x0435;:
   <!--l. 546--><div class="lstinputlisting">
<a 
 id="x1-39144"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39145r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">!/</span><span 
class="lass-0900">bin</span><span 
class="lass-0900">/</span><span 
class="lass-0900">bash</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39146r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39147r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0415;&#x0441;&#x043B;&#x0438;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x043D;&#x0435;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0443;&#x043A;&#x0430;&#x0437;&#x0430;&#x043B;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0438;&#x0442;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x0439;</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0442;&#x043E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0432;&#x044B;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0441;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x043E;&#x0448;&#x0438;&#x0431;&#x043A;&#x043E;&#x0439;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39148r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39149r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">count</span><span 
class="lass-0900">=</span><span 
class="lass-0900">$1</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39150r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">if</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">z</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">$count</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">then</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39151r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exit</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39152r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">fi</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39153r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39154r10"></a><span 
class="larm-0500">10</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x041A;&#x043E;&#x043C;&#x043F;&#x0438;&#x043B;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39155r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">gcc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.4.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">.</span><span 
class="lass-0900">c</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.4.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39156r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39157r13"></a><span 
class="larm-0500">13</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x0417;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;&#x0430;&#x0435;&#x043C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x044B;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39158r14"></a><span 
class="larm-0500">14</span></span><span 
class="lasx-0900">for</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">i</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">in</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">$</span><span 
class="lass-0900">(</span><span 
class="lass-0900">seq</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">$count</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39159r15"></a><span 
class="larm-0500">15</span></span><span 
class="lasx-0900">do</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39160r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.4.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-39161r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">done</span>
   </div>
<!--l. 548--><p class="indent" >   &#x042D;&#x043A;&#x0441;&#x043F;&#x0435;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x0442;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E; &#x0431;&#x044B;&#x043B;&#x043E; &#x043F;&#x043E;&#x0434;&#x0442;&#x0432;&#x0435;&#x0440;&#x0436;&#x0434;&#x0435;&#x043D;&#x043E;, &#x0447;&#x0442;&#x043E; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440; &#x0441;&#x0442;&#x0430;&#x0431;&#x0438;&#x043B;&#x044C;&#x043D;&#x043E; &#x0438; &#x043F;&#x0440;&#x0430;&#x0432;&#x0438;&#x043B;&#x044C;&#x043D;&#x043E; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x0435;&#x0442; &#x0441; &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432; &#x043E;&#x0442; 0
&#x0434;&#x043E; 2300, &#x043D;&#x0430; &#x0431;&#x043E;&#x043B;&#x044C;&#x0448;&#x0435;&#x043C; &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0435; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x043E;&#x0441;&#x0442;&#x0438; &#x043D;&#x0435; &#x0445;&#x0432;&#x0430;&#x0442;&#x0438;&#x043B;&#x043E;. &#x0421; &#x0443;&#x0432;&#x0435;&#x043B;&#x0438;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435;&#x043C; &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0430; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432; &#x0437;&#x0430;&#x043C;&#x0435;&#x0442;&#x043D;&#x043E;
&#x043D;&#x0430;&#x0447;&#x0430;&#x043B;&#x0430; &#x0441;&#x043D;&#x0438;&#x0436;&#x0430;&#x0442;&#x044C;&#x0441;&#x044F; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x043E;&#x0441;&#x0442;&#x044C;. &#x0415;&#x0441;&#x0442;&#x044C; &#x043F;&#x043E;&#x0434;&#x043E;&#x0437;&#x0440;&#x0435;&#x043D;&#x0438;&#x044F;, &#x0447;&#x0442;&#x043E; &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E; <span 
class="lati-1000">UDP </span>&#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432; &#x043E;&#x0433;&#x0440;&#x0430;&#x043D;&#x0438;&#x0447;&#x0435;&#x043D;&#x043E; &#x0442;&#x043E;&#x043B;&#x044C;&#x043A;&#x043E;
&#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x043E;&#x0441;&#x0442;&#x044C;&#x044E; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x0430;.
<h5 class="subsubsectionHead"><a 
 id="x1-400008"></a>5. &#x0417;&#x0430;&#x043F;&#x0443;&#x0441;&#x0442;&#x0438;&#x0442;&#x044C; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x044B;&#x0435; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F; &#x043D;&#x0430; &#x043B;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430;&#x0442;&#x043E;&#x0440;&#x043D;&#x044B;&#x0445; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x0430;&#x0445;.</h5>
<!--l. 552--><p class="noindent" >&#x041F;&#x0440;&#x043E;&#x0432;&#x0435;&#x0440;&#x0438;&#x043C; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0443; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442;-&#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x043D;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x044F; &#x043D;&#x0430; &#x043B;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430;&#x0442;&#x043E;&#x0440;&#x043D;&#x044B;&#x0445; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x0430;&#x0445;. &#x0412; &#x043F;&#x0435;&#x0440;&#x0432;&#x0443;&#x044E; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C;, &#x0443;&#x0437;&#x043D;&#x0430;&#x0435;&#x043C; <span 
class="lati-1000">IP</span>
&#x0430;&#x0434;&#x0440;&#x0435;&#x0441;&#x0430; &#x0434;&#x0432;&#x0443;&#x0445; &#x043B;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430;&#x0442;&#x043E;&#x0440;&#x043D;&#x044B;&#x0445; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x043E;&#x0432;, &#x0441; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E; &#x0443;&#x0442;&#x0438;&#x043B;&#x0438;&#x0442;&#x044B; <span 
class="lati-1000">ifconfig</span>, &#x043E;&#x043F;&#x0438;&#x0441;&#x0430;&#x043D;&#x043D;&#x043E;&#x0439; &#x0440;&#x0430;&#x043D;&#x0435;&#x0435;. &#x0414;&#x0430;&#x043B;&#x0435;&#x0435; &#x0441;&#x043A;&#x043E;&#x043C;&#x043F;&#x0438;&#x043B;&#x0438;&#x0440;&#x0443;&#x0435;&#x043C; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;
&#x043D;&#x0430; &#x043F;&#x0435;&#x0440;&#x0432;&#x043E;&#x043C; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x0435; &#x0438; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x043D;&#x0430; &#x0432;&#x0442;&#x043E;&#x0440;&#x043E;&#x043C; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x0435;. &#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x043A;&#x043B;&#x0438;&#x0435;&#x043D;&#x0442; &#x043F;&#x0440;&#x0438;&#x043D;&#x0438;&#x043C;&#x0430;&#x0435;&#x0442; &#x0430;&#x0440;&#x0433;&#x0443;&#x043C;&#x0435;&#x043D;&#x0442;&#x0430;&#x043C;&#x0438; &#x043A;&#x043E;&#x043C;&#x0430;&#x043D;&#x0434;&#x043D;&#x043E;&#x0439;
&#x0441;&#x0442;&#x0440;&#x043E;&#x043A;&#x0438; <span 
class="lati-1000">IP </span>&#x0438; &#x043F;&#x043E;&#x0440;&#x0442; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0430;:
   <!--l. 554--><div class="lstinputlisting">
<a 
 id="x1-40001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">g4081_12@SPOComp7</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">Boyarkin</span><span 
class="lass-0900">/4</span><span 
class="lass-0900">$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">g</span><span 
class="lass-0900">++</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">pthread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">se</span><span 
class="lass-0900">.</span><span 
class="lass-0900">cpp</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">se</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">g4081_12@SPOComp7</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">Boyarkin</span><span 
class="lass-0900">/4</span><span 
class="lass-0900">$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">se</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">default</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">port</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">65100.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Wait</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clients</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">with</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">6</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">thread</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">with</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">7</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">first</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">O_o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">o_O</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ready</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">disconnect</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">GOGOGO</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">^</span><span 
class="lass-0900">CTry</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finish</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">with</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">6</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">6</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">Try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">finish</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">with</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">7</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">7</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">closed</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">g4081_12@SPOComp7</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">Boyarkin</span><span 
class="lass-0900">/4</span><span 
class="lass-0900">$</span>
   </div>
   <!--l. 556--><div class="lstinputlisting">
<a 
 id="x1-40019"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40020r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40021r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">g4081_12@SPOComp8</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">Boyarkin</span><span 
class="lass-0900">/4</span><span 
class="lass-0900">$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gcc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">.</span><span 
class="lass-0900">c</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40022r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">g4081_12@SPOComp8</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">Boyarkin</span><span 
class="lass-0900">/4</span><span 
class="lass-0900">$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">10.1.208.7</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">65100</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40023r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40024r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Connection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">established</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40025r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">Ready</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40026r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">first</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40027r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">first</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40028r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">ready</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">disconnect</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40029r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ready</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">disconnect</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40030r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">now</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">is</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">down</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">useless</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40031r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">receive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40032r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Transport</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">endpoint</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">is</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">not</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connected</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40033r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">g4081_12@SPOComp8</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">Boyarkin</span><span 
class="lass-0900">/4</span><span 
class="lass-0900">$</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40034r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40035r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40036r17"></a><span 
class="larm-0500">17</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Terminal</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40037r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">g4081_12@SPOComp8</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">Boyarkin</span><span 
class="lass-0900">/4</span><span 
class="lass-0900">$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">p8</span><span 
class="lass-0900">.1.</span><span 
class="lass-0900">cl</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">10.1.208.7</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">65100</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40038r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">Client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">created</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40039r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">Connection</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">established</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40040r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">Ready</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">send</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">messages</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40041r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">O_o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">o_O</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40042r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">O_o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">o_O</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40043r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">GOGOGO</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40044r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">Server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">GOGOGO</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40045r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">now</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">server</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">is</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">down</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">useless</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40046r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">receive</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">message</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">try</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">close</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">client</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40047r28"></a><span 
class="larm-0500">28</span></span><span 
class="lass-0900">It</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">impossible</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">to</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">shutdown</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">socket</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Transport</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">endpoint</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">is</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">not</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">connected</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-40048r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">g4081_12@SPOComp8</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">Boyarkin</span><span 
class="lass-0900">/4</span><span 
class="lass-0900">$</span>
   </div>
<!--l. 558--><p class="indent" >   &#x041A;&#x0430;&#x043A; &#x0438; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043B;&#x043E;&#x0441;&#x044C;, &#x044D;&#x043A;&#x0441;&#x043F;&#x0435;&#x0440;&#x0438;&#x043C;&#x0435;&#x043D;&#x0442;&#x044B; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0438;&#x043B;&#x0438;&#x0441;&#x044C; &#x0443;&#x0441;&#x043F;&#x0435;&#x0448;&#x043D;&#x043E;. &#x0421;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x043B;&#x0438;&#x0441;&#x044C; &#x0441;&#x0435;&#x0440;&#x0432;&#x0435;&#x0440;&#x0443; &#x0438;
&#x043D;&#x0430;&#x043E;&#x0431;&#x043E;&#x0440;&#x043E;&#x0442;.
<a 
 id="x1-40051r17"></a>
                                                                                               
                                                                                               
<h3 class="sectionHead"><span class="titlemark">1.5   </span> <a 
 id="x1-410005"></a>&#x0412;&#x044B;&#x0432;&#x043E;&#x0434;</h3>
<!--l. 562--><p class="noindent" >&#x0412; &#x0445;&#x043E;&#x0434;&#x0435; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;, &#x0431;&#x044B;&#x043B;&#x0438; &#x0440;&#x0430;&#x0441;&#x0441;&#x043C;&#x043E;&#x0442;&#x0440;&#x0435;&#x043D;&#x044B; &#x043E;&#x0441;&#x043D;&#x043E;&#x0432;&#x043D;&#x044B;&#x0435; &#x0441;&#x043F;&#x043E;&#x0441;&#x043E;&#x0431;&#x044B; &#x043C;&#x0435;&#x0436;&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x044F; &#x0432; &#x041E;&#x0421; Unix: &#x043D;&#x0430;&#x0434;&#x0435;&#x0436;&#x043D;&#x044B;&#x0435; &#x0438;
&#x043D;&#x0435;&#x043D;&#x0430;&#x0434;&#x0435;&#x0436;&#x043D;&#x044B;&#x0435; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x044B;, &#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x0438; &#x043D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B;, &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439;, &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x044B; &#x0438; &#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0430;&#x044F; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C;,
&#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x044B;.
<!--l. 564--><p class="indent" >   &#x0418;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x0438; &#x043D;&#x0435;&#x0438;&#x043C;&#x0435;&#x043D;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0435; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x044B; &#x043F;&#x043E;&#x0437;&#x0432;&#x043E;&#x043B;&#x044F;&#x044E;&#x0442; &#x043E;&#x0440;&#x0433;&#x0430;&#x043D;&#x0438;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x043E;&#x0434;&#x043D;&#x043E;&#x043D;&#x0430;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x043D;&#x0443;&#x044E; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0443; &#x043F;&#x043E; &#x0442;&#x0438;&#x043F;&#x0443; <span 
class="lati-1000">FIFO</span>. &#x0414;&#x043B;&#x044F;
&#x0434;&#x0443;&#x043F;&#x043B;&#x0435;&#x043A;&#x0441;&#x043D;&#x043E;&#x0439; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0438; &#x043C;&#x0435;&#x0436;&#x0434;&#x0443; &#x0434;&#x0432;&#x0443;&#x043C;&#x044F; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;&#x043C;&#x0438; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044E;&#x0442; &#x0434;&#x0432;&#x0430; &#x0440;&#x0430;&#x0437;&#x043D;&#x043E;&#x043D;&#x0430;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x0445; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x0430;. &#x0418;&#x0437;-&#x0437;&#x0430; &#x0442;&#x043E;&#x0433;&#x043E;, &#x0447;&#x0442;&#x043E; &#x0432;
&#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0435; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0437;&#x0430;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x043E;&#x0432;&#x0430;&#x043D;&#x043E; &#x044F;&#x0434;&#x0440;&#x043E; &#x041E;&#x0421;, &#x0432;&#x0437;&#x0430;&#x0438;&#x043C;&#x043E;&#x0434;&#x0435;&#x0439;&#x0441;&#x0442;&#x0432;&#x0438;&#x0435; &#x0443;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x0445; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432; &#x0447;&#x0435;&#x0440;&#x0435;&#x0437; &#x0441;&#x0435;&#x0442;&#x044C; &#x0441; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;
&#x043D;&#x0435;&#x0432;&#x043E;&#x0437;&#x043C;&#x043E;&#x0436;&#x043D;&#x043E;.
<!--l. 566--><p class="indent" >   &#x0412;&#x0440;&#x0435;&#x043C;&#x044F; &#x0434;&#x043E;&#x0441;&#x0442;&#x0430;&#x0432;&#x043A;&#x0438; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; &#x0432; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438; &#x0441;&#x0440;&#x0430;&#x0432;&#x043D;&#x0438;&#x043C;&#x043E; &#x0441; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0435;&#x043C; &#x0434;&#x043E;&#x0441;&#x0442;&#x0430;&#x0432;&#x043A;&#x0438; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;, &#x043E;&#x0434;&#x043D;&#x0430;&#x043A;&#x043E; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0435; &#x043D;&#x0435;&#x0441;&#x0435;&#x0442; &#x043E;&#x0431;&#x044B;&#x0447;&#x043D;&#x043E;
&#x0431;&#x043E;&#x043B;&#x044C;&#x0448;&#x0435; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x0438;, &#x0447;&#x0435;&#x043C; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;. &#x0421; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x0438; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x043D;&#x0438;&#x0439; &#x043F;&#x0440;&#x043E;&#x0449;&#x0435; &#x043E;&#x0440;&#x0433;&#x0430;&#x043D;&#x0438;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x0430;&#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439; &#x043E;&#x0431;&#x043C;&#x0435;&#x043D; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x043C;&#x0438;
&#x043C;&#x0435;&#x0436;&#x0434;&#x0443; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;&#x043C;&#x0438;, &#x0447;&#x0435;&#x043C; &#x0441; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E; &#x043A;&#x0430;&#x043D;&#x0430;&#x043B;&#x043E;&#x0432;.
<!--l. 568--><p class="indent" >   &#x0420;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x0430;&#x044F; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x044C; &#x0438; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x044B; &#x043E;&#x0431;&#x044B;&#x0447;&#x043D;&#x043E; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044E;&#x0442;&#x0441;&#x044F; &#x0432;&#x043C;&#x0435;&#x0441;&#x0442;&#x0435;. &#x0421;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x044B; &#x043F;&#x043E;&#x0437;&#x0432;&#x043E;&#x043B;&#x044F;&#x044E;&#x0442; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F; &#x043A;
&#x0440;&#x0430;&#x0437;&#x0434;&#x0435;&#x043B;&#x044F;&#x0435;&#x043C;&#x043E;&#x043C;&#x0443; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;&#x0443;. &#x0421;&#x0430;&#x043C;&#x044B;&#x0435; &#x0447;&#x0430;&#x0441;&#x0442;&#x043E; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x043C;&#x044B;&#x0435; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x044B; - &#x0431;&#x0438;&#x0442;&#x043E;&#x0432;&#x044B;&#x0435; &#x0441;&#x0435;&#x043C;&#x0430;&#x0444;&#x043E;&#x0440;&#x044B; (&#x043C;&#x044C;&#x044E;&#x0442;&#x0435;&#x043A;&#x0441;&#x044B;), &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x044B;&#x0435; &#x0430;&#x043A;&#x0442;&#x0438;&#x0432;&#x043D;&#x043E;
&#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x044E;&#x0442;&#x0441;&#x044F; &#x0434;&#x043B;&#x044F; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432;.
<!--l. 570--><p class="indent" >   &#x0421;&#x043E;&#x043A;&#x0435;&#x0442;&#x044B; - &#x044D;&#x0442;&#x043E; &#x0443;&#x043D;&#x0438;&#x0432;&#x0435;&#x0440;&#x0441;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0435; &#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E; <span 
class="lati-1000">IPC</span>, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x0435; &#x044F;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x0443;&#x043D;&#x0438;&#x0432;&#x0435;&#x0440;&#x0441;&#x0430;&#x043B;&#x044C;&#x043D;&#x044B;&#x043C;. &#x042D;&#x0442;&#x043E; &#x043E;&#x0437;&#x043D;&#x0430;&#x0447;&#x0430;&#x0435;&#x0442;, &#x0447;&#x0442;&#x043E; &#x0435;&#x0433;&#x043E; &#x043C;&#x043E;&#x0436;&#x043D;&#x043E;
&#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x0442;&#x0430;&#x043A;&#x0436;&#x0435; &#x0438; &#x0434;&#x043B;&#x044F; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x0447;&#x0438; &#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x043C;&#x0435;&#x0436;&#x0434;&#x0443; &#x0434;&#x0432;&#x0443;&#x043C;&#x044F; &#x0440;&#x0430;&#x0437;&#x043D;&#x044B;&#x043C;&#x0438; &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0435;&#x0440;&#x0430;&#x043C;&#x0438;, &#x043F;&#x043E;&#x0434;&#x043A;&#x043B;&#x044E;&#x0447;&#x0435;&#x043D;&#x043D;&#x044B;&#x043C;&#x0438; &#x043A; &#x043E;&#x0431;&#x0449;&#x0435;&#x0439; &#x0441;&#x0435;&#x0442;&#x0438;.
&#x0421;&#x043E;&#x043A;&#x0435;&#x0442;&#x044B; &#x0442;&#x0430;&#x043A; &#x0438;&#x043B;&#x0438; &#x0438;&#x043D;&#x0430;&#x0447;&#x0435; &#x0440;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x044B; &#x043D;&#x0430; &#x0431;&#x043E;&#x043B;&#x044C;&#x0448;&#x0438;&#x043D;&#x0441;&#x0442;&#x0432;&#x0435; &#x041E;&#x0421;, &#x0438; &#x0431;&#x043E;&#x043B;&#x044C;&#x0448;&#x0430;&#x044F; &#x0447;&#x0430;&#x0441;&#x0442;&#x044C; &#x0441;&#x0435;&#x0442;&#x0435;&#x0432;&#x044B;&#x0445; &#x043F;&#x0440;&#x0438;&#x043B;&#x043E;&#x0436;&#x0435;&#x043D;&#x0438;&#x0439; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x0442; &#x044D;&#x0442;&#x0443;
&#x0442;&#x0435;&#x0445;&#x043D;&#x043E;&#x043B;&#x043E;&#x0433;&#x0438;&#x044E;.
                                                                                               
                                                                                               
<a 
 id="x1-41001r103"></a>
<h3 class="sectionHead"><span class="titlemark">1.6   </span> <a 
 id="x1-420006"></a>&#x0421;&#x043F;&#x0438;&#x0441;&#x043E;&#x043A; &#x043B;&#x0438;&#x0442;&#x0435;&#x0440;&#x0430;&#x0442;&#x0443;&#x0440;&#x044B;</h3>
     <ul class="itemize1">
     <li class="itemize">&#x041C;&#x0435;&#x0436;&#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432;&#x044B;&#x0435;  &#x043A;&#x043E;&#x043C;&#x043C;&#x0443;&#x043D;&#x0438;&#x043A;&#x0430;&#x0446;&#x0438;&#x0438;  LINUX  [&#x042D;&#x043B;&#x0435;&#x043A;&#x0442;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439;  &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;].  &#8212;  URL:  <a 
href="http://citforum.ru/operating_systems/linux_pg/lpg_02.shtml" >http://citforum.ru/operating
     _systems/linux_pg/lpg_02.shtml</a> (&#x0434;&#x0430;&#x0442;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; 03.12.2016).
     </li>
     <li class="itemize">&#x0420;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430; &#x0441; &#x0441;&#x0438;&#x0433;&#x043D;&#x0430;&#x043B;&#x0430;&#x043C;&#x0438; &#x0432; Linux [&#x042D;&#x043B;&#x0435;&#x043A;&#x0442;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;]. &#8212; URL: <a 
href="https://www.ibm.com/developerworks/ru/library/l-signals_2/" >https://www.ibm.com/developerworks/ru/
     library/l-signals_2/</a> (&#x0434;&#x0430;&#x0442;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; 03.12.2016).
     </li>
     <li class="itemize">&#x041C;&#x0430;&#x043D;&#x0443;&#x0430;&#x043B; sigaction [&#x042D;&#x043B;&#x0435;&#x043A;&#x0442;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;]. &#8212; URL: <a 
href="https://www.opennet.ru/man.shtml?topic=sigaction&category=2&russian=0" >https://www.opennet.ru/man.shtml?topic=sigaction&amp;
     category=2&amp;russian=0</a> (&#x0434;&#x0430;&#x0442;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; 03.12.2016).
     </li>
     <li class="itemize">&#x041C;&#x0430;&#x043D;&#x0443;&#x0430;&#x043B;
     sigemptyset  [&#x042D;&#x043B;&#x0435;&#x043A;&#x0442;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439;  &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;].  &#8212;  URL:  <a 
href="https://www.opennet.ru/man.shtml?topic=sigemptyset&category=3&russian=0" >https://www.opennet.ru/man.shtml?topic=sigemptyset&amp;
     category=3&amp;russian=0</a> (&#x0434;&#x0430;&#x0442;&#x0430; &#x043E;&#x0431;&#x0440;&#x0430;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; 03.12.2016).
     </li>
     <li class="itemize">&#x0420;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430; &#x0441; &#x0441;&#x043E;&#x043A;&#x0435;&#x0442;&#x0430;&#x043C;&#x0438; [&#x042D;&#x043B;&#x0435;&#x043A;&#x0442;&#x0440;&#x043E;&#x043D;&#x043D;&#x044B;&#x0439; &#x0440;&#x0435;&#x0441;&#x0443;&#x0440;&#x0441;]. &#8212; URL: <a 
href="http://citforum.ru/programming/unix/sockets/" >http://citforum.ru/programming/unix/sockets/</a> (&#x0434;&#x0430;&#x0442;&#x0430;
     &#x043E;&#x0431;&#x0440;&#x0430;&#x0449;&#x0435;&#x043D;&#x0438;&#x044F; 03.12.2016).
     </li></ul>
    
</body></html> 

                                                                                               


